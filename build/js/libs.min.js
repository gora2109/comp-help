var __defProp=Object.defineProperty,__getOwnPropSymbols=Object.getOwnPropertySymbols,__hasOwnProp=Object.prototype.hasOwnProperty,__propIsEnum=Object.prototype.propertyIsEnumerable,__defNormalProp=(e,t,i)=>t in e?__defProp(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i,__spreadValues=(e,t)=>{for(var i in t||(t={}))__hasOwnProp.call(t,i)&&__defNormalProp(e,i,t[i]);if(__getOwnPropSymbols)for(var i of __getOwnPropSymbols(t))__propIsEnum.call(t,i)&&__defNormalProp(e,i,t[i]);return e},__publicField=(e,t,i)=>(__defNormalProp(e,"symbol"!=typeof t?t+"":t,i),i);!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).JustValidate=t()}(this,function(){"use strict";const e=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,t=/^[0-9]+$/,i=/^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]{8,}$/,s=/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,}$/;var n=(e=>(e.Required="required",e.Email="email",e.MinLength="minLength",e.MaxLength="maxLength",e.Password="password",e.Number="number",e.MaxNumber="maxNumber",e.MinNumber="minNumber",e.StrongPassword="strongPassword",e.CustomRegexp="customRegexp",e.MinFilesCount="minFilesCount",e.MaxFilesCount="maxFilesCount",e.Files="files",e))(n||{}),r=(e=>(e.Required="required",e))(r||{}),a=(e=>(e.Label="label",e.LabelArrow="labelArrow",e))(a||{});const o=e=>!!e&&"function"==typeof e.then,l=e=>Array.isArray(e)?e.filter(e=>e.length>0):"string"==typeof e&&e.trim()?[...e.split(" ").filter(e=>e.length>0)]:[],c={errorFieldStyle:{color:"#b81111",border:"1px solid #B81111"},errorFieldCssClass:"just-validate-error-field",successFieldCssClass:"just-validate-success-field",errorLabelStyle:{color:"#b81111"},errorLabelCssClass:"just-validate-error-label",successLabelCssClass:"just-validate-success-label",focusInvalidField:!0,lockForm:!0,testingMode:!1};return class{constructor(e,t,i){__publicField(this,"form",null),__publicField(this,"fields",{}),__publicField(this,"groupFields",{}),__publicField(this,"errors",{}),__publicField(this,"isValid",!1),__publicField(this,"isSubmitted",!1),__publicField(this,"globalConfig",c),__publicField(this,"errorLabels",{}),__publicField(this,"successLabels",{}),__publicField(this,"eventListeners",[]),__publicField(this,"dictLocale",[]),__publicField(this,"currentLocale"),__publicField(this,"customStyleTags",{}),__publicField(this,"onSuccessCallback"),__publicField(this,"onFailCallback"),__publicField(this,"tooltips",[]),__publicField(this,"lastScrollPosition"),__publicField(this,"isScrollTick"),__publicField(this,"refreshAllTooltips",()=>{this.tooltips.forEach(e=>{e.refresh()})}),__publicField(this,"handleDocumentScroll",()=>{this.lastScrollPosition=window.scrollY,this.isScrollTick||(window.requestAnimationFrame(()=>{this.refreshAllTooltips(),this.isScrollTick=!1}),this.isScrollTick=!0)}),__publicField(this,"formSubmitHandler",e=>{e.preventDefault(),this.isSubmitted=!0,this.validateHandler(e)}),__publicField(this,"handleFieldChange",e=>{let t;for(const i in this.fields)if(this.fields[i].elem===e){t=i;break}t&&this.validateField(t,!0)}),__publicField(this,"handleGroupChange",e=>{let t,i;for(const s in this.groupFields){const n=this.groupFields[s];if(n.elems.find(t=>t===e)){t=n,i=s;break}}t&&i&&this.validateGroup(i,t)}),__publicField(this,"handlerChange",e=>{e.target&&(this.handleFieldChange(e.target),this.handleGroupChange(e.target),this.renderErrors())}),this.initialize(e,t,i)}initialize(e,t,i){if(this.form=null,this.errors={},this.isValid=!1,this.isSubmitted=!1,this.globalConfig=c,this.errorLabels={},this.successLabels={},this.eventListeners=[],this.customStyleTags={},this.tooltips=[],"string"==typeof e){const t=document.querySelector(e);if(!t)throw Error(`Form with ${e} selector not found! Please check the form selector`);this.setForm(t)}else{if(!(e instanceof HTMLFormElement))throw Error("Form selector is not valid. Please specify a string selector or a DOM element.");this.setForm(e)}if(this.globalConfig=__spreadValues(__spreadValues({},c),t),i&&(this.dictLocale=i),this.isTooltip()){const e=document.createElement("style");e.textContent=".just-validate-error-label[data-tooltip=true]{position:fixed;padding:4px 8px;background:#423f3f;color:#fff;white-space:nowrap;z-index:10;border-radius:4px;transform:translateY(-5px)}.just-validate-error-label[data-tooltip=true]:before{content:'';width:0;height:0;border-left:solid 5px transparent;border-right:solid 5px transparent;border-bottom:solid 5px #423f3f;position:absolute;z-index:3;display:block;bottom:-5px;transform:rotate(180deg);left:calc(50% - 5px)}.just-validate-error-label[data-tooltip=true][data-direction=left]{transform:translateX(-5px)}.just-validate-error-label[data-tooltip=true][data-direction=left]:before{right:-7px;bottom:auto;left:auto;top:calc(50% - 2px);transform:rotate(90deg)}.just-validate-error-label[data-tooltip=true][data-direction=right]{transform:translateX(5px)}.just-validate-error-label[data-tooltip=true][data-direction=right]:before{right:auto;bottom:auto;left:-7px;top:calc(50% - 2px);transform:rotate(-90deg)}.just-validate-error-label[data-tooltip=true][data-direction=bottom]{transform:translateY(5px)}.just-validate-error-label[data-tooltip=true][data-direction=bottom]:before{right:auto;bottom:auto;left:calc(50% - 5px);top:-5px;transform:rotate(0)}",this.customStyleTags[a.Label]=document.head.appendChild(e),this.addListener("scroll",document,this.handleDocumentScroll)}}getLocalisedString(e){var t;return this.currentLocale&&this.dictLocale.length&&(null==(t=this.dictLocale.find(t=>t.key===e))?void 0:t.dict[this.currentLocale])||e}getFieldErrorMessage(e,t){const i="function"==typeof e.errorMessage?e.errorMessage(this.getElemValue(t),this.fields):e.errorMessage;return this.getLocalisedString(i)||((e,t)=>{switch(e){case n.Required:return"The field is required";case n.Email:return"Email has invalid format";case n.MaxLength:return"The field must contain a maximum of :value characters".replace(":value",String(t));case n.MinLength:return"The field must contain a minimum of :value characters".replace(":value",String(t));case n.Password:return"Password must contain minimum eight characters, at least one letter and one number";case n.Number:return"Value should be a number";case n.StrongPassword:return"Password should contain minimum eight characters, at least one uppercase letter, one lowercase letter, one number and one special character";case n.MaxNumber:return"Number should be less or equal than :value".replace(":value",String(t));case n.MinNumber:return"Number should be more or equal than :value".replace(":value",String(t));case n.MinFilesCount:return"Files count should be more or equal than :value".replace(":value",String(t));case n.MaxFilesCount:return"Files count should be less or equal than :value".replace(":value",String(t));case n.Files:return"Uploaded files have one or several invalid properties (extension/size/type etc)";default:return"Value is incorrect"}})(e.rule,e.value)}getFieldSuccessMessage(e,t){const i="function"==typeof e?e(this.getElemValue(t),this.fields):e;return this.getLocalisedString(i)}getGroupErrorMessage(e){return this.getLocalisedString(e.errorMessage)||(e.rule===r.Required?"The field is required":"Group is incorrect")}getGroupSuccessMessage(e){return this.getLocalisedString(e.successMessage)}setFieldInvalid(e,t){this.fields[e].isValid=!1,this.fields[e].errorMessage=this.getFieldErrorMessage(t,this.fields[e].elem)}setFieldValid(e,t){this.fields[e].isValid=!0,void 0!==t&&(this.fields[e].successMessage=this.getFieldSuccessMessage(t,this.fields[e].elem))}setGroupInvalid(e,t){this.groupFields[e].isValid=!1,this.groupFields[e].errorMessage=this.getGroupErrorMessage(t)}setGroupValid(e,t){this.groupFields[e].isValid=!0,this.groupFields[e].successMessage=this.getGroupSuccessMessage(t)}getElemValue(e){switch(e.type){case"checkbox":return e.checked;case"file":return e.files;default:return e.value}}validateGroupRule(e,t,i){i.rule===r.Required&&(t.every(e=>!e.checked)?this.setGroupInvalid(e,i):this.setGroupValid(e,i))}validateFieldRule(r,a,l,c=!1){const h=l.value,u=this.getElemValue(a);var d;if(l.plugin)l.plugin(u,this.fields)||this.setFieldInvalid(r,l);else switch(l.rule){case n.Required:(e=>{let t=u;return"string"==typeof u&&(t=u.trim()),!t})()&&this.setFieldInvalid(r,l);break;case n.Email:if("string"!=typeof u){this.setFieldInvalid(r,l);break}d=u,e.test(d)||this.setFieldInvalid(r,l);break;case n.MaxLength:if(void 0===h){console.error(`Value for ${l.rule} rule for [${r}] field is not defined. The field will be always invalid.`),this.setFieldInvalid(r,l);break}if("number"!=typeof h){console.error(`Value for ${l.rule} rule for [${r}] should be a number. The field will be always invalid.`),this.setFieldInvalid(r,l);break}if("string"!=typeof u){this.setFieldInvalid(r,l);break}if(""===u)break;((e,t)=>e.length>t)(u,h)&&this.setFieldInvalid(r,l);break;case n.MinLength:if(void 0===h){console.error(`Value for ${l.rule} rule for [${r}] field is not defined. The field will be always invalid.`),this.setFieldInvalid(r,l);break}if("number"!=typeof h){console.error(`Value for ${l.rule} rule for [${r}] should be a number. The field will be always invalid.`),this.setFieldInvalid(r,l);break}if("string"!=typeof u){this.setFieldInvalid(r,l);break}if(""===u)break;((e,t)=>e.length<t)(u,h)&&this.setFieldInvalid(r,l);break;case n.Password:if("string"!=typeof u){this.setFieldInvalid(r,l);break}if(""===u)break;(e=>i.test(e))(u)||this.setFieldInvalid(r,l);break;case n.StrongPassword:if("string"!=typeof u){this.setFieldInvalid(r,l);break}if(""===u)break;(e=>s.test(e))(u)||this.setFieldInvalid(r,l);break;case n.Number:if("string"!=typeof u){this.setFieldInvalid(r,l);break}if(""===u)break;(e=>t.test(e))(u)||this.setFieldInvalid(r,l);break;case n.MaxNumber:{if(void 0===h){console.error(`Value for ${l.rule} rule for [${r}] field is not defined. The field will be always invalid.`),this.setFieldInvalid(r,l);break}if("number"!=typeof h){console.error(`Value for ${l.rule} rule for [${r}] field should be a number. The field will be always invalid.`),this.setFieldInvalid(r,l);break}if("string"!=typeof u){this.setFieldInvalid(r,l);break}if(""===u)break;const e=+u;(Number.isNaN(e)||((e,t)=>e>t)(e,h))&&this.setFieldInvalid(r,l);break}case n.MinNumber:{if(void 0===h){console.error(`Value for ${l.rule} rule for [${r}] field is not defined. The field will be always invalid.`),this.setFieldInvalid(r,l);break}if("number"!=typeof h){console.error(`Value for ${l.rule} rule for [${r}] field should be a number. The field will be always invalid.`),this.setFieldInvalid(r,l);break}if("string"!=typeof u){this.setFieldInvalid(r,l);break}if(""===u)break;const e=+u;(Number.isNaN(e)||((e,t)=>e<t)(e,h))&&this.setFieldInvalid(r,l);break}case n.CustomRegexp:{if(void 0===h)return console.error(`Value for ${l.rule} rule for [${r}] field is not defined. This field will be always invalid.`),void this.setFieldInvalid(r,l);let e;try{e=new RegExp(h)}catch(e){console.error(`Value for ${l.rule} rule for [${r}] should be a valid regexp. This field will be always invalid.`),this.setFieldInvalid(r,l);break}const t=String(u);""===t||e.test(t)||this.setFieldInvalid(r,l);break}case n.MinFilesCount:if(void 0===h){console.error(`Value for ${l.rule} rule for [${r}] field is not defined. This field will be always invalid.`),this.setFieldInvalid(r,l);break}if("number"!=typeof h){console.error(`Value for ${l.rule} rule for [${r}] field should be a number. The field will be always invalid.`),this.setFieldInvalid(r,l);break}if(Number.isFinite(null==u?void 0:u.length)&&u.length<h){this.setFieldInvalid(r,l);break}break;case n.MaxFilesCount:if(void 0===h){console.error(`Value for ${l.rule} rule for [${r}] field is not defined. This field will be always invalid.`),this.setFieldInvalid(r,l);break}if("number"!=typeof h){console.error(`Value for ${l.rule} rule for [${r}] field should be a number. The field will be always invalid.`),this.setFieldInvalid(r,l);break}if(Number.isFinite(null==u?void 0:u.length)&&u.length>h){this.setFieldInvalid(r,l);break}break;case n.Files:{if(void 0===h)return console.error(`Value for ${l.rule} rule for [${r}] field is not defined. This field will be always invalid.`),void this.setFieldInvalid(r,l);if("object"!=typeof h)return console.error(`Value for ${l.rule} rule for [${r}] field should be an object. This field will be always invalid.`),void this.setFieldInvalid(r,l);const e=h.files;if("object"!=typeof e)return console.error(`Value for ${l.rule} rule for [${r}] field should be an object with files array. This field will be always invalid.`),void this.setFieldInvalid(r,l);const t=(e,t)=>{const i=Number.isFinite(t.minSize)&&e.size<t.minSize,s=Number.isFinite(t.maxSize)&&e.size>t.maxSize,n=Array.isArray(t.names)&&!t.names.includes(e.name),r=Array.isArray(t.extensions)&&!t.extensions.includes(e.name.split(".")[e.name.split(".").length-1]),a=Array.isArray(t.types)&&!t.types.includes(e.type);return i||s||n||r||a};if("object"==typeof u&&null!==u)for(let i=0,s=u.length;i<s;++i){const s=u.item(i);if(!s){this.setFieldInvalid(r,l);break}if(t(s,e)){this.setFieldInvalid(r,l);break}}break}default:{if("function"!=typeof l.validator)return console.error(`Validator for custom rule for [${r}] field should be a function. This field will be always invalid.`),void this.setFieldInvalid(r,l);const e=l.validator(u,this.fields);if("boolean"!=typeof e&&"function"!=typeof e&&console.error(`Validator return value for [${r}] field should be boolean or function. It will be cast to boolean.`),"function"==typeof e){if(!c){this.fields[r].asyncCheckPending=!1;const t=e();return o(t)?t.then(e=>{e||this.setFieldInvalid(r,l)}).catch(()=>{this.setFieldInvalid(r,l)}):(console.error(`Validator function for custom rule for [${r}] field should return a Promise. This field will be always invalid.`),void this.setFieldInvalid(r,l))}this.fields[r].asyncCheckPending=!0}e||this.setFieldInvalid(r,l)}}}validateField(e,t=!1){var i;const s=this.fields[e];s.isValid=!0;const n=[];return[...s.rules].reverse().forEach(i=>{const r=this.validateFieldRule(e,s.elem,i,t);o(r)&&n.push(r)}),s.isValid&&this.setFieldValid(e,null==(i=s.config)?void 0:i.successMessage),Promise.allSettled(n)}revalidateField(e){if("string"!=typeof e)throw Error("Field selector is not valid. Please specify a string selector.");return this.fields[e]?new Promise(t=>{this.validateField(e,!0).finally(()=>{this.clearFieldStyle(e),this.clearFieldLabel(e),this.renderFieldError(e),t(!!this.fields[e].isValid)})}):(console.error("Field not found. Check the field selector."),Promise.reject())}validateGroup(e,t){const i=[];return[...t.rules].reverse().forEach(s=>{const n=this.validateGroupRule(e,t.elems,s);o(n)&&i.push(n)}),Promise.allSettled(i)}focusInvalidField(){for(const e in this.fields){const t=this.fields[e];if(!t.isValid){setTimeout(()=>t.elem.focus(),0);break}}}afterSubmitValidation(e=!1){this.renderErrors(e),this.globalConfig.focusInvalidField&&this.focusInvalidField()}validate(e=!1){return new Promise(t=>{const i=[];Object.keys(this.fields).forEach(e=>{const t=this.validateField(e);o(t)&&i.push(t)}),Object.keys(this.groupFields).forEach(e=>{const t=this.groupFields[e],s=this.validateGroup(e,t);o(s)&&i.push(s)}),i.length?Promise.allSettled(i).then(()=>{this.afterSubmitValidation(e),t(!0)}):(this.afterSubmitValidation(e),t(!1))})}revalidate(){return new Promise(e=>{this.validateHandler(void 0,!0).finally(()=>{this.globalConfig.focusInvalidField&&this.focusInvalidField(),e(this.isValid)})})}validateHandler(e,t=!1){return this.globalConfig.lockForm&&this.lockForm(),this.validate(t).finally(()=>{var t,i;this.globalConfig.lockForm&&this.unlockForm(),this.isValid?null==(t=this.onSuccessCallback)||t.call(this,e):null==(i=this.onFailCallback)||i.call(this,this.fields,this.groupFields)})}setForm(e){this.form=e,this.form.setAttribute("novalidate","novalidate"),this.removeListener("submit",this.form,this.formSubmitHandler),this.addListener("submit",this.form,this.formSubmitHandler)}addListener(e,t,i){t.addEventListener(e,i),this.eventListeners.push({type:e,elem:t,func:i})}removeListener(e,t,i){t.removeEventListener(e,i),this.eventListeners=this.eventListeners.filter(i=>i.type!==e||i.elem!==t)}addField(e,t,i){if("string"!=typeof e)throw Error("Field selector is not valid. Please specify a string selector.");const s=this.form.querySelector(e);if(!s)throw Error(`Field with ${e} selector not found! Please check the field selector.`);if(!Array.isArray(t)||!t.length)throw Error(`Rules argument for the field [${e}] should be an array and should contain at least 1 element.`);return t.forEach(t=>{if(!("rule"in t||"validator"in t||"plugin"in t))throw Error(`Rules argument for the field [${e}] must contain at least one rule or validator property.`);if(!(t.validator||t.plugin||t.rule&&Object.values(n).includes(t.rule)))throw Error(`Rule should be one of these types: ${Object.values(n).join(", ")}. Provided value: ${t.rule}`)}),this.fields[e]={elem:s,rules:t,isValid:void 0,config:i},this.setListeners(s),this.isSubmitted&&this.validate(),this}removeField(e){if("string"!=typeof e)throw Error("Field selector is not valid. Please specify a string selector.");if(!this.fields[e])return console.error("Field not found. Check the field selector."),this;const t=this.getListenerType(this.fields[e].elem.type);return this.removeListener(t,this.fields[e].elem,this.handlerChange),this.clearErrors(),delete this.fields[e],this}removeGroup(e){if("string"!=typeof e)throw Error("Group selector is not valid. Please specify a string selector.");return this.groupFields[e]?(this.groupFields[e].elems.forEach(e=>{const t=this.getListenerType(e.type);this.removeListener(t,e,this.handlerChange)}),this.clearErrors(),delete this.groupFields[e],this):(console.error("Group not found. Check the group selector."),this)}addRequiredGroup(e,t,i,s){if("string"!=typeof e)throw Error("Group selector is not valid. Please specify a string selector.");const n=this.form.querySelector(e);if(!n)throw Error(`Group with ${e} selector not found! Please check the group selector.`);const a=n.querySelectorAll("input"),o=Array.from(a).filter(e=>{const t=((e,t)=>{const i=[...t].reverse();for(let t=0,s=i.length;t<s;++t){const s=i[t];for(const t in e){const i=e[t];if(i.groupElem===s)return[t,i]}}return null})(this.groupFields,(e=>{let t=e;const i=[];for(;t;)i.unshift(t),t=t.parentNode;return i})(e));return!t||t[1].elems.find(t=>t!==e)});return this.groupFields[e]={rules:[{rule:r.Required,errorMessage:t,successMessage:s}],groupElem:n,elems:o,isDirty:!1,isValid:void 0,config:i},a.forEach(e=>{this.setListeners(e)}),this}getListenerType(e){switch(e){case"checkbox":case"select-one":case"file":case"radio":return"change";default:return"input"}}setListeners(e){const t=this.getListenerType(e.type);this.removeListener(t,e,this.handlerChange),this.addListener(t,e,this.handlerChange)}clearFieldLabel(e){var t,i;null==(t=this.errorLabels[e])||t.remove(),null==(i=this.successLabels[e])||i.remove()}clearFieldStyle(e){var t,i,s,n;const r=this.fields[e],a=(null==(t=r.config)?void 0:t.errorFieldStyle)||this.globalConfig.errorFieldStyle;Object.keys(a).forEach(e=>{r.elem.style[e]=""});const o=(null==(i=r.config)?void 0:i.successFieldStyle)||this.globalConfig.successFieldStyle||{};Object.keys(o).forEach(e=>{r.elem.style[e]=""}),r.elem.classList.remove(...l((null==(s=r.config)?void 0:s.errorFieldCssClass)||this.globalConfig.errorFieldCssClass),...l((null==(n=r.config)?void 0:n.successFieldCssClass)||this.globalConfig.successFieldCssClass))}clearErrors(){var e,t;Object.keys(this.errorLabels).forEach(e=>this.errorLabels[e].remove()),Object.keys(this.successLabels).forEach(e=>this.successLabels[e].remove());for(const e in this.fields)this.clearFieldStyle(e);for(const i in this.groupFields){const s=this.groupFields[i],n=(null==(e=s.config)?void 0:e.errorFieldStyle)||this.globalConfig.errorFieldStyle;Object.keys(n).forEach(e=>{s.elems.forEach(t=>{var i;t.style[e]="",t.classList.remove(...l((null==(i=s.config)?void 0:i.errorFieldCssClass)||this.globalConfig.errorFieldCssClass))})});const r=(null==(t=s.config)?void 0:t.successFieldStyle)||this.globalConfig.successFieldStyle||{};Object.keys(r).forEach(e=>{s.elems.forEach(t=>{var i;t.style[e]="",t.classList.remove(...l((null==(i=s.config)?void 0:i.successFieldCssClass)||this.globalConfig.successFieldCssClass))})})}this.tooltips=[]}isTooltip(){return!!this.globalConfig.tooltip}lockForm(){const e=this.form.querySelectorAll("input, textarea, button, select");for(let t=0,i=e.length;t<i;++t)e[t].setAttribute("data-just-validate-fallback-disabled",e[t].disabled?"true":"false"),e[t].setAttribute("disabled","disabled"),e[t].style.pointerEvents="none",e[t].style.webkitFilter="grayscale(100%)",e[t].style.filter="grayscale(100%)"}unlockForm(){const e=this.form.querySelectorAll("input, textarea, button, select");for(let t=0,i=e.length;t<i;++t)"true"!==e[t].getAttribute("data-just-validate-fallback-disabled")&&e[t].removeAttribute("disabled"),e[t].style.pointerEvents="",e[t].style.webkitFilter="",e[t].style.filter=""}renderTooltip(e,t,i){var s;const{top:n,left:r,width:a,height:o}=e.getBoundingClientRect(),l=t.getBoundingClientRect(),c=i||(null==(s=this.globalConfig.tooltip)?void 0:s.position);switch(c){case"left":t.style.top=n+o/2-l.height/2+"px",t.style.left=r-l.width-5+"px";break;case"top":t.style.top=n-l.height-5+"px",t.style.left=r+a/2-l.width/2+"px";break;case"right":t.style.top=n+o/2-l.height/2+"px",t.style.left=`${r+a+5}px`;break;case"bottom":t.style.top=`${n+o+5}px`,t.style.left=r+a/2-l.width/2+"px"}return t.dataset.direction=c,{refresh:()=>{this.renderTooltip(e,t,i)}}}createErrorLabelElem(e,t,i){const s=document.createElement("div");s.innerHTML=t;const n=this.isTooltip()?null==i?void 0:i.errorLabelStyle:(null==i?void 0:i.errorLabelStyle)||this.globalConfig.errorLabelStyle;return Object.assign(s.style,n),s.classList.add(...l((null==i?void 0:i.errorLabelCssClass)||this.globalConfig.errorLabelCssClass),"just-validate-error-label"),this.isTooltip()&&(s.dataset.tooltip="true"),this.globalConfig.testingMode&&(s.dataset.testId=`error-label-${e}`),this.errorLabels[e]=s,s}createSuccessLabelElem(e,t,i){if(void 0===t)return null;const s=document.createElement("div");s.innerHTML=t;const n=(null==i?void 0:i.successLabelStyle)||this.globalConfig.successLabelStyle;return Object.assign(s.style,n),s.classList.add(...l((null==i?void 0:i.successLabelCssClass)||this.globalConfig.successLabelCssClass),"just-validate-success-label"),this.globalConfig.testingMode&&(s.dataset.testId=`success-label-${e}`),this.successLabels[e]=s,s}renderErrorsContainer(e,t){const i=t||this.globalConfig.errorsContainer;if("string"==typeof i){const t=this.form.querySelector(i);if(t)return t.appendChild(e),!0;console.error(`Error container with ${i} selector not found. Errors will be rendered as usual`)}return i instanceof Element?(i.appendChild(e),!0):(void 0!==i&&console.error("Error container not found. It should be a string or existing Element. Errors will be rendered as usual"),!1)}renderGroupLabel(e,t,i,s){!s&&this.renderErrorsContainer(t,i)||e.appendChild(t)}renderFieldLabel(e,t,i,s){var n,r,a,o,l,c,h;if(s||!this.renderErrorsContainer(t,i))if("checkbox"===e.type||"radio"===e.type){const i=document.querySelector(`label[for="${e.getAttribute("id")}"]`);"label"===(null==(r=null==(n=e.parentElement)?void 0:n.tagName)?void 0:r.toLowerCase())?null==(o=null==(a=e.parentElement)?void 0:a.parentElement)||o.appendChild(t):i?null==(l=i.parentElement)||l.appendChild(t):null==(c=e.parentElement)||c.appendChild(t)}else null==(h=e.parentElement)||h.appendChild(t)}showLabels(e,t){Object.keys(e).forEach((i,s)=>{const n=e[i],r=this.fields[i];r.isValid=!t,this.clearFieldStyle(i),this.clearFieldLabel(i),this.renderFieldError(i,n),0===s&&this.globalConfig.focusInvalidField&&setTimeout(()=>r.elem.focus(),0)})}showErrors(e){if("object"!=typeof e)throw Error("[showErrors]: Errors should be an object with key: value format");this.showLabels(e,!0)}showSuccessLabels(e){if("object"!=typeof e)throw Error("[showSuccessLabels]: Labels should be an object with key: value format");this.showLabels(e,!1)}renderFieldError(e,t){var i,s,n,r,a,o;const c=this.fields[e];if(c.isValid){if(!c.asyncCheckPending){const n=this.createSuccessLabelElem(e,void 0!==t?t:c.successMessage,c.config);n&&this.renderFieldLabel(c.elem,n,null==(i=c.config)?void 0:i.errorsContainer,!0),c.elem.classList.add(...l((null==(s=c.config)?void 0:s.successFieldCssClass)||this.globalConfig.successFieldCssClass))}return}this.isValid=!1,c.elem.classList.add(...l((null==(n=c.config)?void 0:n.errorFieldCssClass)||this.globalConfig.errorFieldCssClass));const h=this.createErrorLabelElem(e,void 0!==t?t:c.errorMessage,c.config);this.renderFieldLabel(c.elem,h,null==(r=c.config)?void 0:r.errorsContainer),this.isTooltip()&&this.tooltips.push(this.renderTooltip(c.elem,h,null==(o=null==(a=c.config)?void 0:a.tooltip)?void 0:o.position))}renderErrors(e=!1){var t,i,s,n;if(this.isSubmitted||e){this.clearErrors(),this.isValid=!0;for(const e in this.groupFields){const r=this.groupFields[e];if(r.isValid){r.elems.forEach(e=>{var t,i;Object.assign(e.style,(null==(t=r.config)?void 0:t.successFieldStyle)||this.globalConfig.successFieldStyle),e.classList.add(...l((null==(i=r.config)?void 0:i.successFieldCssClass)||this.globalConfig.successFieldCssClass))});const i=this.createSuccessLabelElem(e,r.successMessage,r.config);i&&this.renderGroupLabel(r.groupElem,i,null==(t=r.config)?void 0:t.errorsContainer,!0);continue}this.isValid=!1,r.elems.forEach(e=>{var t,i;Object.assign(e.style,(null==(t=r.config)?void 0:t.errorFieldStyle)||this.globalConfig.errorFieldStyle),e.classList.add(...l((null==(i=r.config)?void 0:i.errorFieldCssClass)||this.globalConfig.errorFieldCssClass))});const a=this.createErrorLabelElem(e,r.errorMessage,r.config);this.renderGroupLabel(r.groupElem,a,null==(i=r.config)?void 0:i.errorsContainer),this.isTooltip()&&this.tooltips.push(this.renderTooltip(r.groupElem,a,null==(n=null==(s=r.config)?void 0:s.tooltip)?void 0:n.position))}for(const e in this.fields)this.renderFieldError(e)}}destroy(){this.eventListeners.forEach(e=>{this.removeListener(e.type,e.elem,e.func)}),Object.keys(this.customStyleTags).forEach(e=>{this.customStyleTags[e].remove()}),this.clearErrors(),this.globalConfig.lockForm&&this.unlockForm()}refresh(){this.destroy(),this.form?(this.initialize(this.form,this.globalConfig),Object.keys(this.fields).forEach(e=>{this.addField(e,[...this.fields[e].rules],this.fields[e].config)})):console.error("Cannot initialize the library! Form is not defined")}setCurrentLocale(e){"string"==typeof e||void 0===e?(this.currentLocale=e,this.isSubmitted&&this.validate()):console.error("Current locale should be a string")}onSuccess(e){return this.onSuccessCallback=e,this}onFail(e){return this.onFailCallback=e,this}}}),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).IMask={})}(this,function(e){"use strict";var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},i=function(e){return e&&e.Math==Math&&e},s=i("object"==typeof globalThis&&globalThis)||i("object"==typeof window&&window)||i("object"==typeof self&&self)||i("object"==typeof t&&t)||function(){return this}()||Function("return this")(),n={},r=function(e){try{return!!e()}catch(e){return!0}},a=!r(function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}),o=!r(function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")}),l=o,c=Function.prototype.call,h=l?c.bind(c):function(){return c.apply(c,arguments)},u={},d={}.propertyIsEnumerable,p=Object.getOwnPropertyDescriptor,f=p&&!d.call({1:2},1);u.f=f?function(e){var t=p(this,e);return!!t&&t.enumerable}:d;var m,g,v=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}},y=o,b=Function.prototype,w=b.bind,x=b.call,_=y&&w.bind(x,x),k=y?function(e){return e&&_(e)}:function(e){return e&&function(){return x.apply(e,arguments)}},E=k,S=E({}.toString),C=E("".slice),T=function(e){return C(S(e),8,-1)},M=k,P=r,A=T,O=s.Object,D=M("".split),L=P(function(){return!O("z").propertyIsEnumerable(0)})?function(e){return"String"==A(e)?D(e,""):O(e)}:O,I=s.TypeError,$=function(e){if(null==e)throw I("Can't call method on "+e);return e},F=L,N=$,R=function(e){return F(N(e))},j=function(e){return"function"==typeof e},z=j,B=function(e){return"object"==typeof e?null!==e:z(e)},V=s,H=j,W=function(e,t){return arguments.length<2?function(e){return H(e)?e:void 0}(V[e]):V[e]&&V[e][t]},Y=k({}.isPrototypeOf),q=W("navigator","userAgent")||"",U=s,G=q,X=U.process,K=U.Deno,Z=X&&X.versions||K&&K.version,J=Z&&Z.v8;J&&(g=(m=J.split("."))[0]>0&&m[0]<4?1:+(m[0]+m[1])),!g&&G&&(!(m=G.match(/Edge\/(\d+)/))||m[1]>=74)&&(m=G.match(/Chrome\/(\d+)/))&&(g=+m[1]);var Q=g,ee=r,te=!!Object.getOwnPropertySymbols&&!ee(function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&Q&&Q<41}),ie=te&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,se=W,ne=j,re=Y,ae=ie,oe=s.Object,le=ae?function(e){return"symbol"==typeof e}:function(e){var t=se("Symbol");return ne(t)&&re(t.prototype,oe(e))},ce=s.String,he=j,ue=s.TypeError,de=function(e){if(he(e))return e;throw ue(function(e){try{return ce(e)}catch(e){return"Object"}}(e)+" is not a function")},pe=h,fe=j,me=B,ge=s.TypeError,ve={exports:{}},ye=s,be=Object.defineProperty,we=function(e,t){try{be(ye,e,{value:t,configurable:!0,writable:!0})}catch(i){ye[e]=t}return t},xe=we,_e="__core-js_shared__",ke=s[_e]||xe(_e,{}),Ee=ke;(ve.exports=function(e,t){return Ee[e]||(Ee[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.21.0",mode:"global",copyright:"© 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.21.0/LICENSE",source:"https://github.com/zloirock/core-js"});var Se=$,Ce=s.Object,Te=function(e){return Ce(Se(e))},Me=Te,Pe=k({}.hasOwnProperty),Ae=Object.hasOwn||function(e,t){return Pe(Me(e),t)},Oe=k,De=0,Le=Math.random(),Ie=Oe(1..toString),$e=function(e){return"Symbol("+(void 0===e?"":e)+")_"+Ie(++De+Le,36)},Fe=s,Ne=ve.exports,Re=Ae,je=$e,ze=te,Be=ie,Ve=Ne("wks"),He=Fe.Symbol,We=He&&He.for,Ye=Be?He:He&&He.withoutSetter||je,qe=function(e){if(!Re(Ve,e)||!ze&&"string"!=typeof Ve[e]){var t="Symbol."+e;ze&&Re(He,e)?Ve[e]=He[e]:Ve[e]=Be&&We?We(t):Ye(t)}return Ve[e]},Ue=h,Ge=B,Xe=le,Ke=qe,Ze=s.TypeError,Je=Ke("toPrimitive"),Qe=function(e,t){if(!Ge(e)||Xe(e))return e;var i,s=function(e,t){var i=e[t];return null==i?void 0:de(i)}(e,Je);if(s){if(void 0===t&&(t="default"),i=Ue(s,e,t),!Ge(i)||Xe(i))return i;throw Ze("Can't convert object to primitive value")}return void 0===t&&(t="number"),function(e,t){var i,s;if("string"===t&&fe(i=e.toString)&&!me(s=pe(i,e)))return s;if(fe(i=e.valueOf)&&!me(s=pe(i,e)))return s;if("string"!==t&&fe(i=e.toString)&&!me(s=pe(i,e)))return s;throw ge("Can't convert object to primitive value")}(e,t)},et=le,tt=function(e){var t=Qe(e,"string");return et(t)?t:t+""},it=B,st=s.document,nt=it(st)&&it(st.createElement),rt=!a&&!r(function(){return 7!=Object.defineProperty((e="div",nt?st.createElement(e):{}),"a",{get:function(){return 7}}).a;var e}),at=a,ot=h,lt=u,ct=v,ht=R,ut=tt,dt=Ae,pt=rt,ft=Object.getOwnPropertyDescriptor;n.f=at?ft:function(e,t){if(e=ht(e),t=ut(t),pt)try{return ft(e,t)}catch(e){}if(dt(e,t))return ct(!ot(lt.f,e,t),e[t])};var mt={},gt=a&&r(function(){return 42!=Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype}),vt=s,yt=B,bt=vt.String,wt=vt.TypeError,xt=function(e){if(yt(e))return e;throw wt(bt(e)+" is not an object")},_t=a,kt=rt,Et=gt,St=xt,Ct=tt,Tt=s.TypeError,Mt=Object.defineProperty,Pt=Object.getOwnPropertyDescriptor;mt.f=_t?Et?function(e,t,i){if(St(e),t=Ct(t),St(i),"function"==typeof e&&"prototype"===t&&"value"in i&&"writable"in i&&!i.writable){var s=Pt(e,t);s&&s.writable&&(e[t]=i.value,i={configurable:"configurable"in i?i.configurable:s.configurable,enumerable:"enumerable"in i?i.enumerable:s.enumerable,writable:!1})}return Mt(e,t,i)}:Mt:function(e,t,i){if(St(e),t=Ct(t),St(i),kt)try{return Mt(e,t,i)}catch(e){}if("get"in i||"set"in i)throw Tt("Accessors not supported");return"value"in i&&(e[t]=i.value),e};var At=mt,Ot=v,Dt=a?function(e,t,i){return At.f(e,t,Ot(1,i))}:function(e,t,i){return e[t]=i,e},Lt={exports:{}},It=j,$t=ke,Ft=k(Function.toString);It($t.inspectSource)||($t.inspectSource=function(e){return Ft(e)});var Nt,Rt,jt,zt=$t.inspectSource,Bt=j,Vt=zt,Ht=s.WeakMap,Wt=Bt(Ht)&&/native code/.test(Vt(Ht)),Yt=ve.exports,qt=$e,Ut=Yt("keys"),Gt={},Xt=Wt,Kt=s,Zt=k,Jt=B,Qt=Dt,ei=Ae,ti=ke,ii=Gt,si="Object already initialized",ni=Kt.TypeError,ri=Kt.WeakMap;if(Xt||ti.state){var ai=ti.state||(ti.state=new ri),oi=Zt(ai.get),li=Zt(ai.has),ci=Zt(ai.set);Nt=function(e,t){if(li(ai,e))throw new ni(si);return t.facade=e,ci(ai,e,t),t},Rt=function(e){return oi(ai,e)||{}},jt=function(e){return li(ai,e)}}else{var hi=function(e){return Ut[e]||(Ut[e]=qt(e))}("state");ii[hi]=!0,Nt=function(e,t){if(ei(e,hi))throw new ni(si);return t.facade=e,Qt(e,hi,t),t},Rt=function(e){return ei(e,hi)?e[hi]:{}},jt=function(e){return ei(e,hi)}}var ui={set:Nt,get:Rt,has:jt,enforce:function(e){return jt(e)?Rt(e):Nt(e,{})},getterFor:function(e){return function(t){var i;if(!Jt(t)||(i=Rt(t)).type!==e)throw ni("Incompatible receiver, "+e+" required");return i}}},di=a,pi=Ae,fi=Function.prototype,mi=di&&Object.getOwnPropertyDescriptor,gi=pi(fi,"name"),vi=gi&&(!di||di&&mi(fi,"name").configurable),yi=s,bi=j,wi=Ae,xi=Dt,_i=we,ki=zt,Ei=vi,Si=ui.get,Ci=ui.enforce,Ti=String(String).split("String");(Lt.exports=function(e,t,i,s){var n,r=!!s&&!!s.unsafe,a=!!s&&!!s.enumerable,o=!!s&&!!s.noTargetGet,l=s&&void 0!==s.name?s.name:t;bi(i)&&("Symbol("===String(l).slice(0,7)&&(l="["+String(l).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!wi(i,"name")||Ei&&i.name!==l)&&xi(i,"name",l),(n=Ci(i)).source||(n.source=Ti.join("string"==typeof l?l:""))),e!==yi?(r?!o&&e[t]&&(a=!0):delete e[t],a?e[t]=i:xi(e,t,i)):a?e[t]=i:_i(t,i)})(Function.prototype,"toString",function(){return bi(this)&&Si(this).source||ki(this)});var Mi={},Pi=Math.ceil,Ai=Math.floor,Oi=function(e){var t=+e;return t!=t||0===t?0:(t>0?Ai:Pi)(t)},Di=Oi,Li=Math.max,Ii=Math.min,$i=Oi,Fi=Math.min,Ni=function(e){return e>0?Fi($i(e),9007199254740991):0},Ri=Ni,ji=R,zi=function(e){return function(t,i,s){var n,r=ji(t),a=function(e){return Ri(e.length)}(r),o=function(e,t){var i=Di(e);return i<0?Li(i+t,0):Ii(i,t)}(s,a);if(e&&i!=i){for(;a>o;)if((n=r[o++])!=n)return!0}else for(;a>o;o++)if((e||o in r)&&r[o]===i)return e||o||0;return!e&&-1}},Bi={includes:zi(!0),indexOf:zi(!1)},Vi=Ae,Hi=R,Wi=Bi.indexOf,Yi=Gt,qi=k([].push),Ui=function(e,t){var i,s=Hi(e),n=0,r=[];for(i in s)!Vi(Yi,i)&&Vi(s,i)&&qi(r,i);for(;t.length>n;)Vi(s,i=t[n++])&&(~Wi(r,i)||qi(r,i));return r},Gi=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],Xi=Ui,Ki=Gi.concat("length","prototype");Mi.f=Object.getOwnPropertyNames||function(e){return Xi(e,Ki)};var Zi={};Zi.f=Object.getOwnPropertySymbols;var Ji=W,Qi=Mi,es=Zi,ts=xt,is=k([].concat),ss=Ji("Reflect","ownKeys")||function(e){var t=Qi.f(ts(e)),i=es.f;return i?is(t,i(e)):t},ns=Ae,rs=ss,as=n,os=mt,ls=r,cs=j,hs=/#|\.prototype\./,us=function(e,t){var i=ps[ds(e)];return i==ms||i!=fs&&(cs(t)?ls(t):!!t)},ds=us.normalize=function(e){return String(e).replace(hs,".").toLowerCase()},ps=us.data={},fs=us.NATIVE="N",ms=us.POLYFILL="P",gs=us,vs=s,ys=n.f,bs=Dt,ws=Lt.exports,xs=we,_s=function(e,t,i){for(var s=rs(t),n=os.f,r=as.f,a=0;a<s.length;a++){var o=s[a];ns(e,o)||i&&ns(i,o)||n(e,o,r(t,o))}},ks=gs,Es=function(e,t){var i,s,n,r,a,o=e.target,l=e.global,c=e.stat;if(i=l?vs:c?vs[o]||xs(o,{}):(vs[o]||{}).prototype)for(s in t){if(r=t[s],n=e.noTargetGet?(a=ys(i,s))&&a.value:i[s],!ks(l?s:o+(c?".":"#")+s,e.forced)&&void 0!==n){if(typeof r==typeof n)continue;_s(r,n)}(e.sham||n&&n.sham)&&bs(r,"sham",!0),ws(i,s,r,e)}},Ss=Ui,Cs=Gi,Ts=Object.keys||function(e){return Ss(e,Cs)},Ms=a,Ps=k,As=h,Os=r,Ds=Ts,Ls=Zi,Is=u,$s=Te,Fs=L,Ns=Object.assign,Rs=Object.defineProperty,js=Ps([].concat),zs=!Ns||Os(function(){if(Ms&&1!==Ns({b:1},Ns(Rs({},"a",{enumerable:!0,get:function(){Rs(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},i=Symbol(),s="abcdefghijklmnopqrst";return e[i]=7,s.split("").forEach(function(e){t[e]=e}),7!=Ns({},e)[i]||Ds(Ns({},t)).join("")!=s})?function(e,t){for(var i=$s(e),s=arguments.length,n=1,r=Ls.f,a=Is.f;s>n;)for(var o,l=Fs(arguments[n++]),c=r?js(Ds(l),r(l)):Ds(l),h=c.length,u=0;h>u;)o=c[u++],Ms&&!As(a,l,o)||(i[o]=l[o]);return i}:Ns;Es({target:"Object",stat:!0,forced:Object.assign!==zs},{assign:zs});var Bs={};Bs[qe("toStringTag")]="z";var Vs=s,Hs="[object z]"===String(Bs),Ws=j,Ys=T,qs=qe("toStringTag"),Us=Vs.Object,Gs="Arguments"==Ys(function(){return arguments}()),Xs=Hs?Ys:function(e){var t,i,s;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(i=function(e,t){try{return e[t]}catch(e){}}(t=Us(e),qs))?i:Gs?Ys(t):"Object"==(s=Ys(t))&&Ws(t.callee)?"Arguments":s},Ks=s.String,Zs=function(e){if("Symbol"===Xs(e))throw TypeError("Cannot convert a Symbol value to a string");return Ks(e)},Js=Oi,Qs=Zs,en=$,tn=s.RangeError,sn=function(e){var t=Qs(en(this)),i="",s=Js(e);if(s<0||s==1/0)throw tn("Wrong number of repetitions");for(;s>0;(s>>>=1)&&(t+=t))1&s&&(i+=t);return i};Es({target:"String",proto:!0},{repeat:sn});var nn=k,rn=Ni,an=Zs,on=$,ln=nn(sn),cn=nn("".slice),hn=Math.ceil,un=function(e){return function(t,i,s){var n,r,a=an(on(t)),o=rn(i),l=a.length,c=void 0===s?" ":an(s);return o<=l||""==c?a:((r=ln(c,hn((n=o-l)/c.length))).length>n&&(r=cn(r,0,n)),e?a+r:r+a)}},dn={start:un(!1),end:un(!0)},pn=/Version\/10(?:\.\d+){1,2}(?: [\w./]+)?(?: Mobile\/\w+)? Safari\//.test(q),fn=dn.start;Es({target:"String",proto:!0,forced:pn},{padStart:function(e){return fn(this,e,arguments.length>1?arguments[1]:void 0)}});var mn=dn.end;function gn(e){return(gn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function vn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yn(e,t){for(var i=0;i<t.length;i++){var s=t[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}function bn(e,t,i){return t&&yn(e.prototype,t),i&&yn(e,i),Object.defineProperty(e,"prototype",{writable:!1}),e}function wn(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_n(e,t)}function xn(e){return(xn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _n(e,t){return(_n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function kn(e,t){if(null==e)return{};var i,s,n=function(e,t){if(null==e)return{};var i,s,n={},r=Object.keys(e);for(s=0;s<r.length;s++)i=r[s],t.indexOf(i)>=0||(n[i]=e[i]);return n}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(s=0;s<r.length;s++)i=r[s],t.indexOf(i)>=0||Object.prototype.propertyIsEnumerable.call(e,i)&&(n[i]=e[i])}return n}function En(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var i,s=xn(e);if(t){var n=xn(this).constructor;i=Reflect.construct(s,arguments,n)}else i=s.apply(this,arguments);return function(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,i)}}function Sn(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=xn(e)););return e}function Cn(){return(Cn="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,i){var s=Sn(e,t);if(s){var n=Object.getOwnPropertyDescriptor(s,t);return n.get?n.get.call(arguments.length<3?e:i):n.value}}).apply(this,arguments)}function Tn(e,t,i,s){return(Tn="undefined"!=typeof Reflect&&Reflect.set?Reflect.set:function(e,t,i,s){var n,r=Sn(e,t);if(r){if((n=Object.getOwnPropertyDescriptor(r,t)).set)return n.set.call(s,i),!0;if(!n.writable)return!1}if(n=Object.getOwnPropertyDescriptor(s,t)){if(!n.writable)return!1;n.value=i,Object.defineProperty(s,t,n)}else!function(e,t,i){t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i}(s,t,i);return!0})(e,t,i,s)}function Mn(e,t,i,s,n){if(!Tn(e,t,i,s||e)&&n)throw new Error("failed to set property");return i}function Pn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var i=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=i){var s,n,r=[],a=!0,o=!1;try{for(i=i.call(e);!(a=(s=i.next()).done)&&(r.push(s.value),!t||r.length!==t);a=!0);}catch(e){o=!0,n=e}finally{try{a||null==i.return||i.return()}finally{if(o)throw n}}return r}}(e,t)||function(e,t){if(e){if("string"==typeof e)return An(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?An(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function An(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,s=new Array(t);i<t;i++)s[i]=e[i];return s}Es({target:"String",proto:!0,forced:pn},{padEnd:function(e){return mn(this,e,arguments.length>1?arguments[1]:void 0)}}),Es({global:!0},{globalThis:s});var On=function(){function e(t){vn(this,e),Object.assign(this,{inserted:"",rawInserted:"",skip:!1,tailShift:0},t)}return bn(e,[{key:"aggregate",value:function(e){return this.rawInserted+=e.rawInserted,this.skip=this.skip||e.skip,this.inserted+=e.inserted,this.tailShift+=e.tailShift,this}},{key:"offset",get:function(){return this.tailShift+this.inserted.length}}]),e}();function Dn(e){return"string"==typeof e||e instanceof String}var Ln="NONE",In="LEFT",$n="FORCE_LEFT",Fn="RIGHT",Nn="FORCE_RIGHT";function Rn(e){return e.replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1")}function jn(e){return Array.isArray(e)?e:[e,new On]}var zn=function(){function e(t,i,s,n){for(vn(this,e),this.value=t,this.cursorPos=i,this.oldValue=s,this.oldSelection=n;this.value.slice(0,this.startChangePos)!==this.oldValue.slice(0,this.startChangePos);)--this.oldSelection.start}return bn(e,[{key:"startChangePos",get:function(){return Math.min(this.cursorPos,this.oldSelection.start)}},{key:"insertedCount",get:function(){return this.cursorPos-this.startChangePos}},{key:"inserted",get:function(){return this.value.substr(this.startChangePos,this.insertedCount)}},{key:"removedCount",get:function(){return Math.max(this.oldSelection.end-this.startChangePos||this.oldValue.length-this.value.length,0)}},{key:"removed",get:function(){return this.oldValue.substr(this.startChangePos,this.removedCount)}},{key:"head",get:function(){return this.value.substring(0,this.startChangePos)}},{key:"tail",get:function(){return this.value.substring(this.startChangePos+this.insertedCount)}},{key:"removeDirection",get:function(){return!this.removedCount||this.insertedCount?Ln:this.oldSelection.end!==this.cursorPos&&this.oldSelection.start!==this.cursorPos||this.oldSelection.end!==this.oldSelection.start?In:Fn}}]),e}(),Bn=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,s=arguments.length>2?arguments[2]:void 0;vn(this,e),this.value=t,this.from=i,this.stop=s}return bn(e,[{key:"toString",value:function(){return this.value}},{key:"extend",value:function(e){this.value+=String(e)}},{key:"appendTo",value:function(e){return e.append(this.toString(),{tail:!0}).aggregate(e._appendPlaceholder())}},{key:"state",get:function(){return{value:this.value,from:this.from,stop:this.stop}},set:function(e){Object.assign(this,e)}},{key:"unshift",value:function(e){if(!this.value.length||null!=e&&this.from>=e)return"";var t=this.value[0];return this.value=this.value.slice(1),t}},{key:"shift",value:function(){if(!this.value.length)return"";var e=this.value[this.value.length-1];return this.value=this.value.slice(0,-1),e}}]),e}();function Vn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Vn.InputMask(e,t)}var Hn=function(){function e(t){vn(this,e),this._value="",this._update(Object.assign({},e.DEFAULTS,t)),this.isInitialized=!0}return bn(e,[{key:"updateOptions",value:function(e){Object.keys(e).length&&this.withValueRefresh(this._update.bind(this,e))}},{key:"_update",value:function(e){Object.assign(this,e)}},{key:"state",get:function(){return{_value:this.value}},set:function(e){this._value=e._value}},{key:"reset",value:function(){this._value=""}},{key:"value",get:function(){return this._value},set:function(e){this.resolve(e)}},{key:"resolve",value:function(e){return this.reset(),this.append(e,{input:!0},""),this.doCommit(),this.value}},{key:"unmaskedValue",get:function(){return this.value},set:function(e){this.reset(),this.append(e,{},""),this.doCommit()}},{key:"typedValue",get:function(){return this.doParse(this.value)},set:function(e){this.value=this.doFormat(e)}},{key:"rawInputValue",get:function(){return this.extractInput(0,this.value.length,{raw:!0})},set:function(e){this.reset(),this.append(e,{raw:!0},""),this.doCommit()}},{key:"isComplete",get:function(){return!0}},{key:"isFilled",get:function(){return this.isComplete}},{key:"nearestInputPos",value:function(e,t){return e}},{key:"extractInput",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.value.length;return this.value.slice(e,t)}},{key:"extractTail",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.value.length;return new Bn(this.extractInput(e,t),e)}},{key:"appendTail",value:function(e){return Dn(e)&&(e=new Bn(String(e))),e.appendTo(this)}},{key:"_appendCharRaw",value:function(e){return e?(this._value+=e,new On({inserted:e,rawInserted:e})):new On}},{key:"_appendChar",value:function(e){var t,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=arguments.length>2?arguments[2]:void 0,n=this.state,r=Pn(jn(this.doPrepare(e,i)),2);if(e=r[0],(t=(t=r[1]).aggregate(this._appendCharRaw(e,i))).inserted){var a,o=!1!==this.doValidate(i);if(o&&null!=s){var l=this.state;!0===this.overwrite&&(a=s.state,s.unshift(this.value.length));var c=this.appendTail(s);(o=c.rawInserted===s.toString())&&c.inserted||"shift"!==this.overwrite||(this.state=l,a=s.state,s.shift(),o=(c=this.appendTail(s)).rawInserted===s.toString()),o&&c.inserted&&(this.state=l)}o||(t=new On,this.state=n,s&&a&&(s.state=a))}return t}},{key:"_appendPlaceholder",value:function(){return new On}},{key:"_appendEager",value:function(){return new On}},{key:"append",value:function(e,t,i){if(!Dn(e))throw new Error("value should be string");var s=new On,n=Dn(i)?new Bn(String(i)):i;t&&t.tail&&(t._beforeTailState=this.state);for(var r=0;r<e.length;++r)s.aggregate(this._appendChar(e[r],t,n));return null!=n&&(s.tailShift+=this.appendTail(n).tailShift),this.eager&&null!=t&&t.input&&e&&s.aggregate(this._appendEager()),s}},{key:"remove",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.value.length;return this._value=this.value.slice(0,e)+this.value.slice(t),new On}},{key:"withValueRefresh",value:function(e){if(this._refreshing||!this.isInitialized)return e();this._refreshing=!0;var t=this.rawInputValue,i=this.value,s=e();return this.rawInputValue=t,this.value&&this.value!==i&&0===i.indexOf(this.value)&&this.append(i.slice(this.value.length),{},""),delete this._refreshing,s}},{key:"runIsolated",value:function(e){if(this._isolated||!this.isInitialized)return e(this);this._isolated=!0;var t=this.state,i=e(this);return this.state=t,delete this._isolated,i}},{key:"doPrepare",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.prepare?this.prepare(e,this,t):e}},{key:"doValidate",value:function(e){return(!this.validate||this.validate(this.value,this,e))&&(!this.parent||this.parent.doValidate(e))}},{key:"doCommit",value:function(){this.commit&&this.commit(this.value,this)}},{key:"doFormat",value:function(e){return this.format?this.format(e,this):e}},{key:"doParse",value:function(e){return this.parse?this.parse(e,this):e}},{key:"splice",value:function(e,t,i,s){var n,r=e+t,a=this.extractTail(r);this.eager&&(s=function(e){switch(e){case In:return $n;case Fn:return Nn;default:return e}}(s),n=this.extractInput(0,r,{raw:!0}));var o=this.nearestInputPos(e,t>1&&0!==e&&!this.eager?Ln:s),l=new On({tailShift:o-e}).aggregate(this.remove(o));if(this.eager&&s!==Ln&&n===this.rawInputValue)if(s===$n)for(var c;n===this.rawInputValue&&(c=this.value.length);)l.aggregate(new On({tailShift:-1})).aggregate(this.remove(c-1));else s===Nn&&a.unshift();return l.aggregate(this.append(i,{input:!0},a))}},{key:"maskEquals",value:function(e){return this.mask===e}}]),e}();function Wn(e){if(null==e)throw new Error("mask property should be defined");return e instanceof RegExp?Vn.MaskedRegExp:Dn(e)?Vn.MaskedPattern:e instanceof Date||e===Date?Vn.MaskedDate:e instanceof Number||"number"==typeof e||e===Number?Vn.MaskedNumber:Array.isArray(e)||e===Array?Vn.MaskedDynamic:Vn.Masked&&e.prototype instanceof Vn.Masked?e:e instanceof Vn.Masked?e.constructor:e instanceof Function?Vn.MaskedFunction:(console.warn("Mask not found for mask",e),Vn.Masked)}function Yn(e){if(Vn.Masked&&e instanceof Vn.Masked)return e;var t=(e=Object.assign({},e)).mask;if(Vn.Masked&&t instanceof Vn.Masked)return t;var i=Wn(t);if(!i)throw new Error("Masked class is not found for provided mask, appropriate module needs to be import manually before creating mask.");return new i(e)}Hn.DEFAULTS={format:function(e){return e},parse:function(e){return e}},Vn.Masked=Hn,Vn.createMask=Yn;var qn=["mask"],Un={0:/\d/,a:/[\u0041-\u005A\u0061-\u007A\u00AA\u00B5\u00BA\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0\u08A2-\u08AC\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097F\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191C\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA697\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA793\uA7A0-\uA7AA\uA7F8-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA80-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/,"*":/./},Gn=function(){function e(t){vn(this,e);var i=t.mask,s=kn(t,qn);this.masked=Yn({mask:i}),Object.assign(this,s)}return bn(e,[{key:"reset",value:function(){this.isFilled=!1,this.masked.reset()}},{key:"remove",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.value.length;return 0===e&&t>=1?(this.isFilled=!1,this.masked.remove(e,t)):new On}},{key:"value",get:function(){return this.masked.value||(this.isFilled&&!this.isOptional?this.placeholderChar:"")}},{key:"unmaskedValue",get:function(){return this.masked.unmaskedValue}},{key:"isComplete",get:function(){return Boolean(this.masked.value)||this.isOptional}},{key:"_appendChar",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.isFilled)return new On;var i=this.masked.state,s=this.masked._appendChar(e,t);return s.inserted&&!1===this.doValidate(t)&&(s.inserted=s.rawInserted="",this.masked.state=i),s.inserted||this.isOptional||this.lazy||t.input||(s.inserted=this.placeholderChar),s.skip=!s.inserted&&!this.isOptional,this.isFilled=Boolean(s.inserted),s}},{key:"append",value:function(){var e;return(e=this.masked).append.apply(e,arguments)}},{key:"_appendPlaceholder",value:function(){var e=new On;return this.isFilled||this.isOptional||(this.isFilled=!0,e.inserted=this.placeholderChar),e}},{key:"_appendEager",value:function(){return new On}},{key:"extractTail",value:function(){var e;return(e=this.masked).extractTail.apply(e,arguments)}},{key:"appendTail",value:function(){var e;return(e=this.masked).appendTail.apply(e,arguments)}},{key:"extractInput",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.value.length,i=arguments.length>2?arguments[2]:void 0;return this.masked.extractInput(e,t,i)}},{key:"nearestInputPos",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ln,i=this.value.length,s=Math.min(Math.max(e,0),i);switch(t){case In:case $n:return this.isComplete?s:0;case Fn:case Nn:return this.isComplete?s:i;default:return s}}},{key:"doValidate",value:function(){var e,t;return(e=this.masked).doValidate.apply(e,arguments)&&(!this.parent||(t=this.parent).doValidate.apply(t,arguments))}},{key:"doCommit",value:function(){this.masked.doCommit()}},{key:"state",get:function(){return{masked:this.masked.state,isFilled:this.isFilled}},set:function(e){this.masked.state=e.masked,this.isFilled=e.isFilled}}]),e}(),Xn=function(){function e(t){vn(this,e),Object.assign(this,t),this._value="",this.isFixed=!0}return bn(e,[{key:"value",get:function(){return this._value}},{key:"unmaskedValue",get:function(){return this.isUnmasking?this.value:""}},{key:"reset",value:function(){this._isRawInput=!1,this._value=""}},{key:"remove",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._value.length;return this._value=this._value.slice(0,e)+this._value.slice(t),this._value||(this._isRawInput=!1),new On}},{key:"nearestInputPos",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ln,i=this._value.length;switch(t){case In:case $n:return 0;default:return i}}},{key:"extractInput",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._value.length;return(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).raw&&this._isRawInput&&this._value.slice(e,t)||""}},{key:"isComplete",get:function(){return!0}},{key:"isFilled",get:function(){return Boolean(this._value)}},{key:"_appendChar",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=new On;if(this._value)return i;var s=this.char===e&&(this.isUnmasking||t.input||t.raw)&&!this.eager&&!t.tail;return s&&(i.rawInserted=this.char),this._value=i.inserted=this.char,this._isRawInput=s&&(t.raw||t.input),i}},{key:"_appendEager",value:function(){return this._appendChar(this.char)}},{key:"_appendPlaceholder",value:function(){var e=new On;return this._value||(this._value=e.inserted=this.char),e}},{key:"extractTail",value:function(){return arguments.length>1&&void 0!==arguments[1]||this.value.length,new Bn("")}},{key:"appendTail",value:function(e){return Dn(e)&&(e=new Bn(String(e))),e.appendTo(this)}},{key:"append",value:function(e,t,i){var s=this._appendChar(e[0],t);return null!=i&&(s.tailShift+=this.appendTail(i).tailShift),s}},{key:"doCommit",value:function(){}},{key:"state",get:function(){return{_value:this._value,_isRawInput:this._isRawInput}},set:function(e){Object.assign(this,e)}}]),e}(),Kn=["chunks"],Zn=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;vn(this,e),this.chunks=t,this.from=i}return bn(e,[{key:"toString",value:function(){return this.chunks.map(String).join("")}},{key:"extend",value:function(t){if(String(t)){Dn(t)&&(t=new Bn(String(t)));var i=this.chunks[this.chunks.length-1],s=i&&(i.stop===t.stop||null==t.stop)&&t.from===i.from+i.toString().length;if(t instanceof Bn)s?i.extend(t.toString()):this.chunks.push(t);else if(t instanceof e){if(null==t.stop)for(var n;t.chunks.length&&null==t.chunks[0].stop;)(n=t.chunks.shift()).from+=t.from,this.extend(n);t.toString()&&(t.stop=t.blockIndex,this.chunks.push(t))}}}},{key:"appendTo",value:function(t){if(!(t instanceof Vn.MaskedPattern))return new Bn(this.toString()).appendTo(t);for(var i=new On,s=0;s<this.chunks.length&&!i.skip;++s){var n=this.chunks[s],r=t._mapPosToBlock(t.value.length),a=n.stop,o=void 0;if(null!=a&&(!r||r.index<=a)&&((n instanceof e||t._stops.indexOf(a)>=0)&&i.aggregate(t._appendPlaceholder(a)),o=n instanceof e&&t._blocks[a]),o){var l=o.appendTail(n);l.skip=!1,i.aggregate(l),t._value+=l.inserted;var c=n.toString().slice(l.rawInserted.length);c&&i.aggregate(t.append(c,{tail:!0}))}else i.aggregate(t.append(n.toString(),{tail:!0}))}return i}},{key:"state",get:function(){return{chunks:this.chunks.map(function(e){return e.state}),from:this.from,stop:this.stop,blockIndex:this.blockIndex}},set:function(t){var i=t.chunks,s=kn(t,Kn);Object.assign(this,s),this.chunks=i.map(function(t){var i="chunks"in t?new e:new Bn;return i.state=t,i})}},{key:"unshift",value:function(e){if(!this.chunks.length||null!=e&&this.from>=e)return"";for(var t=null!=e?e-this.from:e,i=0;i<this.chunks.length;){var s=this.chunks[i],n=s.unshift(t);if(s.toString()){if(!n)break;++i}else this.chunks.splice(i,1);if(n)return n}return""}},{key:"shift",value:function(){if(!this.chunks.length)return"";for(var e=this.chunks.length-1;0<=e;){var t=this.chunks[e],i=t.shift();if(t.toString()){if(!i)break;--e}else this.chunks.splice(e,1);if(i)return i}return""}}]),e}(),Jn=function(){function e(t,i){vn(this,e),this.masked=t,this._log=[];var s=t._mapPosToBlock(i)||(i<0?{index:0,offset:0}:{index:this.masked._blocks.length,offset:0}),n=s.offset,r=s.index;this.offset=n,this.index=r,this.ok=!1}return bn(e,[{key:"block",get:function(){return this.masked._blocks[this.index]}},{key:"pos",get:function(){return this.masked._blockStartPos(this.index)+this.offset}},{key:"state",get:function(){return{index:this.index,offset:this.offset,ok:this.ok}},set:function(e){Object.assign(this,e)}},{key:"pushState",value:function(){this._log.push(this.state)}},{key:"popState",value:function(){var e=this._log.pop();return this.state=e,e}},{key:"bindBlock",value:function(){this.block||(this.index<0&&(this.index=0,this.offset=0),this.index>=this.masked._blocks.length&&(this.index=this.masked._blocks.length-1,this.offset=this.block.value.length))}},{key:"_pushLeft",value:function(e){for(this.pushState(),this.bindBlock();0<=this.index;--this.index,this.offset=(null===(t=this.block)||void 0===t?void 0:t.value.length)||0){var t;if(e())return this.ok=!0}return this.ok=!1}},{key:"_pushRight",value:function(e){for(this.pushState(),this.bindBlock();this.index<this.masked._blocks.length;++this.index,this.offset=0)if(e())return this.ok=!0;return this.ok=!1}},{key:"pushLeftBeforeFilled",value:function(){var e=this;return this._pushLeft(function(){if(!e.block.isFixed&&e.block.value)return e.offset=e.block.nearestInputPos(e.offset,$n),0!==e.offset||void 0})}},{key:"pushLeftBeforeInput",value:function(){var e=this;return this._pushLeft(function(){if(!e.block.isFixed)return e.offset=e.block.nearestInputPos(e.offset,In),!0})}},{key:"pushLeftBeforeRequired",value:function(){var e=this;return this._pushLeft(function(){if(!(e.block.isFixed||e.block.isOptional&&!e.block.value))return e.offset=e.block.nearestInputPos(e.offset,In),!0})}},{key:"pushRightBeforeFilled",value:function(){var e=this;return this._pushRight(function(){if(!e.block.isFixed&&e.block.value)return e.offset=e.block.nearestInputPos(e.offset,Nn),e.offset!==e.block.value.length||void 0})}},{key:"pushRightBeforeInput",value:function(){var e=this;return this._pushRight(function(){if(!e.block.isFixed)return e.offset=e.block.nearestInputPos(e.offset,Ln),!0})}},{key:"pushRightBeforeRequired",value:function(){var e=this;return this._pushRight(function(){if(!(e.block.isFixed||e.block.isOptional&&!e.block.value))return e.offset=e.block.nearestInputPos(e.offset,Ln),!0})}}]),e}(),Qn=function(e){wn(i,Hn);var t=En(i);function i(){return vn(this,i),t.apply(this,arguments)}return bn(i,[{key:"_update",value:function(e){e.mask&&(e.validate=function(t){return t.search(e.mask)>=0}),Cn(xn(i.prototype),"_update",this).call(this,e)}}]),i}();Vn.MaskedRegExp=Qn;var er=["_blocks"],tr=function(e){wn(i,Hn);var t=En(i);function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return vn(this,i),e.definitions=Object.assign({},Un,e.definitions),t.call(this,Object.assign({},i.DEFAULTS,e))}return bn(i,[{key:"_update",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.definitions=Object.assign({},this.definitions,e.definitions),Cn(xn(i.prototype),"_update",this).call(this,e),this._rebuildMask()}},{key:"_rebuildMask",value:function(){var e=this,t=this.definitions;this._blocks=[],this._stops=[],this._maskedBlocks={};var s=this.mask;if(s&&t)for(var n=!1,r=!1,a=0;a<s.length;++a)if(!this.blocks||"continue"!==function(){var t=s.slice(a),i=Object.keys(e.blocks).filter(function(e){return 0===t.indexOf(e)});i.sort(function(e,t){return t.length-e.length});var n=i[0];if(n){var r=Yn(Object.assign({parent:e,lazy:e.lazy,eager:e.eager,placeholderChar:e.placeholderChar,overwrite:e.overwrite},e.blocks[n]));return r&&(e._blocks.push(r),e._maskedBlocks[n]||(e._maskedBlocks[n]=[]),e._maskedBlocks[n].push(e._blocks.length-1)),a+=n.length-1,"continue"}}()){var o=s[a],l=o in t;if(o!==i.STOP_CHAR)if("{"!==o&&"}"!==o)if("["!==o&&"]"!==o){if(o===i.ESCAPE_CHAR){if(!(o=s[++a]))break;l=!1}var c=l?new Gn({parent:this,lazy:this.lazy,eager:this.eager,placeholderChar:this.placeholderChar,mask:t[o],isOptional:r}):new Xn({char:o,eager:this.eager,isUnmasking:n});this._blocks.push(c)}else r=!r;else n=!n;else this._stops.push(this._blocks.length)}}},{key:"state",get:function(){return Object.assign({},Cn(xn(i.prototype),"state",this),{_blocks:this._blocks.map(function(e){return e.state})})},set:function(e){var t=e._blocks,s=kn(e,er);this._blocks.forEach(function(e,i){return e.state=t[i]}),Mn(xn(i.prototype),"state",s,this,!0)}},{key:"reset",value:function(){Cn(xn(i.prototype),"reset",this).call(this),this._blocks.forEach(function(e){return e.reset()})}},{key:"isComplete",get:function(){return this._blocks.every(function(e){return e.isComplete})}},{key:"isFilled",get:function(){return this._blocks.every(function(e){return e.isFilled})}},{key:"isFixed",get:function(){return this._blocks.every(function(e){return e.isFixed})}},{key:"isOptional",get:function(){return this._blocks.every(function(e){return e.isOptional})}},{key:"doCommit",value:function(){this._blocks.forEach(function(e){return e.doCommit()}),Cn(xn(i.prototype),"doCommit",this).call(this)}},{key:"unmaskedValue",get:function(){return this._blocks.reduce(function(e,t){return e+t.unmaskedValue},"")},set:function(e){Mn(xn(i.prototype),"unmaskedValue",e,this,!0)}},{key:"value",get:function(){return this._blocks.reduce(function(e,t){return e+t.value},"")},set:function(e){Mn(xn(i.prototype),"value",e,this,!0)}},{key:"appendTail",value:function(e){return Cn(xn(i.prototype),"appendTail",this).call(this,e).aggregate(this._appendPlaceholder())}},{key:"_appendEager",value:function(){var e,t=new On,i=null===(e=this._mapPosToBlock(this.value.length))||void 0===e?void 0:e.index;if(null==i)return t;this._blocks[i].isFilled&&++i;for(var s=i;s<this._blocks.length;++s){var n=this._blocks[s]._appendEager();if(!n.inserted)break;t.aggregate(n)}return t}},{key:"_appendCharRaw",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=this._mapPosToBlock(this.value.length),s=new On;if(!i)return s;for(var n=i.index;;++n){var r,a=this._blocks[n];if(!a)break;var o=a._appendChar(e,Object.assign({},t,{_beforeTailState:null===(r=t._beforeTailState)||void 0===r?void 0:r._blocks[n]})),l=o.skip;if(s.aggregate(o),l||o.rawInserted)break}return s}},{key:"extractTail",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.value.length,s=new Zn;return t===i||this._forEachBlocksInRange(t,i,function(t,i,n,r){var a=t.extractTail(n,r);a.stop=e._findStopBefore(i),a.from=e._blockStartPos(i),a instanceof Zn&&(a.blockIndex=i),s.extend(a)}),s}},{key:"extractInput",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.value.length,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e===t)return"";var s="";return this._forEachBlocksInRange(e,t,function(e,t,n,r){s+=e.extractInput(n,r,i)}),s}},{key:"_findStopBefore",value:function(e){for(var t,i=0;i<this._stops.length;++i){var s=this._stops[i];if(!(s<=e))break;t=s}return t}},{key:"_appendPlaceholder",value:function(e){var t=this,i=new On;if(this.lazy&&null==e)return i;var s=this._mapPosToBlock(this.value.length);if(!s)return i;var n=s.index,r=null!=e?e:this._blocks.length;return this._blocks.slice(n,r).forEach(function(s){if(!s.lazy||null!=e){var n=null!=s._blocks?[s._blocks.length]:[],r=s._appendPlaceholder.apply(s,n);t._value+=r.inserted,i.aggregate(r)}}),i}},{key:"_mapPosToBlock",value:function(e){for(var t="",i=0;i<this._blocks.length;++i){var s=this._blocks[i],n=t.length;if(e<=(t+=s.value).length)return{index:i,offset:e-n}}}},{key:"_blockStartPos",value:function(e){return this._blocks.slice(0,e).reduce(function(e,t){return e+t.value.length},0)}},{key:"_forEachBlocksInRange",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.value.length,i=arguments.length>2?arguments[2]:void 0,s=this._mapPosToBlock(e);if(s){var n=this._mapPosToBlock(t),r=n&&s.index===n.index,a=s.offset,o=n&&r?n.offset:this._blocks[s.index].value.length;if(i(this._blocks[s.index],s.index,a,o),n&&!r){for(var l=s.index+1;l<n.index;++l)i(this._blocks[l],l,0,this._blocks[l].value.length);i(this._blocks[n.index],n.index,0,n.offset)}}}},{key:"remove",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.value.length,s=Cn(xn(i.prototype),"remove",this).call(this,e,t);return this._forEachBlocksInRange(e,t,function(e,t,i,n){s.aggregate(e.remove(i,n))}),s}},{key:"nearestInputPos",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ln;if(!this._blocks.length)return 0;var i=new Jn(this,e);if(t===Ln)return i.pushRightBeforeInput()?i.pos:(i.popState(),i.pushLeftBeforeInput()?i.pos:this.value.length);if(t===In||t===$n){if(t===In){if(i.pushRightBeforeFilled(),i.ok&&i.pos===e)return e;i.popState()}if(i.pushLeftBeforeInput(),i.pushLeftBeforeRequired(),i.pushLeftBeforeFilled(),t===In){if(i.pushRightBeforeInput(),i.pushRightBeforeRequired(),i.ok&&i.pos<=e)return i.pos;if(i.popState(),i.ok&&i.pos<=e)return i.pos;i.popState()}return i.ok?i.pos:t===$n?0:(i.popState(),i.ok?i.pos:(i.popState(),i.ok?i.pos:0))}return t===Fn||t===Nn?(i.pushRightBeforeInput(),i.pushRightBeforeRequired(),i.pushRightBeforeFilled()?i.pos:t===Nn?this.value.length:(i.popState(),i.ok?i.pos:(i.popState(),i.ok?i.pos:this.nearestInputPos(e,In)))):e}},{key:"maskedBlock",value:function(e){return this.maskedBlocks(e)[0]}},{key:"maskedBlocks",value:function(e){var t=this,i=this._maskedBlocks[e];return i?i.map(function(e){return t._blocks[e]}):[]}}]),i}();tr.DEFAULTS={lazy:!0,placeholderChar:"_"},tr.STOP_CHAR="`",tr.ESCAPE_CHAR="\\",tr.InputDefinition=Gn,tr.FixedDefinition=Xn,Vn.MaskedPattern=tr;var ir=function(e){wn(i,tr);var t=En(i);function i(){return vn(this,i),t.apply(this,arguments)}return bn(i,[{key:"_matchFrom",get:function(){return this.maxLength-String(this.from).length}},{key:"_update",value:function(e){e=Object.assign({to:this.to||0,from:this.from||0,maxLength:this.maxLength||0},e);var t=String(e.to).length;null!=e.maxLength&&(t=Math.max(t,e.maxLength)),e.maxLength=t;for(var s=String(e.from).padStart(t,"0"),n=String(e.to).padStart(t,"0"),r=0;r<n.length&&n[r]===s[r];)++r;e.mask=n.slice(0,r).replace(/0/g,"\\0")+"0".repeat(t-r),Cn(xn(i.prototype),"_update",this).call(this,e)}},{key:"isComplete",get:function(){return Cn(xn(i.prototype),"isComplete",this)&&Boolean(this.value)}},{key:"boundaries",value:function(e){var t="",i="",s=Pn(e.match(/^(\D*)(\d*)(\D*)/)||[],3),n=s[1],r=s[2];return r&&(t="0".repeat(n.length)+r,i="9".repeat(n.length)+r),[t=t.padEnd(this.maxLength,"0"),i=i.padEnd(this.maxLength,"9")]}},{key:"doPrepare",value:function(e){var t,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Pn(jn(Cn(xn(i.prototype),"doPrepare",this).call(this,e.replace(/\D/g,""),s)),2);if(e=n[0],t=n[1],!this.autofix||!e)return e;var r=String(this.from).padStart(this.maxLength,"0"),a=String(this.to).padStart(this.maxLength,"0"),o=this.value+e;if(o.length>this.maxLength)return"";var l=Pn(this.boundaries(o),2),c=l[0],h=l[1];return Number(h)<this.from?r[o.length-1]:Number(c)>this.to?"pad"===this.autofix&&o.length<this.maxLength?["",t.aggregate(this.append(r[o.length-1]+e,s))]:a[o.length-1]:e}},{key:"doValidate",value:function(){var e,t=this.value;if(-1===t.search(/[^0]/)&&t.length<=this._matchFrom)return!0;for(var s=Pn(this.boundaries(t),2),n=s[0],r=s[1],a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];return this.from<=Number(r)&&Number(n)<=this.to&&(e=Cn(xn(i.prototype),"doValidate",this)).call.apply(e,[this].concat(o))}}]),i}();Vn.MaskedRange=ir;var sr=function(e){wn(i,tr);var t=En(i);function i(e){return vn(this,i),t.call(this,Object.assign({},i.DEFAULTS,e))}return bn(i,[{key:"_update",value:function(e){e.mask===Date&&delete e.mask,e.pattern&&(e.mask=e.pattern);var t=e.blocks;e.blocks=Object.assign({},i.GET_DEFAULT_BLOCKS()),e.min&&(e.blocks.Y.from=e.min.getFullYear()),e.max&&(e.blocks.Y.to=e.max.getFullYear()),e.min&&e.max&&e.blocks.Y.from===e.blocks.Y.to&&(e.blocks.m.from=e.min.getMonth()+1,e.blocks.m.to=e.max.getMonth()+1,e.blocks.m.from===e.blocks.m.to&&(e.blocks.d.from=e.min.getDate(),e.blocks.d.to=e.max.getDate())),Object.assign(e.blocks,this.blocks,t),Object.keys(e.blocks).forEach(function(t){var i=e.blocks[t];!("autofix"in i)&&"autofix"in e&&(i.autofix=e.autofix)}),Cn(xn(i.prototype),"_update",this).call(this,e)}},{key:"doValidate",value:function(){for(var e,t=this.date,s=arguments.length,n=new Array(s),r=0;r<s;r++)n[r]=arguments[r];return(e=Cn(xn(i.prototype),"doValidate",this)).call.apply(e,[this].concat(n))&&(!this.isComplete||this.isDateExist(this.value)&&null!=t&&(null==this.min||this.min<=t)&&(null==this.max||t<=this.max))}},{key:"isDateExist",value:function(e){return this.format(this.parse(e,this),this).indexOf(e)>=0}},{key:"date",get:function(){return this.typedValue},set:function(e){this.typedValue=e}},{key:"typedValue",get:function(){return this.isComplete?Cn(xn(i.prototype),"typedValue",this):null},set:function(e){Mn(xn(i.prototype),"typedValue",e,this,!0)}},{key:"maskEquals",value:function(e){return e===Date||Cn(xn(i.prototype),"maskEquals",this).call(this,e)}}]),i}();sr.DEFAULTS={pattern:"d{.}`m{.}`Y",format:function(e){return e?[String(e.getDate()).padStart(2,"0"),String(e.getMonth()+1).padStart(2,"0"),e.getFullYear()].join("."):""},parse:function(e){var t=Pn(e.split("."),3),i=t[0],s=t[1],n=t[2];return new Date(n,s-1,i)}},sr.GET_DEFAULT_BLOCKS=function(){return{d:{mask:ir,from:1,to:31,maxLength:2},m:{mask:ir,from:1,to:12,maxLength:2},Y:{mask:ir,from:1900,to:9999}}},Vn.MaskedDate=sr;var nr=function(){function e(){vn(this,e)}return bn(e,[{key:"selectionStart",get:function(){var e;try{e=this._unsafeSelectionStart}catch(e){}return null!=e?e:this.value.length}},{key:"selectionEnd",get:function(){var e;try{e=this._unsafeSelectionEnd}catch(e){}return null!=e?e:this.value.length}},{key:"select",value:function(e,t){if(null!=e&&null!=t&&(e!==this.selectionStart||t!==this.selectionEnd))try{this._unsafeSelect(e,t)}catch(e){}}},{key:"_unsafeSelect",value:function(e,t){}},{key:"isActive",get:function(){return!1}},{key:"bindEvents",value:function(e){}},{key:"unbindEvents",value:function(){}}]),e}();Vn.MaskElement=nr;var rr=function(e){wn(i,nr);var t=En(i);function i(e){var s;return vn(this,i),(s=t.call(this)).input=e,s._handlers={},s}return bn(i,[{key:"rootElement",get:function(){var e,t,i;return null!==(e=null===(t=(i=this.input).getRootNode)||void 0===t?void 0:t.call(i))&&void 0!==e?e:document}},{key:"isActive",get:function(){return this.input===this.rootElement.activeElement}},{key:"_unsafeSelectionStart",get:function(){return this.input.selectionStart}},{key:"_unsafeSelectionEnd",get:function(){return this.input.selectionEnd}},{key:"_unsafeSelect",value:function(e,t){this.input.setSelectionRange(e,t)}},{key:"value",get:function(){return this.input.value},set:function(e){this.input.value=e}},{key:"bindEvents",value:function(e){var t=this;Object.keys(e).forEach(function(s){return t._toggleEventHandler(i.EVENTS_MAP[s],e[s])})}},{key:"unbindEvents",value:function(){var e=this;Object.keys(this._handlers).forEach(function(t){return e._toggleEventHandler(t)})}},{key:"_toggleEventHandler",value:function(e,t){this._handlers[e]&&(this.input.removeEventListener(e,this._handlers[e]),delete this._handlers[e]),t&&(this.input.addEventListener(e,t),this._handlers[e]=t)}}]),i}();rr.EVENTS_MAP={selectionChange:"keydown",input:"input",drop:"drop",click:"click",focus:"focus",commit:"blur"},Vn.HTMLMaskElement=rr;var ar=function(e){wn(i,rr);var t=En(i);function i(){return vn(this,i),t.apply(this,arguments)}return bn(i,[{key:"_unsafeSelectionStart",get:function(){var e=this.rootElement,t=e.getSelection&&e.getSelection(),i=t&&t.anchorOffset,s=t&&t.focusOffset;return null==s||null==i||i<s?i:s}},{key:"_unsafeSelectionEnd",get:function(){var e=this.rootElement,t=e.getSelection&&e.getSelection(),i=t&&t.anchorOffset,s=t&&t.focusOffset;return null==s||null==i||i>s?i:s}},{key:"_unsafeSelect",value:function(e,t){if(this.rootElement.createRange){var i=this.rootElement.createRange();i.setStart(this.input.firstChild||this.input,e),i.setEnd(this.input.lastChild||this.input,t);var s=this.rootElement,n=s.getSelection&&s.getSelection();n&&(n.removeAllRanges(),n.addRange(i))}}},{key:"value",get:function(){return this.input.textContent},set:function(e){this.input.textContent=e}}]),i}();Vn.HTMLContenteditableMaskElement=ar;var or=["mask"],lr=function(){function e(t,i){vn(this,e),this.el=t instanceof nr?t:t.isContentEditable&&"INPUT"!==t.tagName&&"TEXTAREA"!==t.tagName?new ar(t):new rr(t),this.masked=Yn(i),this._listeners={},this._value="",this._unmaskedValue="",this._saveSelection=this._saveSelection.bind(this),this._onInput=this._onInput.bind(this),this._onChange=this._onChange.bind(this),this._onDrop=this._onDrop.bind(this),this._onFocus=this._onFocus.bind(this),this._onClick=this._onClick.bind(this),this.alignCursor=this.alignCursor.bind(this),this.alignCursorFriendly=this.alignCursorFriendly.bind(this),this._bindEvents(),this.updateValue(),this._onChange()}return bn(e,[{key:"mask",get:function(){return this.masked.mask},set:function(e){if(!this.maskEquals(e))if(e instanceof Vn.Masked||this.masked.constructor!==Wn(e)){var t=Yn({mask:e});t.unmaskedValue=this.masked.unmaskedValue,this.masked=t}else this.masked.updateOptions({mask:e})}},{key:"maskEquals",value:function(e){var t;return null==e||(null===(t=this.masked)||void 0===t?void 0:t.maskEquals(e))}},{key:"value",get:function(){return this._value},set:function(e){this.masked.value=e,this.updateControl(),this.alignCursor()}},{key:"unmaskedValue",get:function(){return this._unmaskedValue},set:function(e){this.masked.unmaskedValue=e,this.updateControl(),this.alignCursor()}},{key:"typedValue",get:function(){return this.masked.typedValue},set:function(e){this.masked.typedValue=e,this.updateControl(),this.alignCursor()}},{key:"_bindEvents",value:function(){this.el.bindEvents({selectionChange:this._saveSelection,input:this._onInput,drop:this._onDrop,click:this._onClick,focus:this._onFocus,commit:this._onChange})}},{key:"_unbindEvents",value:function(){this.el&&this.el.unbindEvents()}},{key:"_fireEvent",value:function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),s=1;s<t;s++)i[s-1]=arguments[s];var n=this._listeners[e];n&&n.forEach(function(e){return e.apply(void 0,i)})}},{key:"selectionStart",get:function(){return this._cursorChanging?this._changingCursorPos:this.el.selectionStart}},{key:"cursorPos",get:function(){return this._cursorChanging?this._changingCursorPos:this.el.selectionEnd},set:function(e){this.el&&this.el.isActive&&(this.el.select(e,e),this._saveSelection())}},{key:"_saveSelection",value:function(){this.value!==this.el.value&&console.warn("Element value was changed outside of mask. Syncronize mask using `mask.updateValue()` to work properly."),this._selection={start:this.selectionStart,end:this.cursorPos}}},{key:"updateValue",value:function(){this.masked.value=this.el.value,this._value=this.masked.value}},{key:"updateControl",value:function(){var e=this.masked.unmaskedValue,t=this.masked.value,i=this.unmaskedValue!==e||this.value!==t;this._unmaskedValue=e,this._value=t,this.el.value!==t&&(this.el.value=t),i&&this._fireChangeEvents()}},{key:"updateOptions",value:function(e){var t=e.mask,i=kn(e,or),s=!this.maskEquals(t),n=!function e(t,i){if(i===t)return!0;var s,n=Array.isArray(i),r=Array.isArray(t);if(n&&r){if(i.length!=t.length)return!1;for(s=0;s<i.length;s++)if(!e(i[s],t[s]))return!1;return!0}if(n!=r)return!1;if(i&&t&&"object"===gn(i)&&"object"===gn(t)){var a=i instanceof Date,o=t instanceof Date;if(a&&o)return i.getTime()==t.getTime();if(a!=o)return!1;var l=i instanceof RegExp,c=t instanceof RegExp;if(l&&c)return i.toString()==t.toString();if(l!=c)return!1;var h=Object.keys(i);for(s=0;s<h.length;s++)if(!Object.prototype.hasOwnProperty.call(t,h[s]))return!1;for(s=0;s<h.length;s++)if(!e(t[h[s]],i[h[s]]))return!1;return!0}return!(!i||!t||"function"!=typeof i||"function"!=typeof t)&&i.toString()===t.toString()}(this.masked,i);s&&(this.mask=t),n&&this.masked.updateOptions(i),(s||n)&&this.updateControl()}},{key:"updateCursor",value:function(e){null!=e&&(this.cursorPos=e,this._delayUpdateCursor(e))}},{key:"_delayUpdateCursor",value:function(e){var t=this;this._abortUpdateCursor(),this._changingCursorPos=e,this._cursorChanging=setTimeout(function(){t.el&&(t.cursorPos=t._changingCursorPos,t._abortUpdateCursor())},10)}},{key:"_fireChangeEvents",value:function(){this._fireEvent("accept",this._inputEvent),this.masked.isComplete&&this._fireEvent("complete",this._inputEvent)}},{key:"_abortUpdateCursor",value:function(){this._cursorChanging&&(clearTimeout(this._cursorChanging),delete this._cursorChanging)}},{key:"alignCursor",value:function(){this.cursorPos=this.masked.nearestInputPos(this.masked.nearestInputPos(this.cursorPos,In))}},{key:"alignCursorFriendly",value:function(){this.selectionStart===this.cursorPos&&this.alignCursor()}},{key:"on",value:function(e,t){return this._listeners[e]||(this._listeners[e]=[]),this._listeners[e].push(t),this}},{key:"off",value:function(e,t){if(!this._listeners[e])return this;if(!t)return delete this._listeners[e],this;var i=this._listeners[e].indexOf(t);return i>=0&&this._listeners[e].splice(i,1),this}},{key:"_onInput",value:function(e){if(this._inputEvent=e,this._abortUpdateCursor(),!this._selection)return this.updateValue();var t=new zn(this.el.value,this.cursorPos,this.value,this._selection),i=this.masked.rawInputValue,s=this.masked.splice(t.startChangePos,t.removed.length,t.inserted,t.removeDirection).offset,n=i===this.masked.rawInputValue?t.removeDirection:Ln,r=this.masked.nearestInputPos(t.startChangePos+s,n);n!==Ln&&(r=this.masked.nearestInputPos(r,Ln)),this.updateControl(),this.updateCursor(r),delete this._inputEvent}},{key:"_onChange",value:function(){this.value!==this.el.value&&this.updateValue(),this.masked.doCommit(),this.updateControl(),this._saveSelection()}},{key:"_onDrop",value:function(e){e.preventDefault(),e.stopPropagation()}},{key:"_onFocus",value:function(e){this.alignCursorFriendly()}},{key:"_onClick",value:function(e){this.alignCursorFriendly()}},{key:"destroy",value:function(){this._unbindEvents(),this._listeners.length=0,delete this.el}}]),e}();Vn.InputMask=lr;var cr=function(e){wn(i,tr);var t=En(i);function i(){return vn(this,i),t.apply(this,arguments)}return bn(i,[{key:"_update",value:function(e){e.enum&&(e.mask="*".repeat(e.enum[0].length)),Cn(xn(i.prototype),"_update",this).call(this,e)}},{key:"doValidate",value:function(){for(var e,t=this,s=arguments.length,n=new Array(s),r=0;r<s;r++)n[r]=arguments[r];return this.enum.some(function(e){return e.indexOf(t.unmaskedValue)>=0})&&(e=Cn(xn(i.prototype),"doValidate",this)).call.apply(e,[this].concat(n))}}]),i}();Vn.MaskedEnum=cr;var hr=function(e){wn(i,Hn);var t=En(i);function i(e){return vn(this,i),t.call(this,Object.assign({},i.DEFAULTS,e))}return bn(i,[{key:"_update",value:function(e){Cn(xn(i.prototype),"_update",this).call(this,e),this._updateRegExps()}},{key:"_updateRegExps",value:function(){var e="^"+(this.allowNegative?"[+|\\-]?":""),t=(this.scale?"("+Rn(this.radix)+"\\d{0,"+this.scale+"})?":"")+"$";this._numberRegExpInput=new RegExp(e+"(0|([1-9]+\\d*))?"+t),this._numberRegExp=new RegExp(e+"\\d*"+t),this._mapToRadixRegExp=new RegExp("["+this.mapToRadix.map(Rn).join("")+"]","g"),this._thousandsSeparatorRegExp=new RegExp(Rn(this.thousandsSeparator),"g")}},{key:"_removeThousandsSeparators",value:function(e){return e.replace(this._thousandsSeparatorRegExp,"")}},{key:"_insertThousandsSeparators",value:function(e){var t=e.split(this.radix);return t[0]=t[0].replace(/\B(?=(\d{3})+(?!\d))/g,this.thousandsSeparator),t.join(this.radix)}},{key:"doPrepare",value:function(e){var t;e=e.replace(this._mapToRadixRegExp,this.radix);for(var s=this._removeThousandsSeparators(e),n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];var o=Pn(jn((t=Cn(xn(i.prototype),"doPrepare",this)).call.apply(t,[this,s].concat(r))),2),l=o[0],c=o[1];return e&&!s&&(c.skip=!0),[l,c]}},{key:"_separatorsCount",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=0,s=0;s<e;++s)this._value.indexOf(this.thousandsSeparator,s)===s&&(++i,t&&(e+=this.thousandsSeparator.length));return i}},{key:"_separatorsCountFromSlice",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._value;return this._separatorsCount(this._removeThousandsSeparators(e).length,!0)}},{key:"extractInput",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.value.length,s=arguments.length>2?arguments[2]:void 0,n=Pn(this._adjustRangeWithSeparators(e,t),2);return e=n[0],t=n[1],this._removeThousandsSeparators(Cn(xn(i.prototype),"extractInput",this).call(this,e,t,s))}},{key:"_appendCharRaw",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.thousandsSeparator)return Cn(xn(i.prototype),"_appendCharRaw",this).call(this,e,t);var s=t.tail&&t._beforeTailState?t._beforeTailState._value:this._value,n=this._separatorsCountFromSlice(s);this._value=this._removeThousandsSeparators(this.value);var r=Cn(xn(i.prototype),"_appendCharRaw",this).call(this,e,t);this._value=this._insertThousandsSeparators(this._value);var a=t.tail&&t._beforeTailState?t._beforeTailState._value:this._value,o=this._separatorsCountFromSlice(a);return r.tailShift+=(o-n)*this.thousandsSeparator.length,r.skip=!r.rawInserted&&e===this.thousandsSeparator,r}},{key:"_findSeparatorAround",value:function(e){if(this.thousandsSeparator){var t=e-this.thousandsSeparator.length+1,i=this.value.indexOf(this.thousandsSeparator,t);if(i<=e)return i}return-1}},{key:"_adjustRangeWithSeparators",value:function(e,t){var i=this._findSeparatorAround(e);i>=0&&(e=i);var s=this._findSeparatorAround(t);return s>=0&&(t=s+this.thousandsSeparator.length),[e,t]}},{key:"remove",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.value.length,i=Pn(this._adjustRangeWithSeparators(e,t),2);e=i[0],t=i[1];var s=this.value.slice(0,e),n=this.value.slice(t),r=this._separatorsCount(s.length);this._value=this._insertThousandsSeparators(this._removeThousandsSeparators(s+n));var a=this._separatorsCountFromSlice(s);return new On({tailShift:(a-r)*this.thousandsSeparator.length})}},{key:"nearestInputPos",value:function(e,t){if(!this.thousandsSeparator)return e;switch(t){case Ln:case In:case $n:var i=this._findSeparatorAround(e-1);if(i>=0){var s=i+this.thousandsSeparator.length;if(e<s||this.value.length<=s||t===$n)return i}break;case Fn:case Nn:var n=this._findSeparatorAround(e);if(n>=0)return n+this.thousandsSeparator.length}return e}},{key:"doValidate",value:function(e){var t=(e.input?this._numberRegExpInput:this._numberRegExp).test(this._removeThousandsSeparators(this.value));if(t){var s=this.number;t=t&&!isNaN(s)&&(null==this.min||this.min>=0||this.min<=this.number)&&(null==this.max||this.max<=0||this.number<=this.max)}return t&&Cn(xn(i.prototype),"doValidate",this).call(this,e)}},{key:"doCommit",value:function(){if(this.value){var e=this.number,t=e;null!=this.min&&(t=Math.max(t,this.min)),null!=this.max&&(t=Math.min(t,this.max)),t!==e&&(this.unmaskedValue=String(t));var s=this.value;this.normalizeZeros&&(s=this._normalizeZeros(s)),this.padFractionalZeros&&this.scale>0&&(s=this._padFractionalZeros(s)),this._value=s}Cn(xn(i.prototype),"doCommit",this).call(this)}},{key:"_normalizeZeros",value:function(e){var t=this._removeThousandsSeparators(e).split(this.radix);return t[0]=t[0].replace(/^(\D*)(0*)(\d*)/,function(e,t,i,s){return t+s}),e.length&&!/\d$/.test(t[0])&&(t[0]=t[0]+"0"),t.length>1&&(t[1]=t[1].replace(/0*$/,""),t[1].length||(t.length=1)),this._insertThousandsSeparators(t.join(this.radix))}},{key:"_padFractionalZeros",value:function(e){if(!e)return e;var t=e.split(this.radix);return t.length<2&&t.push(""),t[1]=t[1].padEnd(this.scale,"0"),t.join(this.radix)}},{key:"unmaskedValue",get:function(){return this._removeThousandsSeparators(this._normalizeZeros(this.value)).replace(this.radix,".")},set:function(e){Mn(xn(i.prototype),"unmaskedValue",e.replace(".",this.radix),this,!0)}},{key:"typedValue",get:function(){return Number(this.unmaskedValue)},set:function(e){Mn(xn(i.prototype),"unmaskedValue",String(e),this,!0)}},{key:"number",get:function(){return this.typedValue},set:function(e){this.typedValue=e}},{key:"allowNegative",get:function(){return this.signed||null!=this.min&&this.min<0||null!=this.max&&this.max<0}}]),i}();hr.DEFAULTS={radix:",",thousandsSeparator:"",mapToRadix:["."],scale:2,signed:!1,normalizeZeros:!0,padFractionalZeros:!1},Vn.MaskedNumber=hr;var ur=function(e){wn(i,Hn);var t=En(i);function i(){return vn(this,i),t.apply(this,arguments)}return bn(i,[{key:"_update",value:function(e){e.mask&&(e.validate=e.mask),Cn(xn(i.prototype),"_update",this).call(this,e)}}]),i}();Vn.MaskedFunction=ur;var dr=["compiledMasks","currentMaskRef","currentMask"],pr=function(e){wn(i,Hn);var t=En(i);function i(e){var s;return vn(this,i),(s=t.call(this,Object.assign({},i.DEFAULTS,e))).currentMask=null,s}return bn(i,[{key:"_update",value:function(e){Cn(xn(i.prototype),"_update",this).call(this,e),"mask"in e&&(this.compiledMasks=Array.isArray(e.mask)?e.mask.map(function(e){return Yn(e)}):[])}},{key:"_appendCharRaw",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=this._applyDispatch(e,t);return this.currentMask&&i.aggregate(this.currentMask._appendChar(e,t)),i}},{key:"_applyDispatch",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=t.tail&&null!=t._beforeTailState?t._beforeTailState._value:this.value,s=this.rawInputValue,n=t.tail&&null!=t._beforeTailState?t._beforeTailState._rawInputValue:s,r=s.slice(n.length),a=this.currentMask,o=new On,l=a&&a.state;if(this.currentMask=this.doDispatch(e,Object.assign({},t)),this.currentMask)if(this.currentMask!==a){if(this.currentMask.reset(),n){var c=this.currentMask.append(n,{raw:!0});o.tailShift=c.inserted.length-i.length}r&&(o.tailShift+=this.currentMask.append(r,{raw:!0,tail:!0}).tailShift)}else this.currentMask.state=l;return o}},{key:"_appendPlaceholder",value:function(){var e=this._applyDispatch.apply(this,arguments);return this.currentMask&&e.aggregate(this.currentMask._appendPlaceholder()),e}},{key:"_appendEager",value:function(){var e=this._applyDispatch.apply(this,arguments);return this.currentMask&&e.aggregate(this.currentMask._appendEager()),e}},{key:"doDispatch",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.dispatch(e,this,t)}},{key:"doValidate",value:function(){for(var e,t,s=arguments.length,n=new Array(s),r=0;r<s;r++)n[r]=arguments[r];return(e=Cn(xn(i.prototype),"doValidate",this)).call.apply(e,[this].concat(n))&&(!this.currentMask||(t=this.currentMask).doValidate.apply(t,n))}},{key:"reset",value:function(){var e;null===(e=this.currentMask)||void 0===e||e.reset(),this.compiledMasks.forEach(function(e){return e.reset()})}},{key:"value",get:function(){return this.currentMask?this.currentMask.value:""},set:function(e){Mn(xn(i.prototype),"value",e,this,!0)}},{key:"unmaskedValue",get:function(){return this.currentMask?this.currentMask.unmaskedValue:""},set:function(e){Mn(xn(i.prototype),"unmaskedValue",e,this,!0)}},{key:"typedValue",get:function(){return this.currentMask?this.currentMask.typedValue:""},set:function(e){var t=String(e);this.currentMask&&(this.currentMask.typedValue=e,t=this.currentMask.unmaskedValue),this.unmaskedValue=t}},{key:"isComplete",get:function(){var e;return Boolean(null===(e=this.currentMask)||void 0===e?void 0:e.isComplete)}},{key:"isFilled",get:function(){var e;return Boolean(null===(e=this.currentMask)||void 0===e?void 0:e.isFilled)}},{key:"remove",value:function(){var e,t=new On;return this.currentMask&&t.aggregate((e=this.currentMask).remove.apply(e,arguments)).aggregate(this._applyDispatch()),t}},{key:"state",get:function(){return Object.assign({},Cn(xn(i.prototype),"state",this),{_rawInputValue:this.rawInputValue,compiledMasks:this.compiledMasks.map(function(e){return e.state}),currentMaskRef:this.currentMask,currentMask:this.currentMask&&this.currentMask.state})},set:function(e){var t=e.compiledMasks,s=e.currentMaskRef,n=e.currentMask,r=kn(e,dr);this.compiledMasks.forEach(function(e,i){return e.state=t[i]}),null!=s&&(this.currentMask=s,this.currentMask.state=n),Mn(xn(i.prototype),"state",r,this,!0)}},{key:"extractInput",value:function(){var e;return this.currentMask?(e=this.currentMask).extractInput.apply(e,arguments):""}},{key:"extractTail",value:function(){for(var e,t,s=arguments.length,n=new Array(s),r=0;r<s;r++)n[r]=arguments[r];return this.currentMask?(e=this.currentMask).extractTail.apply(e,n):(t=Cn(xn(i.prototype),"extractTail",this)).call.apply(t,[this].concat(n))}},{key:"doCommit",value:function(){this.currentMask&&this.currentMask.doCommit(),Cn(xn(i.prototype),"doCommit",this).call(this)}},{key:"nearestInputPos",value:function(){for(var e,t,s=arguments.length,n=new Array(s),r=0;r<s;r++)n[r]=arguments[r];return this.currentMask?(e=this.currentMask).nearestInputPos.apply(e,n):(t=Cn(xn(i.prototype),"nearestInputPos",this)).call.apply(t,[this].concat(n))}},{key:"overwrite",get:function(){return this.currentMask?this.currentMask.overwrite:Cn(xn(i.prototype),"overwrite",this)},set:function(e){console.warn('"overwrite" option is not available in dynamic mask, use this option in siblings')}},{key:"eager",get:function(){return this.currentMask?this.currentMask.eager:Cn(xn(i.prototype),"eager",this)},set:function(e){console.warn('"eager" option is not available in dynamic mask, use this option in siblings')}},{key:"maskEquals",value:function(e){return Array.isArray(e)&&this.compiledMasks.every(function(t,i){var s;return t.maskEquals(null===(s=e[i])||void 0===s?void 0:s.mask)})}}]),i}();pr.DEFAULTS={dispatch:function(e,t,i){if(t.compiledMasks.length){var s=t.rawInputValue,n=t.compiledMasks.map(function(t,n){return t.reset(),t.append(s,{raw:!0}),t.append(e,i),{weight:t.rawInputValue.length,index:n}});return n.sort(function(e,t){return t.weight-e.weight}),t.compiledMasks[n[0].index]}}},Vn.MaskedDynamic=pr;var fr={MASKED:"value",UNMASKED:"unmaskedValue",TYPED:"typedValue"};function mr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:fr.MASKED,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:fr.MASKED,s=Yn(e);return function(e){return s.runIsolated(function(s){return s[t]=e,s[i]})}}function gr(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),s=1;s<t;s++)i[s-1]=arguments[s];return mr.apply(void 0,i)(e)}Vn.PIPE_TYPE=fr,Vn.createPipe=mr,Vn.pipe=gr;try{globalThis.IMask=Vn}catch(e){}e.HTMLContenteditableMaskElement=ar,e.HTMLMaskElement=rr,e.InputMask=lr,e.MaskElement=nr,e.Masked=Hn,e.MaskedDate=sr,e.MaskedDynamic=pr,e.MaskedEnum=cr,e.MaskedFunction=ur,e.MaskedNumber=hr,e.MaskedPattern=tr,e.MaskedRange=ir,e.MaskedRegExp=Qn,e.PIPE_TYPE=fr,e.createMask=Yn,e.createPipe=mr,e.default=Vn,e.pipe=gr,Object.defineProperty(e,"__esModule",{value:!0})}),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).Swiper=t()}(this,function(){"use strict";function e(e){return null!==e&&"object"==typeof e&&"constructor"in e&&e.constructor===Object}function t(i,s){void 0===i&&(i={}),void 0===s&&(s={}),Object.keys(s).forEach(n=>{void 0===i[n]?i[n]=s[n]:e(s[n])&&e(i[n])&&Object.keys(s[n]).length>0&&t(i[n],s[n])})}const i={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector:()=>null,querySelectorAll:()=>[],getElementById:()=>null,createEvent:()=>({initEvent(){}}),createElement:()=>({children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName:()=>[]}),createElementNS:()=>({}),importNode:()=>null,location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function s(){const e="undefined"!=typeof document?document:{};return t(e,i),e}const n={document:i,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle:()=>({getPropertyValue:()=>""}),Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia:()=>({}),requestAnimationFrame:e=>"undefined"==typeof setTimeout?(e(),null):setTimeout(e,0),cancelAnimationFrame(e){"undefined"!=typeof setTimeout&&clearTimeout(e)}};function r(){const e="undefined"!=typeof window?window:{};return t(e,n),e}class a extends Array{constructor(e){"number"==typeof e?super(e):(super(...e||[]),function(e){const t=e.__proto__;Object.defineProperty(e,"__proto__",{get:()=>t,set(e){t.__proto__=e}})}(this))}}function o(e){void 0===e&&(e=[]);const t=[];return e.forEach(e=>{Array.isArray(e)?t.push(...o(e)):t.push(e)}),t}function l(e,t){return Array.prototype.filter.call(e,t)}function c(e,t){const i=r(),n=s();let o=[];if(!t&&e instanceof a)return e;if(!e)return new a(o);if("string"==typeof e){const i=e.trim();if(i.indexOf("<")>=0&&i.indexOf(">")>=0){let e="div";0===i.indexOf("<li")&&(e="ul"),0===i.indexOf("<tr")&&(e="tbody"),0!==i.indexOf("<td")&&0!==i.indexOf("<th")||(e="tr"),0===i.indexOf("<tbody")&&(e="table"),0===i.indexOf("<option")&&(e="select");const t=n.createElement(e);t.innerHTML=i;for(let e=0;e<t.childNodes.length;e+=1)o.push(t.childNodes[e])}else o=function(e,t){if("string"!=typeof e)return[e];const i=[],s=t.querySelectorAll(e);for(let e=0;e<s.length;e+=1)i.push(s[e]);return i}(e.trim(),t||n)}else if(e.nodeType||e===i||e===n)o.push(e);else if(Array.isArray(e)){if(e instanceof a)return e;o=e}return new a(function(e){const t=[];for(let i=0;i<e.length;i+=1)-1===t.indexOf(e[i])&&t.push(e[i]);return t}(o))}c.fn=a.prototype;const h={addClass:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];const s=o(t.map(e=>e.split(" ")));return this.forEach(e=>{e.classList.add(...s)}),this},removeClass:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];const s=o(t.map(e=>e.split(" ")));return this.forEach(e=>{e.classList.remove(...s)}),this},hasClass:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];const s=o(t.map(e=>e.split(" ")));return l(this,e=>s.filter(t=>e.classList.contains(t)).length>0).length>0},toggleClass:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];const s=o(t.map(e=>e.split(" ")));this.forEach(e=>{s.forEach(t=>{e.classList.toggle(t)})})},attr:function(e,t){if(1===arguments.length&&"string"==typeof e)return this[0]?this[0].getAttribute(e):void 0;for(let i=0;i<this.length;i+=1)if(2===arguments.length)this[i].setAttribute(e,t);else for(const t in e)this[i][t]=e[t],this[i].setAttribute(t,e[t]);return this},removeAttr:function(e){for(let t=0;t<this.length;t+=1)this[t].removeAttribute(e);return this},transform:function(e){for(let t=0;t<this.length;t+=1)this[t].style.transform=e;return this},transition:function(e){for(let t=0;t<this.length;t+=1)this[t].style.transitionDuration="string"!=typeof e?`${e}ms`:e;return this},on:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];let[s,n,r,a]=t;function o(e){const t=e.target;if(!t)return;const i=e.target.dom7EventData||[];if(i.indexOf(e)<0&&i.unshift(e),c(t).is(n))r.apply(t,i);else{const e=c(t).parents();for(let t=0;t<e.length;t+=1)c(e[t]).is(n)&&r.apply(e[t],i)}}function l(e){const t=e&&e.target&&e.target.dom7EventData||[];t.indexOf(e)<0&&t.unshift(e),r.apply(this,t)}"function"==typeof t[1]&&([s,r,a]=t,n=void 0),a||(a=!1);const h=s.split(" ");let u;for(let e=0;e<this.length;e+=1){const t=this[e];if(n)for(u=0;u<h.length;u+=1){const e=h[u];t.dom7LiveListeners||(t.dom7LiveListeners={}),t.dom7LiveListeners[e]||(t.dom7LiveListeners[e]=[]),t.dom7LiveListeners[e].push({listener:r,proxyListener:o}),t.addEventListener(e,o,a)}else for(u=0;u<h.length;u+=1){const e=h[u];t.dom7Listeners||(t.dom7Listeners={}),t.dom7Listeners[e]||(t.dom7Listeners[e]=[]),t.dom7Listeners[e].push({listener:r,proxyListener:l}),t.addEventListener(e,l,a)}}return this},off:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];let[s,n,r,a]=t;"function"==typeof t[1]&&([s,r,a]=t,n=void 0),a||(a=!1);const o=s.split(" ");for(let e=0;e<o.length;e+=1){const t=o[e];for(let e=0;e<this.length;e+=1){const i=this[e];let s;if(!n&&i.dom7Listeners?s=i.dom7Listeners[t]:n&&i.dom7LiveListeners&&(s=i.dom7LiveListeners[t]),s&&s.length)for(let e=s.length-1;e>=0;e-=1){const n=s[e];r&&n.listener===r||r&&n.listener&&n.listener.dom7proxy&&n.listener.dom7proxy===r?(i.removeEventListener(t,n.proxyListener,a),s.splice(e,1)):r||(i.removeEventListener(t,n.proxyListener,a),s.splice(e,1))}}}return this},trigger:function(){const e=r();for(var t=arguments.length,i=new Array(t),s=0;s<t;s++)i[s]=arguments[s];const n=i[0].split(" "),a=i[1];for(let t=0;t<n.length;t+=1){const s=n[t];for(let t=0;t<this.length;t+=1){const n=this[t];if(e.CustomEvent){const t=new e.CustomEvent(s,{detail:a,bubbles:!0,cancelable:!0});n.dom7EventData=i.filter((e,t)=>t>0),n.dispatchEvent(t),n.dom7EventData=[],delete n.dom7EventData}}}return this},transitionEnd:function(e){const t=this;return e&&t.on("transitionend",function i(s){s.target===this&&(e.call(this,s),t.off("transitionend",i))}),this},outerWidth:function(e){if(this.length>0){if(e){const e=this.styles();return this[0].offsetWidth+parseFloat(e.getPropertyValue("margin-right"))+parseFloat(e.getPropertyValue("margin-left"))}return this[0].offsetWidth}return null},outerHeight:function(e){if(this.length>0){if(e){const e=this.styles();return this[0].offsetHeight+parseFloat(e.getPropertyValue("margin-top"))+parseFloat(e.getPropertyValue("margin-bottom"))}return this[0].offsetHeight}return null},styles:function(){const e=r();return this[0]?e.getComputedStyle(this[0],null):{}},offset:function(){if(this.length>0){const e=r(),t=s(),i=this[0],n=i.getBoundingClientRect(),a=t.body,o=i.clientTop||a.clientTop||0,l=i.clientLeft||a.clientLeft||0,c=i===e?e.scrollY:i.scrollTop,h=i===e?e.scrollX:i.scrollLeft;return{top:n.top+c-o,left:n.left+h-l}}return null},css:function(e,t){const i=r();let s;if(1===arguments.length){if("string"!=typeof e){for(s=0;s<this.length;s+=1)for(const t in e)this[s].style[t]=e[t];return this}if(this[0])return i.getComputedStyle(this[0],null).getPropertyValue(e)}if(2===arguments.length&&"string"==typeof e){for(s=0;s<this.length;s+=1)this[s].style[e]=t;return this}return this},each:function(e){return e?(this.forEach((t,i)=>{e.apply(t,[t,i])}),this):this},html:function(e){if(void 0===e)return this[0]?this[0].innerHTML:null;for(let t=0;t<this.length;t+=1)this[t].innerHTML=e;return this},text:function(e){if(void 0===e)return this[0]?this[0].textContent.trim():null;for(let t=0;t<this.length;t+=1)this[t].textContent=e;return this},is:function(e){const t=r(),i=s(),n=this[0];let o,l;if(!n||void 0===e)return!1;if("string"==typeof e){if(n.matches)return n.matches(e);if(n.webkitMatchesSelector)return n.webkitMatchesSelector(e);if(n.msMatchesSelector)return n.msMatchesSelector(e);for(o=c(e),l=0;l<o.length;l+=1)if(o[l]===n)return!0;return!1}if(e===i)return n===i;if(e===t)return n===t;if(e.nodeType||e instanceof a){for(o=e.nodeType?[e]:e,l=0;l<o.length;l+=1)if(o[l]===n)return!0;return!1}return!1},index:function(){let e,t=this[0];if(t){for(e=0;null!==(t=t.previousSibling);)1===t.nodeType&&(e+=1);return e}},eq:function(e){if(void 0===e)return this;const t=this.length;if(e>t-1)return c([]);if(e<0){const i=t+e;return c(i<0?[]:[this[i]])}return c([this[e]])},append:function(){let e;const t=s();for(let i=0;i<arguments.length;i+=1){e=i<0||arguments.length<=i?void 0:arguments[i];for(let i=0;i<this.length;i+=1)if("string"==typeof e){const s=t.createElement("div");for(s.innerHTML=e;s.firstChild;)this[i].appendChild(s.firstChild)}else if(e instanceof a)for(let t=0;t<e.length;t+=1)this[i].appendChild(e[t]);else this[i].appendChild(e)}return this},prepend:function(e){const t=s();let i,n;for(i=0;i<this.length;i+=1)if("string"==typeof e){const s=t.createElement("div");for(s.innerHTML=e,n=s.childNodes.length-1;n>=0;n-=1)this[i].insertBefore(s.childNodes[n],this[i].childNodes[0])}else if(e instanceof a)for(n=0;n<e.length;n+=1)this[i].insertBefore(e[n],this[i].childNodes[0]);else this[i].insertBefore(e,this[i].childNodes[0]);return this},next:function(e){return this.length>0?e?this[0].nextElementSibling&&c(this[0].nextElementSibling).is(e)?c([this[0].nextElementSibling]):c([]):this[0].nextElementSibling?c([this[0].nextElementSibling]):c([]):c([])},nextAll:function(e){const t=[];let i=this[0];if(!i)return c([]);for(;i.nextElementSibling;){const s=i.nextElementSibling;e?c(s).is(e)&&t.push(s):t.push(s),i=s}return c(t)},prev:function(e){if(this.length>0){const t=this[0];return e?t.previousElementSibling&&c(t.previousElementSibling).is(e)?c([t.previousElementSibling]):c([]):t.previousElementSibling?c([t.previousElementSibling]):c([])}return c([])},prevAll:function(e){const t=[];let i=this[0];if(!i)return c([]);for(;i.previousElementSibling;){const s=i.previousElementSibling;e?c(s).is(e)&&t.push(s):t.push(s),i=s}return c(t)},parent:function(e){const t=[];for(let i=0;i<this.length;i+=1)null!==this[i].parentNode&&(e?c(this[i].parentNode).is(e)&&t.push(this[i].parentNode):t.push(this[i].parentNode));return c(t)},parents:function(e){const t=[];for(let i=0;i<this.length;i+=1){let s=this[i].parentNode;for(;s;)e?c(s).is(e)&&t.push(s):t.push(s),s=s.parentNode}return c(t)},closest:function(e){let t=this;return void 0===e?c([]):(t.is(e)||(t=t.parents(e).eq(0)),t)},find:function(e){const t=[];for(let i=0;i<this.length;i+=1){const s=this[i].querySelectorAll(e);for(let e=0;e<s.length;e+=1)t.push(s[e])}return c(t)},children:function(e){const t=[];for(let i=0;i<this.length;i+=1){const s=this[i].children;for(let i=0;i<s.length;i+=1)e&&!c(s[i]).is(e)||t.push(s[i])}return c(t)},filter:function(e){return c(l(this,e))},remove:function(){for(let e=0;e<this.length;e+=1)this[e].parentNode&&this[e].parentNode.removeChild(this[e]);return this}};function u(e,t){return void 0===t&&(t=0),setTimeout(e,t)}function d(){return Date.now()}function p(e,t){void 0===t&&(t="x");const i=r();let s,n,a;const o=function(e){const t=r();let i;return t.getComputedStyle&&(i=t.getComputedStyle(e,null)),!i&&e.currentStyle&&(i=e.currentStyle),i||(i=e.style),i}(e);return i.WebKitCSSMatrix?((n=o.transform||o.webkitTransform).split(",").length>6&&(n=n.split(", ").map(e=>e.replace(",",".")).join(", ")),a=new i.WebKitCSSMatrix("none"===n?"":n)):s=(a=o.MozTransform||o.OTransform||o.MsTransform||o.msTransform||o.transform||o.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,")).toString().split(","),"x"===t&&(n=i.WebKitCSSMatrix?a.m41:16===s.length?parseFloat(s[12]):parseFloat(s[4])),"y"===t&&(n=i.WebKitCSSMatrix?a.m42:16===s.length?parseFloat(s[13]):parseFloat(s[5])),n||0}function f(e){return"object"==typeof e&&null!==e&&e.constructor&&"Object"===Object.prototype.toString.call(e).slice(8,-1)}function m(e){return"undefined"!=typeof window&&void 0!==window.HTMLElement?e instanceof HTMLElement:e&&(1===e.nodeType||11===e.nodeType)}function g(){const e=Object(arguments.length<=0?void 0:arguments[0]),t=["__proto__","constructor","prototype"];for(let i=1;i<arguments.length;i+=1){const s=i<0||arguments.length<=i?void 0:arguments[i];if(null!=s&&!m(s)){const i=Object.keys(Object(s)).filter(e=>t.indexOf(e)<0);for(let t=0,n=i.length;t<n;t+=1){const n=i[t],r=Object.getOwnPropertyDescriptor(s,n);void 0!==r&&r.enumerable&&(f(e[n])&&f(s[n])?s[n].__swiper__?e[n]=s[n]:g(e[n],s[n]):!f(e[n])&&f(s[n])?(e[n]={},s[n].__swiper__?e[n]=s[n]:g(e[n],s[n])):e[n]=s[n])}}}return e}function v(e,t,i){e.style.setProperty(t,i)}function y(e){let{swiper:t,targetPosition:i,side:s}=e;const n=r(),a=-t.translate;let o,l=null;const c=t.params.speed;t.wrapperEl.style.scrollSnapType="none",n.cancelAnimationFrame(t.cssModeFrameID);const h=i>a?"next":"prev",u=(e,t)=>"next"===h&&e>=t||"prev"===h&&e<=t,d=()=>{o=(new Date).getTime(),null===l&&(l=o);const e=Math.max(Math.min((o-l)/c,1),0),r=.5-Math.cos(e*Math.PI)/2;let h=a+r*(i-a);if(u(h,i)&&(h=i),t.wrapperEl.scrollTo({[s]:h}),u(h,i))return t.wrapperEl.style.overflow="hidden",t.wrapperEl.style.scrollSnapType="",setTimeout(()=>{t.wrapperEl.style.overflow="",t.wrapperEl.scrollTo({[s]:h})}),void n.cancelAnimationFrame(t.cssModeFrameID);t.cssModeFrameID=n.requestAnimationFrame(d)};d()}let b,w,x;function _(){return b||(b=function(){const e=r(),t=s();return{smoothScroll:t.documentElement&&"scrollBehavior"in t.documentElement.style,touch:!!("ontouchstart"in e||e.DocumentTouch&&t instanceof e.DocumentTouch),passiveListener:function(){let t=!1;try{const i=Object.defineProperty({},"passive",{get(){t=!0}});e.addEventListener("testPassiveListener",null,i)}catch(e){}return t}(),gestures:"ongesturestart"in e}}()),b}function k(e){return void 0===e&&(e={}),w||(w=function(e){let{userAgent:t}=void 0===e?{}:e;const i=_(),s=r(),n=s.navigator.platform,a=t||s.navigator.userAgent,o={ios:!1,android:!1},l=s.screen.width,c=s.screen.height,h=a.match(/(Android);?[\s\/]+([\d.]+)?/);let u=a.match(/(iPad).*OS\s([\d_]+)/);const d=a.match(/(iPod)(.*OS\s([\d_]+))?/),p=!u&&a.match(/(iPhone\sOS|iOS)\s([\d_]+)/),f="Win32"===n;let m="MacIntel"===n;return!u&&m&&i.touch&&["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"].indexOf(`${l}x${c}`)>=0&&((u=a.match(/(Version)\/([\d.]+)/))||(u=[0,1,"13_0_0"]),m=!1),h&&!f&&(o.os="android",o.android=!0),(u||p||d)&&(o.os="ios",o.ios=!0),o}(e)),w}function E(){return x||(x=function(){const e=r();return{isSafari:function(){const t=e.navigator.userAgent.toLowerCase();return t.indexOf("safari")>=0&&t.indexOf("chrome")<0&&t.indexOf("android")<0}(),isWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(e.navigator.userAgent)}}()),x}function S(e){let{swiper:t,runCallbacks:i,direction:s,step:n}=e;const{activeIndex:r,previousIndex:a}=t;let o=s;if(o||(o=r>a?"next":r<a?"prev":"reset"),t.emit(`transition${n}`),i&&r!==a){if("reset"===o)return void t.emit(`slideResetTransition${n}`);t.emit(`slideChangeTransition${n}`),"next"===o?t.emit(`slideNextTransition${n}`):t.emit(`slidePrevTransition${n}`)}}function C(){const e=this,{params:t,el:i}=e;if(i&&0===i.offsetWidth)return;t.breakpoints&&e.setBreakpoint();const{allowSlideNext:s,allowSlidePrev:n,snapGrid:r}=e;e.allowSlideNext=!0,e.allowSlidePrev=!0,e.updateSize(),e.updateSlides(),e.updateSlidesClasses(),("auto"===t.slidesPerView||t.slidesPerView>1)&&e.isEnd&&!e.isBeginning&&!e.params.centeredSlides?e.slideTo(e.slides.length-1,0,!1,!0):e.slideTo(e.activeIndex,0,!1,!0),e.autoplay&&e.autoplay.running&&e.autoplay.paused&&e.autoplay.run(),e.allowSlidePrev=n,e.allowSlideNext=s,e.params.watchOverflow&&r!==e.snapGrid&&e.checkOverflow()}Object.keys(h).forEach(e=>{Object.defineProperty(c.fn,e,{value:h[e],writable:!0})});let T=!1;function M(){}const P=(e,t)=>{const i=s(),{params:n,touchEvents:r,el:a,wrapperEl:o,device:l,support:c}=e,h=!!n.nested,u="on"===t?"addEventListener":"removeEventListener",d=t;if(c.touch){const t=!("touchstart"!==r.start||!c.passiveListener||!n.passiveListeners)&&{passive:!0,capture:!1};a[u](r.start,e.onTouchStart,t),a[u](r.move,e.onTouchMove,c.passiveListener?{passive:!1,capture:h}:h),a[u](r.end,e.onTouchEnd,t),r.cancel&&a[u](r.cancel,e.onTouchEnd,t)}else a[u](r.start,e.onTouchStart,!1),i[u](r.move,e.onTouchMove,h),i[u](r.end,e.onTouchEnd,!1);(n.preventClicks||n.preventClicksPropagation)&&a[u]("click",e.onClick,!0),n.cssMode&&o[u]("scroll",e.onScroll),n.updateOnWindowResize?e[d](l.ios||l.android?"resize orientationchange observerUpdate":"resize observerUpdate",C,!0):e[d]("observerUpdate",C,!0)};const A=(e,t)=>e.grid&&t.grid&&t.grid.rows>1;var O={init:!0,direction:"horizontal",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:0,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,preloadImages:!0,updateOnImagesReady:!0,loop:!1,loopAdditionalSlides:0,loopedSlides:null,loopFillGroupWithBlank:!1,loopPreventsSlide:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-invisible-blank",slideActiveClass:"swiper-slide-active",slideDuplicateActiveClass:"swiper-slide-duplicate-active",slideVisibleClass:"swiper-slide-visible",slideDuplicateClass:"swiper-slide-duplicate",slideNextClass:"swiper-slide-next",slideDuplicateNextClass:"swiper-slide-duplicate-next",slidePrevClass:"swiper-slide-prev",slideDuplicatePrevClass:"swiper-slide-duplicate-prev",wrapperClass:"swiper-wrapper",runCallbacksOnInit:!0,_emitClasses:!1};function D(e,t){return function(i){void 0===i&&(i={});const s=Object.keys(i)[0],n=i[s];"object"==typeof n&&null!==n?(["navigation","pagination","scrollbar"].indexOf(s)>=0&&!0===e[s]&&(e[s]={auto:!0}),s in e&&"enabled"in n?(!0===e[s]&&(e[s]={enabled:!0}),"object"!=typeof e[s]||"enabled"in e[s]||(e[s].enabled=!0),e[s]||(e[s]={enabled:!1}),g(t,i)):g(t,i)):g(t,i)}}const L={eventsEmitter:{on(e,t,i){const s=this;if(!s.eventsListeners||s.destroyed)return s;if("function"!=typeof t)return s;const n=i?"unshift":"push";return e.split(" ").forEach(e=>{s.eventsListeners[e]||(s.eventsListeners[e]=[]),s.eventsListeners[e][n](t)}),s},once(e,t,i){const s=this;if(!s.eventsListeners||s.destroyed)return s;if("function"!=typeof t)return s;function n(){s.off(e,n),n.__emitterProxy&&delete n.__emitterProxy;for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];t.apply(s,r)}return n.__emitterProxy=t,s.on(e,n,i)},onAny(e,t){const i=this;if(!i.eventsListeners||i.destroyed)return i;if("function"!=typeof e)return i;const s=t?"unshift":"push";return i.eventsAnyListeners.indexOf(e)<0&&i.eventsAnyListeners[s](e),i},offAny(e){const t=this;if(!t.eventsListeners||t.destroyed)return t;if(!t.eventsAnyListeners)return t;const i=t.eventsAnyListeners.indexOf(e);return i>=0&&t.eventsAnyListeners.splice(i,1),t},off(e,t){const i=this;return!i.eventsListeners||i.destroyed?i:i.eventsListeners?(e.split(" ").forEach(e=>{void 0===t?i.eventsListeners[e]=[]:i.eventsListeners[e]&&i.eventsListeners[e].forEach((s,n)=>{(s===t||s.__emitterProxy&&s.__emitterProxy===t)&&i.eventsListeners[e].splice(n,1)})}),i):i},emit(){const e=this;if(!e.eventsListeners||e.destroyed)return e;if(!e.eventsListeners)return e;let t,i,s;for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return"string"==typeof r[0]||Array.isArray(r[0])?(t=r[0],i=r.slice(1,r.length),s=e):(t=r[0].events,i=r[0].data,s=r[0].context||e),i.unshift(s),(Array.isArray(t)?t:t.split(" ")).forEach(t=>{e.eventsAnyListeners&&e.eventsAnyListeners.length&&e.eventsAnyListeners.forEach(e=>{e.apply(s,[t,...i])}),e.eventsListeners&&e.eventsListeners[t]&&e.eventsListeners[t].forEach(e=>{e.apply(s,i)})}),e}},update:{updateSize:function(){const e=this;let t,i;const s=e.$el;t=void 0!==e.params.width&&null!==e.params.width?e.params.width:s[0].clientWidth,i=void 0!==e.params.height&&null!==e.params.height?e.params.height:s[0].clientHeight,0===t&&e.isHorizontal()||0===i&&e.isVertical()||(t=t-parseInt(s.css("padding-left")||0,10)-parseInt(s.css("padding-right")||0,10),i=i-parseInt(s.css("padding-top")||0,10)-parseInt(s.css("padding-bottom")||0,10),Number.isNaN(t)&&(t=0),Number.isNaN(i)&&(i=0),Object.assign(e,{width:t,height:i,size:e.isHorizontal()?t:i}))},updateSlides:function(){const e=this;function t(t){return e.isHorizontal()?t:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[t]}function i(e,i){return parseFloat(e.getPropertyValue(t(i))||0)}const s=e.params,{$wrapperEl:n,size:r,rtlTranslate:a,wrongRTL:o}=e,l=e.virtual&&s.virtual.enabled,c=l?e.virtual.slides.length:e.slides.length,h=n.children(`.${e.params.slideClass}`),u=l?e.virtual.slides.length:h.length;let d=[];const p=[],f=[];let m=s.slidesOffsetBefore;"function"==typeof m&&(m=s.slidesOffsetBefore.call(e));let g=s.slidesOffsetAfter;"function"==typeof g&&(g=s.slidesOffsetAfter.call(e));const y=e.snapGrid.length,b=e.slidesGrid.length;let w=s.spaceBetween,x=-m,_=0,k=0;if(void 0===r)return;"string"==typeof w&&w.indexOf("%")>=0&&(w=parseFloat(w.replace("%",""))/100*r),e.virtualSize=-w,a?h.css({marginLeft:"",marginBottom:"",marginTop:""}):h.css({marginRight:"",marginBottom:"",marginTop:""}),s.centeredSlides&&s.cssMode&&(v(e.wrapperEl,"--swiper-centered-offset-before",""),v(e.wrapperEl,"--swiper-centered-offset-after",""));const E=s.grid&&s.grid.rows>1&&e.grid;let S;E&&e.grid.initSlides(u);const C="auto"===s.slidesPerView&&s.breakpoints&&Object.keys(s.breakpoints).filter(e=>void 0!==s.breakpoints[e].slidesPerView).length>0;for(let n=0;n<u;n+=1){S=0;const a=h.eq(n);if(E&&e.grid.updateSlide(n,a,u,t),"none"!==a.css("display")){if("auto"===s.slidesPerView){C&&(h[n].style[t("width")]="");const r=getComputedStyle(a[0]),o=a[0].style.transform,l=a[0].style.webkitTransform;if(o&&(a[0].style.transform="none"),l&&(a[0].style.webkitTransform="none"),s.roundLengths)S=e.isHorizontal()?a.outerWidth(!0):a.outerHeight(!0);else{const e=i(r,"width"),t=i(r,"padding-left"),s=i(r,"padding-right"),n=i(r,"margin-left"),o=i(r,"margin-right"),l=r.getPropertyValue("box-sizing");if(l&&"border-box"===l)S=e+n+o;else{const{clientWidth:i,offsetWidth:r}=a[0];S=e+t+s+n+o+(r-i)}}o&&(a[0].style.transform=o),l&&(a[0].style.webkitTransform=l),s.roundLengths&&(S=Math.floor(S))}else S=(r-(s.slidesPerView-1)*w)/s.slidesPerView,s.roundLengths&&(S=Math.floor(S)),h[n]&&(h[n].style[t("width")]=`${S}px`);h[n]&&(h[n].swiperSlideSize=S),f.push(S),s.centeredSlides?(x=x+S/2+_/2+w,0===_&&0!==n&&(x=x-r/2-w),0===n&&(x=x-r/2-w),Math.abs(x)<.001&&(x=0),s.roundLengths&&(x=Math.floor(x)),k%s.slidesPerGroup==0&&d.push(x),p.push(x)):(s.roundLengths&&(x=Math.floor(x)),(k-Math.min(e.params.slidesPerGroupSkip,k))%e.params.slidesPerGroup==0&&d.push(x),p.push(x),x=x+S+w),e.virtualSize+=S+w,_=S,k+=1}}if(e.virtualSize=Math.max(e.virtualSize,r)+g,a&&o&&("slide"===s.effect||"coverflow"===s.effect)&&n.css({width:`${e.virtualSize+s.spaceBetween}px`}),s.setWrapperSize&&n.css({[t("width")]:`${e.virtualSize+s.spaceBetween}px`}),E&&e.grid.updateWrapperSize(S,d,t),!s.centeredSlides){const t=[];for(let i=0;i<d.length;i+=1){let n=d[i];s.roundLengths&&(n=Math.floor(n)),d[i]<=e.virtualSize-r&&t.push(n)}d=t,Math.floor(e.virtualSize-r)-Math.floor(d[d.length-1])>1&&d.push(e.virtualSize-r)}if(0===d.length&&(d=[0]),0!==s.spaceBetween){const i=e.isHorizontal()&&a?"marginLeft":t("marginRight");h.filter((e,t)=>!s.cssMode||t!==h.length-1).css({[i]:`${w}px`})}if(s.centeredSlides&&s.centeredSlidesBounds){let e=0;f.forEach(t=>{e+=t+(s.spaceBetween?s.spaceBetween:0)});const t=(e-=s.spaceBetween)-r;d=d.map(e=>e<0?-m:e>t?t+g:e)}if(s.centerInsufficientSlides){let e=0;if(f.forEach(t=>{e+=t+(s.spaceBetween?s.spaceBetween:0)}),(e-=s.spaceBetween)<r){const t=(r-e)/2;d.forEach((e,i)=>{d[i]=e-t}),p.forEach((e,i)=>{p[i]=e+t})}}if(Object.assign(e,{slides:h,snapGrid:d,slidesGrid:p,slidesSizesGrid:f}),s.centeredSlides&&s.cssMode&&!s.centeredSlidesBounds){v(e.wrapperEl,"--swiper-centered-offset-before",-d[0]+"px"),v(e.wrapperEl,"--swiper-centered-offset-after",e.size/2-f[f.length-1]/2+"px");const t=-e.snapGrid[0],i=-e.slidesGrid[0];e.snapGrid=e.snapGrid.map(e=>e+t),e.slidesGrid=e.slidesGrid.map(e=>e+i)}if(u!==c&&e.emit("slidesLengthChange"),d.length!==y&&(e.params.watchOverflow&&e.checkOverflow(),e.emit("snapGridLengthChange")),p.length!==b&&e.emit("slidesGridLengthChange"),s.watchSlidesProgress&&e.updateSlidesOffset(),!(l||s.cssMode||"slide"!==s.effect&&"fade"!==s.effect)){const t=`${s.containerModifierClass}backface-hidden`,i=e.$el.hasClass(t);u<=s.maxBackfaceHiddenSlides?i||e.$el.addClass(t):i&&e.$el.removeClass(t)}},updateAutoHeight:function(e){const t=this,i=[],s=t.virtual&&t.params.virtual.enabled;let n,r=0;"number"==typeof e?t.setTransition(e):!0===e&&t.setTransition(t.params.speed);const a=e=>s?t.slides.filter(t=>parseInt(t.getAttribute("data-swiper-slide-index"),10)===e)[0]:t.slides.eq(e)[0];if("auto"!==t.params.slidesPerView&&t.params.slidesPerView>1)if(t.params.centeredSlides)(t.visibleSlides||c([])).each(e=>{i.push(e)});else for(n=0;n<Math.ceil(t.params.slidesPerView);n+=1){const e=t.activeIndex+n;if(e>t.slides.length&&!s)break;i.push(a(e))}else i.push(a(t.activeIndex));for(n=0;n<i.length;n+=1)if(void 0!==i[n]){const e=i[n].offsetHeight;r=e>r?e:r}(r||0===r)&&t.$wrapperEl.css("height",`${r}px`)},updateSlidesOffset:function(){const e=this,t=e.slides;for(let i=0;i<t.length;i+=1)t[i].swiperSlideOffset=e.isHorizontal()?t[i].offsetLeft:t[i].offsetTop},updateSlidesProgress:function(e){void 0===e&&(e=this&&this.translate||0);const t=this,i=t.params,{slides:s,rtlTranslate:n,snapGrid:r}=t;if(0===s.length)return;void 0===s[0].swiperSlideOffset&&t.updateSlidesOffset();let a=-e;n&&(a=e),s.removeClass(i.slideVisibleClass),t.visibleSlidesIndexes=[],t.visibleSlides=[];for(let e=0;e<s.length;e+=1){const o=s[e];let l=o.swiperSlideOffset;i.cssMode&&i.centeredSlides&&(l-=s[0].swiperSlideOffset);const c=(a+(i.centeredSlides?t.minTranslate():0)-l)/(o.swiperSlideSize+i.spaceBetween),h=(a-r[0]+(i.centeredSlides?t.minTranslate():0)-l)/(o.swiperSlideSize+i.spaceBetween),u=-(a-l),d=u+t.slidesSizesGrid[e];(u>=0&&u<t.size-1||d>1&&d<=t.size||u<=0&&d>=t.size)&&(t.visibleSlides.push(o),t.visibleSlidesIndexes.push(e),s.eq(e).addClass(i.slideVisibleClass)),o.progress=n?-c:c,o.originalProgress=n?-h:h}t.visibleSlides=c(t.visibleSlides)},updateProgress:function(e){const t=this;if(void 0===e){const i=t.rtlTranslate?-1:1;e=t&&t.translate&&t.translate*i||0}const i=t.params,s=t.maxTranslate()-t.minTranslate();let{progress:n,isBeginning:r,isEnd:a}=t;const o=r,l=a;0===s?(n=0,r=!0,a=!0):(r=(n=(e-t.minTranslate())/s)<=0,a=n>=1),Object.assign(t,{progress:n,isBeginning:r,isEnd:a}),(i.watchSlidesProgress||i.centeredSlides&&i.autoHeight)&&t.updateSlidesProgress(e),r&&!o&&t.emit("reachBeginning toEdge"),a&&!l&&t.emit("reachEnd toEdge"),(o&&!r||l&&!a)&&t.emit("fromEdge"),t.emit("progress",n)},updateSlidesClasses:function(){const e=this,{slides:t,params:i,$wrapperEl:s,activeIndex:n,realIndex:r}=e,a=e.virtual&&i.virtual.enabled;let o;t.removeClass(`${i.slideActiveClass} ${i.slideNextClass} ${i.slidePrevClass} ${i.slideDuplicateActiveClass} ${i.slideDuplicateNextClass} ${i.slideDuplicatePrevClass}`),(o=a?e.$wrapperEl.find(`.${i.slideClass}[data-swiper-slide-index="${n}"]`):t.eq(n)).addClass(i.slideActiveClass),i.loop&&(o.hasClass(i.slideDuplicateClass)?s.children(`.${i.slideClass}:not(.${i.slideDuplicateClass})[data-swiper-slide-index="${r}"]`).addClass(i.slideDuplicateActiveClass):s.children(`.${i.slideClass}.${i.slideDuplicateClass}[data-swiper-slide-index="${r}"]`).addClass(i.slideDuplicateActiveClass));let l=o.nextAll(`.${i.slideClass}`).eq(0).addClass(i.slideNextClass);i.loop&&0===l.length&&(l=t.eq(0)).addClass(i.slideNextClass);let c=o.prevAll(`.${i.slideClass}`).eq(0).addClass(i.slidePrevClass);i.loop&&0===c.length&&(c=t.eq(-1)).addClass(i.slidePrevClass),i.loop&&(l.hasClass(i.slideDuplicateClass)?s.children(`.${i.slideClass}:not(.${i.slideDuplicateClass})[data-swiper-slide-index="${l.attr("data-swiper-slide-index")}"]`).addClass(i.slideDuplicateNextClass):s.children(`.${i.slideClass}.${i.slideDuplicateClass}[data-swiper-slide-index="${l.attr("data-swiper-slide-index")}"]`).addClass(i.slideDuplicateNextClass),c.hasClass(i.slideDuplicateClass)?s.children(`.${i.slideClass}:not(.${i.slideDuplicateClass})[data-swiper-slide-index="${c.attr("data-swiper-slide-index")}"]`).addClass(i.slideDuplicatePrevClass):s.children(`.${i.slideClass}.${i.slideDuplicateClass}[data-swiper-slide-index="${c.attr("data-swiper-slide-index")}"]`).addClass(i.slideDuplicatePrevClass)),e.emitSlidesClasses()},updateActiveIndex:function(e){const t=this,i=t.rtlTranslate?t.translate:-t.translate,{slidesGrid:s,snapGrid:n,params:r,activeIndex:a,realIndex:o,snapIndex:l}=t;let c,h=e;if(void 0===h){for(let e=0;e<s.length;e+=1)void 0!==s[e+1]?i>=s[e]&&i<s[e+1]-(s[e+1]-s[e])/2?h=e:i>=s[e]&&i<s[e+1]&&(h=e+1):i>=s[e]&&(h=e);r.normalizeSlideIndex&&(h<0||void 0===h)&&(h=0)}if(n.indexOf(i)>=0)c=n.indexOf(i);else{const e=Math.min(r.slidesPerGroupSkip,h);c=e+Math.floor((h-e)/r.slidesPerGroup)}if(c>=n.length&&(c=n.length-1),h===a)return void(c!==l&&(t.snapIndex=c,t.emit("snapIndexChange")));const u=parseInt(t.slides.eq(h).attr("data-swiper-slide-index")||h,10);Object.assign(t,{snapIndex:c,realIndex:u,previousIndex:a,activeIndex:h}),t.emit("activeIndexChange"),t.emit("snapIndexChange"),o!==u&&t.emit("realIndexChange"),(t.initialized||t.params.runCallbacksOnInit)&&t.emit("slideChange")},updateClickedSlide:function(e){const t=this,i=t.params,s=c(e).closest(`.${i.slideClass}`)[0];let n,r=!1;if(s)for(let e=0;e<t.slides.length;e+=1)if(t.slides[e]===s){r=!0,n=e;break}if(!s||!r)return t.clickedSlide=void 0,void(t.clickedIndex=void 0);t.clickedSlide=s,t.virtual&&t.params.virtual.enabled?t.clickedIndex=parseInt(c(s).attr("data-swiper-slide-index"),10):t.clickedIndex=n,i.slideToClickedSlide&&void 0!==t.clickedIndex&&t.clickedIndex!==t.activeIndex&&t.slideToClickedSlide()}},translate:{getTranslate:function(e){void 0===e&&(e=this.isHorizontal()?"x":"y");const{params:t,rtlTranslate:i,translate:s,$wrapperEl:n}=this;if(t.virtualTranslate)return i?-s:s;if(t.cssMode)return s;let r=p(n[0],e);return i&&(r=-r),r||0},setTranslate:function(e,t){const i=this,{rtlTranslate:s,params:n,$wrapperEl:r,wrapperEl:a,progress:o}=i;let l,c=0,h=0;i.isHorizontal()?c=s?-e:e:h=e,n.roundLengths&&(c=Math.floor(c),h=Math.floor(h)),n.cssMode?a[i.isHorizontal()?"scrollLeft":"scrollTop"]=i.isHorizontal()?-c:-h:n.virtualTranslate||r.transform(`translate3d(${c}px, ${h}px, 0px)`),i.previousTranslate=i.translate,i.translate=i.isHorizontal()?c:h;const u=i.maxTranslate()-i.minTranslate();(l=0===u?0:(e-i.minTranslate())/u)!==o&&i.updateProgress(e),i.emit("setTranslate",i.translate,t)},minTranslate:function(){return-this.snapGrid[0]},maxTranslate:function(){return-this.snapGrid[this.snapGrid.length-1]},translateTo:function(e,t,i,s,n){void 0===e&&(e=0),void 0===t&&(t=this.params.speed),void 0===i&&(i=!0),void 0===s&&(s=!0);const r=this,{params:a,wrapperEl:o}=r;if(r.animating&&a.preventInteractionOnTransition)return!1;const l=r.minTranslate(),c=r.maxTranslate();let h;if(h=s&&e>l?l:s&&e<c?c:e,r.updateProgress(h),a.cssMode){const e=r.isHorizontal();if(0===t)o[e?"scrollLeft":"scrollTop"]=-h;else{if(!r.support.smoothScroll)return y({swiper:r,targetPosition:-h,side:e?"left":"top"}),!0;o.scrollTo({[e?"left":"top"]:-h,behavior:"smooth"})}return!0}return 0===t?(r.setTransition(0),r.setTranslate(h),i&&(r.emit("beforeTransitionStart",t,n),r.emit("transitionEnd"))):(r.setTransition(t),r.setTranslate(h),i&&(r.emit("beforeTransitionStart",t,n),r.emit("transitionStart")),r.animating||(r.animating=!0,r.onTranslateToWrapperTransitionEnd||(r.onTranslateToWrapperTransitionEnd=function(e){r&&!r.destroyed&&e.target===this&&(r.$wrapperEl[0].removeEventListener("transitionend",r.onTranslateToWrapperTransitionEnd),r.$wrapperEl[0].removeEventListener("webkitTransitionEnd",r.onTranslateToWrapperTransitionEnd),r.onTranslateToWrapperTransitionEnd=null,delete r.onTranslateToWrapperTransitionEnd,i&&r.emit("transitionEnd"))}),r.$wrapperEl[0].addEventListener("transitionend",r.onTranslateToWrapperTransitionEnd),r.$wrapperEl[0].addEventListener("webkitTransitionEnd",r.onTranslateToWrapperTransitionEnd))),!0}},transition:{setTransition:function(e,t){const i=this;i.params.cssMode||i.$wrapperEl.transition(e),i.emit("setTransition",e,t)},transitionStart:function(e,t){void 0===e&&(e=!0);const i=this,{params:s}=i;s.cssMode||(s.autoHeight&&i.updateAutoHeight(),S({swiper:i,runCallbacks:e,direction:t,step:"Start"}))},transitionEnd:function(e,t){void 0===e&&(e=!0);const i=this,{params:s}=i;i.animating=!1,s.cssMode||(i.setTransition(0),S({swiper:i,runCallbacks:e,direction:t,step:"End"}))}},slide:{slideTo:function(e,t,i,s,n){if(void 0===e&&(e=0),void 0===t&&(t=this.params.speed),void 0===i&&(i=!0),"number"!=typeof e&&"string"!=typeof e)throw new Error(`The 'index' argument cannot have type other than 'number' or 'string'. [${typeof e}] given.`);if("string"==typeof e){const t=parseInt(e,10);if(!isFinite(t))throw new Error(`The passed-in 'index' (string) couldn't be converted to 'number'. [${e}] given.`);e=t}const r=this;let a=e;a<0&&(a=0);const{params:o,snapGrid:l,slidesGrid:c,previousIndex:h,activeIndex:u,rtlTranslate:d,wrapperEl:p,enabled:f}=r;if(r.animating&&o.preventInteractionOnTransition||!f&&!s&&!n)return!1;const m=Math.min(r.params.slidesPerGroupSkip,a);let g=m+Math.floor((a-m)/r.params.slidesPerGroup);g>=l.length&&(g=l.length-1),(u||o.initialSlide||0)===(h||0)&&i&&r.emit("beforeSlideChangeStart");const v=-l[g];if(r.updateProgress(v),o.normalizeSlideIndex)for(let e=0;e<c.length;e+=1){const t=-Math.floor(100*v),i=Math.floor(100*c[e]),s=Math.floor(100*c[e+1]);void 0!==c[e+1]?t>=i&&t<s-(s-i)/2?a=e:t>=i&&t<s&&(a=e+1):t>=i&&(a=e)}if(r.initialized&&a!==u){if(!r.allowSlideNext&&v<r.translate&&v<r.minTranslate())return!1;if(!r.allowSlidePrev&&v>r.translate&&v>r.maxTranslate()&&(u||0)!==a)return!1}let b;if(b=a>u?"next":a<u?"prev":"reset",d&&-v===r.translate||!d&&v===r.translate)return r.updateActiveIndex(a),o.autoHeight&&r.updateAutoHeight(),r.updateSlidesClasses(),"slide"!==o.effect&&r.setTranslate(v),"reset"!==b&&(r.transitionStart(i,b),r.transitionEnd(i,b)),!1;if(o.cssMode){const e=r.isHorizontal(),i=d?v:-v;if(0===t){const t=r.virtual&&r.params.virtual.enabled;t&&(r.wrapperEl.style.scrollSnapType="none",r._immediateVirtual=!0),p[e?"scrollLeft":"scrollTop"]=i,t&&requestAnimationFrame(()=>{r.wrapperEl.style.scrollSnapType="",r._swiperImmediateVirtual=!1})}else{if(!r.support.smoothScroll)return y({swiper:r,targetPosition:i,side:e?"left":"top"}),!0;p.scrollTo({[e?"left":"top"]:i,behavior:"smooth"})}return!0}return r.setTransition(t),r.setTranslate(v),r.updateActiveIndex(a),r.updateSlidesClasses(),r.emit("beforeTransitionStart",t,s),r.transitionStart(i,b),0===t?r.transitionEnd(i,b):r.animating||(r.animating=!0,r.onSlideToWrapperTransitionEnd||(r.onSlideToWrapperTransitionEnd=function(e){r&&!r.destroyed&&e.target===this&&(r.$wrapperEl[0].removeEventListener("transitionend",r.onSlideToWrapperTransitionEnd),r.$wrapperEl[0].removeEventListener("webkitTransitionEnd",r.onSlideToWrapperTransitionEnd),r.onSlideToWrapperTransitionEnd=null,delete r.onSlideToWrapperTransitionEnd,r.transitionEnd(i,b))}),r.$wrapperEl[0].addEventListener("transitionend",r.onSlideToWrapperTransitionEnd),r.$wrapperEl[0].addEventListener("webkitTransitionEnd",r.onSlideToWrapperTransitionEnd)),!0},slideToLoop:function(e,t,i,s){if(void 0===e&&(e=0),void 0===t&&(t=this.params.speed),void 0===i&&(i=!0),"string"==typeof e){const t=parseInt(e,10);if(!isFinite(t))throw new Error(`The passed-in 'index' (string) couldn't be converted to 'number'. [${e}] given.`);e=t}const n=this;let r=e;return n.params.loop&&(r+=n.loopedSlides),n.slideTo(r,t,i,s)},slideNext:function(e,t,i){void 0===e&&(e=this.params.speed),void 0===t&&(t=!0);const s=this,{animating:n,enabled:r,params:a}=s;if(!r)return s;let o=a.slidesPerGroup;"auto"===a.slidesPerView&&1===a.slidesPerGroup&&a.slidesPerGroupAuto&&(o=Math.max(s.slidesPerViewDynamic("current",!0),1));const l=s.activeIndex<a.slidesPerGroupSkip?1:o;if(a.loop){if(n&&a.loopPreventsSlide)return!1;s.loopFix(),s._clientLeft=s.$wrapperEl[0].clientLeft}return a.rewind&&s.isEnd?s.slideTo(0,e,t,i):s.slideTo(s.activeIndex+l,e,t,i)},slidePrev:function(e,t,i){void 0===e&&(e=this.params.speed),void 0===t&&(t=!0);const s=this,{params:n,animating:r,snapGrid:a,slidesGrid:o,rtlTranslate:l,enabled:c}=s;if(!c)return s;if(n.loop){if(r&&n.loopPreventsSlide)return!1;s.loopFix(),s._clientLeft=s.$wrapperEl[0].clientLeft}function h(e){return e<0?-Math.floor(Math.abs(e)):Math.floor(e)}const u=h(l?s.translate:-s.translate),d=a.map(e=>h(e));let p=a[d.indexOf(u)-1];if(void 0===p&&n.cssMode){let e;a.forEach((t,i)=>{u>=t&&(e=i)}),void 0!==e&&(p=a[e>0?e-1:e])}let f=0;if(void 0!==p&&((f=o.indexOf(p))<0&&(f=s.activeIndex-1),"auto"===n.slidesPerView&&1===n.slidesPerGroup&&n.slidesPerGroupAuto&&(f=f-s.slidesPerViewDynamic("previous",!0)+1,f=Math.max(f,0))),n.rewind&&s.isBeginning){const n=s.params.virtual&&s.params.virtual.enabled&&s.virtual?s.virtual.slides.length-1:s.slides.length-1;return s.slideTo(n,e,t,i)}return s.slideTo(f,e,t,i)},slideReset:function(e,t,i){return void 0===e&&(e=this.params.speed),void 0===t&&(t=!0),this.slideTo(this.activeIndex,e,t,i)},slideToClosest:function(e,t,i,s){void 0===e&&(e=this.params.speed),void 0===t&&(t=!0),void 0===s&&(s=.5);const n=this;let r=n.activeIndex;const a=Math.min(n.params.slidesPerGroupSkip,r),o=a+Math.floor((r-a)/n.params.slidesPerGroup),l=n.rtlTranslate?n.translate:-n.translate;if(l>=n.snapGrid[o]){const e=n.snapGrid[o];l-e>(n.snapGrid[o+1]-e)*s&&(r+=n.params.slidesPerGroup)}else{const e=n.snapGrid[o-1];l-e<=(n.snapGrid[o]-e)*s&&(r-=n.params.slidesPerGroup)}return r=Math.max(r,0),r=Math.min(r,n.slidesGrid.length-1),n.slideTo(r,e,t,i)},slideToClickedSlide:function(){const e=this,{params:t,$wrapperEl:i}=e,s="auto"===t.slidesPerView?e.slidesPerViewDynamic():t.slidesPerView;let n,r=e.clickedIndex;if(t.loop){if(e.animating)return;n=parseInt(c(e.clickedSlide).attr("data-swiper-slide-index"),10),t.centeredSlides?r<e.loopedSlides-s/2||r>e.slides.length-e.loopedSlides+s/2?(e.loopFix(),r=i.children(`.${t.slideClass}[data-swiper-slide-index="${n}"]:not(.${t.slideDuplicateClass})`).eq(0).index(),u(()=>{e.slideTo(r)})):e.slideTo(r):r>e.slides.length-s?(e.loopFix(),r=i.children(`.${t.slideClass}[data-swiper-slide-index="${n}"]:not(.${t.slideDuplicateClass})`).eq(0).index(),u(()=>{e.slideTo(r)})):e.slideTo(r)}else e.slideTo(r)}},loop:{loopCreate:function(){const e=this,t=s(),{params:i,$wrapperEl:n}=e,r=n.children().length>0?c(n.children()[0].parentNode):n;r.children(`.${i.slideClass}.${i.slideDuplicateClass}`).remove();let a=r.children(`.${i.slideClass}`);if(i.loopFillGroupWithBlank){const e=i.slidesPerGroup-a.length%i.slidesPerGroup;if(e!==i.slidesPerGroup){for(let s=0;s<e;s+=1){const e=c(t.createElement("div")).addClass(`${i.slideClass} ${i.slideBlankClass}`);r.append(e)}a=r.children(`.${i.slideClass}`)}}"auto"!==i.slidesPerView||i.loopedSlides||(i.loopedSlides=a.length),e.loopedSlides=Math.ceil(parseFloat(i.loopedSlides||i.slidesPerView,10)),e.loopedSlides+=i.loopAdditionalSlides,e.loopedSlides>a.length&&(e.loopedSlides=a.length);const o=[],l=[];a.each((t,i)=>{const s=c(t);i<e.loopedSlides&&l.push(t),i<a.length&&i>=a.length-e.loopedSlides&&o.push(t),s.attr("data-swiper-slide-index",i)});for(let e=0;e<l.length;e+=1)r.append(c(l[e].cloneNode(!0)).addClass(i.slideDuplicateClass));for(let e=o.length-1;e>=0;e-=1)r.prepend(c(o[e].cloneNode(!0)).addClass(i.slideDuplicateClass))},loopFix:function(){const e=this;e.emit("beforeLoopFix");const{activeIndex:t,slides:i,loopedSlides:s,allowSlidePrev:n,allowSlideNext:r,snapGrid:a,rtlTranslate:o}=e;let l;e.allowSlidePrev=!0,e.allowSlideNext=!0;const c=-a[t]-e.getTranslate();t<s?(l=i.length-3*s+t,l+=s,e.slideTo(l,0,!1,!0)&&0!==c&&e.setTranslate((o?-e.translate:e.translate)-c)):t>=i.length-s&&(l=-i.length+t+s,l+=s,e.slideTo(l,0,!1,!0)&&0!==c&&e.setTranslate((o?-e.translate:e.translate)-c)),e.allowSlidePrev=n,e.allowSlideNext=r,e.emit("loopFix")},loopDestroy:function(){const{$wrapperEl:e,params:t,slides:i}=this;e.children(`.${t.slideClass}.${t.slideDuplicateClass},.${t.slideClass}.${t.slideBlankClass}`).remove(),i.removeAttr("data-swiper-slide-index")}},grabCursor:{setGrabCursor:function(e){const t=this;if(t.support.touch||!t.params.simulateTouch||t.params.watchOverflow&&t.isLocked||t.params.cssMode)return;const i="container"===t.params.touchEventsTarget?t.el:t.wrapperEl;i.style.cursor="move",i.style.cursor=e?"grabbing":"grab"},unsetGrabCursor:function(){const e=this;e.support.touch||e.params.watchOverflow&&e.isLocked||e.params.cssMode||(e["container"===e.params.touchEventsTarget?"el":"wrapperEl"].style.cursor="")}},events:{attachEvents:function(){const e=this,t=s(),{params:i,support:n}=e;e.onTouchStart=function(e){const t=this,i=s(),n=r(),a=t.touchEventsData,{params:o,touches:l,enabled:h}=t;if(!h)return;if(t.animating&&o.preventInteractionOnTransition)return;!t.animating&&o.cssMode&&o.loop&&t.loopFix();let u=e;u.originalEvent&&(u=u.originalEvent);let p=c(u.target);if("wrapper"===o.touchEventsTarget&&!p.closest(t.wrapperEl).length)return;if(a.isTouchEvent="touchstart"===u.type,!a.isTouchEvent&&"which"in u&&3===u.which)return;if(!a.isTouchEvent&&"button"in u&&u.button>0)return;if(a.isTouched&&a.isMoved)return;o.noSwipingClass&&""!==o.noSwipingClass&&u.target&&u.target.shadowRoot&&e.path&&e.path[0]&&(p=c(e.path[0]));const f=o.noSwipingSelector?o.noSwipingSelector:`.${o.noSwipingClass}`,m=!(!u.target||!u.target.shadowRoot);if(o.noSwiping&&(m?function(e,t){return void 0===t&&(t=this),function t(i){if(!i||i===s()||i===r())return null;i.assignedSlot&&(i=i.assignedSlot);const n=i.closest(e);return n||i.getRootNode?n||t(i.getRootNode().host):null}(t)}(f,p[0]):p.closest(f)[0]))return void(t.allowClick=!0);if(o.swipeHandler&&!p.closest(o.swipeHandler)[0])return;l.currentX="touchstart"===u.type?u.targetTouches[0].pageX:u.pageX,l.currentY="touchstart"===u.type?u.targetTouches[0].pageY:u.pageY;const g=l.currentX,v=l.currentY,y=o.edgeSwipeDetection||o.iOSEdgeSwipeDetection,b=o.edgeSwipeThreshold||o.iOSEdgeSwipeThreshold;if(y&&(g<=b||g>=n.innerWidth-b)){if("prevent"!==y)return;e.preventDefault()}if(Object.assign(a,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),l.startX=g,l.startY=v,a.touchStartTime=d(),t.allowClick=!0,t.updateSize(),t.swipeDirection=void 0,o.threshold>0&&(a.allowThresholdMove=!1),"touchstart"!==u.type){let e=!0;p.is(a.focusableElements)&&(e=!1,"SELECT"===p[0].nodeName&&(a.isTouched=!1)),i.activeElement&&c(i.activeElement).is(a.focusableElements)&&i.activeElement!==p[0]&&i.activeElement.blur();const s=e&&t.allowTouchMove&&o.touchStartPreventDefault;!o.touchStartForcePreventDefault&&!s||p[0].isContentEditable||u.preventDefault()}t.params.freeMode&&t.params.freeMode.enabled&&t.freeMode&&t.animating&&!o.cssMode&&t.freeMode.onTouchStart(),t.emit("touchStart",u)}.bind(e),e.onTouchMove=function(e){const t=s(),i=this,n=i.touchEventsData,{params:r,touches:a,rtlTranslate:o,enabled:l}=i;if(!l)return;let h=e;if(h.originalEvent&&(h=h.originalEvent),!n.isTouched)return void(n.startMoving&&n.isScrolling&&i.emit("touchMoveOpposite",h));if(n.isTouchEvent&&"touchmove"!==h.type)return;const u="touchmove"===h.type&&h.targetTouches&&(h.targetTouches[0]||h.changedTouches[0]),p="touchmove"===h.type?u.pageX:h.pageX,f="touchmove"===h.type?u.pageY:h.pageY;if(h.preventedByNestedSwiper)return a.startX=p,void(a.startY=f);if(!i.allowTouchMove)return c(h.target).is(n.focusableElements)||(i.allowClick=!1),void(n.isTouched&&(Object.assign(a,{startX:p,startY:f,currentX:p,currentY:f}),n.touchStartTime=d()));if(n.isTouchEvent&&r.touchReleaseOnEdges&&!r.loop)if(i.isVertical()){if(f<a.startY&&i.translate<=i.maxTranslate()||f>a.startY&&i.translate>=i.minTranslate())return n.isTouched=!1,void(n.isMoved=!1)}else if(p<a.startX&&i.translate<=i.maxTranslate()||p>a.startX&&i.translate>=i.minTranslate())return;if(n.isTouchEvent&&t.activeElement&&h.target===t.activeElement&&c(h.target).is(n.focusableElements))return n.isMoved=!0,void(i.allowClick=!1);if(n.allowTouchCallbacks&&i.emit("touchMove",h),h.targetTouches&&h.targetTouches.length>1)return;a.currentX=p,a.currentY=f;const m=a.currentX-a.startX,g=a.currentY-a.startY;if(i.params.threshold&&Math.sqrt(m**2+g**2)<i.params.threshold)return;if(void 0===n.isScrolling){let e;i.isHorizontal()&&a.currentY===a.startY||i.isVertical()&&a.currentX===a.startX?n.isScrolling=!1:m*m+g*g>=25&&(e=180*Math.atan2(Math.abs(g),Math.abs(m))/Math.PI,n.isScrolling=i.isHorizontal()?e>r.touchAngle:90-e>r.touchAngle)}if(n.isScrolling&&i.emit("touchMoveOpposite",h),void 0===n.startMoving&&(a.currentX===a.startX&&a.currentY===a.startY||(n.startMoving=!0)),n.isScrolling)return void(n.isTouched=!1);if(!n.startMoving)return;i.allowClick=!1,!r.cssMode&&h.cancelable&&h.preventDefault(),r.touchMoveStopPropagation&&!r.nested&&h.stopPropagation(),n.isMoved||(r.loop&&!r.cssMode&&i.loopFix(),n.startTranslate=i.getTranslate(),i.setTransition(0),i.animating&&i.$wrapperEl.trigger("webkitTransitionEnd transitionend"),n.allowMomentumBounce=!1,!r.grabCursor||!0!==i.allowSlideNext&&!0!==i.allowSlidePrev||i.setGrabCursor(!0),i.emit("sliderFirstMove",h)),i.emit("sliderMove",h),n.isMoved=!0;let v=i.isHorizontal()?m:g;a.diff=v,v*=r.touchRatio,o&&(v=-v),i.swipeDirection=v>0?"prev":"next",n.currentTranslate=v+n.startTranslate;let y=!0,b=r.resistanceRatio;if(r.touchReleaseOnEdges&&(b=0),v>0&&n.currentTranslate>i.minTranslate()?(y=!1,r.resistance&&(n.currentTranslate=i.minTranslate()-1+(-i.minTranslate()+n.startTranslate+v)**b)):v<0&&n.currentTranslate<i.maxTranslate()&&(y=!1,r.resistance&&(n.currentTranslate=i.maxTranslate()+1-(i.maxTranslate()-n.startTranslate-v)**b)),y&&(h.preventedByNestedSwiper=!0),!i.allowSlideNext&&"next"===i.swipeDirection&&n.currentTranslate<n.startTranslate&&(n.currentTranslate=n.startTranslate),!i.allowSlidePrev&&"prev"===i.swipeDirection&&n.currentTranslate>n.startTranslate&&(n.currentTranslate=n.startTranslate),i.allowSlidePrev||i.allowSlideNext||(n.currentTranslate=n.startTranslate),r.threshold>0){if(!(Math.abs(v)>r.threshold||n.allowThresholdMove))return void(n.currentTranslate=n.startTranslate);if(!n.allowThresholdMove)return n.allowThresholdMove=!0,a.startX=a.currentX,a.startY=a.currentY,n.currentTranslate=n.startTranslate,void(a.diff=i.isHorizontal()?a.currentX-a.startX:a.currentY-a.startY)}r.followFinger&&!r.cssMode&&((r.freeMode&&r.freeMode.enabled&&i.freeMode||r.watchSlidesProgress)&&(i.updateActiveIndex(),i.updateSlidesClasses()),i.params.freeMode&&r.freeMode.enabled&&i.freeMode&&i.freeMode.onTouchMove(),i.updateProgress(n.currentTranslate),i.setTranslate(n.currentTranslate))}.bind(e),e.onTouchEnd=function(e){const t=this,i=t.touchEventsData,{params:s,touches:n,rtlTranslate:r,slidesGrid:a,enabled:o}=t;if(!o)return;let l=e;if(l.originalEvent&&(l=l.originalEvent),i.allowTouchCallbacks&&t.emit("touchEnd",l),i.allowTouchCallbacks=!1,!i.isTouched)return i.isMoved&&s.grabCursor&&t.setGrabCursor(!1),i.isMoved=!1,void(i.startMoving=!1);s.grabCursor&&i.isMoved&&i.isTouched&&(!0===t.allowSlideNext||!0===t.allowSlidePrev)&&t.setGrabCursor(!1);const c=d(),h=c-i.touchStartTime;if(t.allowClick){const e=l.path||l.composedPath&&l.composedPath();t.updateClickedSlide(e&&e[0]||l.target),t.emit("tap click",l),h<300&&c-i.lastClickTime<300&&t.emit("doubleTap doubleClick",l)}if(i.lastClickTime=d(),u(()=>{t.destroyed||(t.allowClick=!0)}),!i.isTouched||!i.isMoved||!t.swipeDirection||0===n.diff||i.currentTranslate===i.startTranslate)return i.isTouched=!1,i.isMoved=!1,void(i.startMoving=!1);let p;if(i.isTouched=!1,i.isMoved=!1,i.startMoving=!1,p=s.followFinger?r?t.translate:-t.translate:-i.currentTranslate,s.cssMode)return;if(t.params.freeMode&&s.freeMode.enabled)return void t.freeMode.onTouchEnd({currentPos:p});let f=0,m=t.slidesSizesGrid[0];for(let e=0;e<a.length;e+=e<s.slidesPerGroupSkip?1:s.slidesPerGroup){const t=e<s.slidesPerGroupSkip-1?1:s.slidesPerGroup;void 0!==a[e+t]?p>=a[e]&&p<a[e+t]&&(f=e,m=a[e+t]-a[e]):p>=a[e]&&(f=e,m=a[a.length-1]-a[a.length-2])}let g=null,v=null;s.rewind&&(t.isBeginning?v=t.params.virtual&&t.params.virtual.enabled&&t.virtual?t.virtual.slides.length-1:t.slides.length-1:t.isEnd&&(g=0));const y=(p-a[f])/m,b=f<s.slidesPerGroupSkip-1?1:s.slidesPerGroup;if(h>s.longSwipesMs){if(!s.longSwipes)return void t.slideTo(t.activeIndex);"next"===t.swipeDirection&&(y>=s.longSwipesRatio?t.slideTo(s.rewind&&t.isEnd?g:f+b):t.slideTo(f)),"prev"===t.swipeDirection&&(y>1-s.longSwipesRatio?t.slideTo(f+b):null!==v&&y<0&&Math.abs(y)>s.longSwipesRatio?t.slideTo(v):t.slideTo(f))}else{if(!s.shortSwipes)return void t.slideTo(t.activeIndex);!t.navigation||l.target!==t.navigation.nextEl&&l.target!==t.navigation.prevEl?("next"===t.swipeDirection&&t.slideTo(null!==g?g:f+b),"prev"===t.swipeDirection&&t.slideTo(null!==v?v:f)):l.target===t.navigation.nextEl?t.slideTo(f+b):t.slideTo(f)}}.bind(e),i.cssMode&&(e.onScroll=function(){const e=this,{wrapperEl:t,rtlTranslate:i,enabled:s}=e;if(!s)return;let n;e.previousTranslate=e.translate,e.isHorizontal()?e.translate=-t.scrollLeft:e.translate=-t.scrollTop,0===e.translate&&(e.translate=0),e.updateActiveIndex(),e.updateSlidesClasses();const r=e.maxTranslate()-e.minTranslate();(n=0===r?0:(e.translate-e.minTranslate())/r)!==e.progress&&e.updateProgress(i?-e.translate:e.translate),e.emit("setTranslate",e.translate,!1)}.bind(e)),e.onClick=function(e){const t=this;t.enabled&&(t.allowClick||(t.params.preventClicks&&e.preventDefault(),t.params.preventClicksPropagation&&t.animating&&(e.stopPropagation(),e.stopImmediatePropagation())))}.bind(e),n.touch&&!T&&(t.addEventListener("touchstart",M),T=!0),P(e,"on")},detachEvents:function(){P(this,"off")}},breakpoints:{setBreakpoint:function(){const e=this,{activeIndex:t,initialized:i,loopedSlides:s=0,params:n,$el:r}=e,a=n.breakpoints;if(!a||a&&0===Object.keys(a).length)return;const o=e.getBreakpoint(a,e.params.breakpointsBase,e.el);if(!o||e.currentBreakpoint===o)return;const l=(o in a?a[o]:void 0)||e.originalParams,c=A(e,n),h=A(e,l),u=n.enabled;c&&!h?(r.removeClass(`${n.containerModifierClass}grid ${n.containerModifierClass}grid-column`),e.emitContainerClasses()):!c&&h&&(r.addClass(`${n.containerModifierClass}grid`),(l.grid.fill&&"column"===l.grid.fill||!l.grid.fill&&"column"===n.grid.fill)&&r.addClass(`${n.containerModifierClass}grid-column`),e.emitContainerClasses()),["navigation","pagination","scrollbar"].forEach(t=>{const i=n[t]&&n[t].enabled,s=l[t]&&l[t].enabled;i&&!s&&e[t].disable(),!i&&s&&e[t].enable()});const d=l.direction&&l.direction!==n.direction,p=n.loop&&(l.slidesPerView!==n.slidesPerView||d);d&&i&&e.changeDirection(),g(e.params,l);const f=e.params.enabled;Object.assign(e,{allowTouchMove:e.params.allowTouchMove,allowSlideNext:e.params.allowSlideNext,allowSlidePrev:e.params.allowSlidePrev}),u&&!f?e.disable():!u&&f&&e.enable(),e.currentBreakpoint=o,e.emit("_beforeBreakpoint",l),p&&i&&(e.loopDestroy(),e.loopCreate(),e.updateSlides(),e.slideTo(t-s+e.loopedSlides,0,!1)),e.emit("breakpoint",l)},getBreakpoint:function(e,t,i){if(void 0===t&&(t="window"),!e||"container"===t&&!i)return;let s=!1;const n=r(),a="window"===t?n.innerHeight:i.clientHeight,o=Object.keys(e).map(e=>{if("string"==typeof e&&0===e.indexOf("@")){const t=parseFloat(e.substr(1));return{value:a*t,point:e}}return{value:e,point:e}});o.sort((e,t)=>parseInt(e.value,10)-parseInt(t.value,10));for(let e=0;e<o.length;e+=1){const{point:r,value:a}=o[e];"window"===t?n.matchMedia(`(min-width: ${a}px)`).matches&&(s=r):a<=i.clientWidth&&(s=r)}return s||"max"}},checkOverflow:{checkOverflow:function(){const e=this,{isLocked:t,params:i}=e,{slidesOffsetBefore:s}=i;if(s){const t=e.slides.length-1,i=e.slidesGrid[t]+e.slidesSizesGrid[t]+2*s;e.isLocked=e.size>i}else e.isLocked=1===e.snapGrid.length;!0===i.allowSlideNext&&(e.allowSlideNext=!e.isLocked),!0===i.allowSlidePrev&&(e.allowSlidePrev=!e.isLocked),t&&t!==e.isLocked&&(e.isEnd=!1),t!==e.isLocked&&e.emit(e.isLocked?"lock":"unlock")}},classes:{addClasses:function(){const e=this,{classNames:t,params:i,rtl:s,$el:n,device:r,support:a}=e,o=function(e,t){const i=[];return e.forEach(e=>{"object"==typeof e?Object.keys(e).forEach(s=>{e[s]&&i.push(t+s)}):"string"==typeof e&&i.push(t+e)}),i}(["initialized",i.direction,{"pointer-events":!a.touch},{"free-mode":e.params.freeMode&&i.freeMode.enabled},{autoheight:i.autoHeight},{rtl:s},{grid:i.grid&&i.grid.rows>1},{"grid-column":i.grid&&i.grid.rows>1&&"column"===i.grid.fill},{android:r.android},{ios:r.ios},{"css-mode":i.cssMode},{centered:i.cssMode&&i.centeredSlides},{"watch-progress":i.watchSlidesProgress}],i.containerModifierClass);t.push(...o),n.addClass([...t].join(" ")),e.emitContainerClasses()},removeClasses:function(){const{$el:e,classNames:t}=this;e.removeClass(t.join(" ")),this.emitContainerClasses()}},images:{loadImage:function(e,t,i,s,n,a){const o=r();let l;function h(){a&&a()}c(e).parent("picture")[0]||e.complete&&n?h():t?((l=new o.Image).onload=h,l.onerror=h,s&&(l.sizes=s),i&&(l.srcset=i),t&&(l.src=t)):h()},preloadImages:function(){const e=this;function t(){null!=e&&e&&!e.destroyed&&(void 0!==e.imagesLoaded&&(e.imagesLoaded+=1),e.imagesLoaded===e.imagesToLoad.length&&(e.params.updateOnImagesReady&&e.update(),e.emit("imagesReady")))}e.imagesToLoad=e.$el.find("img");for(let i=0;i<e.imagesToLoad.length;i+=1){const s=e.imagesToLoad[i];e.loadImage(s,s.currentSrc||s.getAttribute("src"),s.srcset||s.getAttribute("srcset"),s.sizes||s.getAttribute("sizes"),!0,t)}}}},I={};class ${constructor(){let e,t;for(var i=arguments.length,s=new Array(i),n=0;n<i;n++)s[n]=arguments[n];if(1===s.length&&s[0].constructor&&"Object"===Object.prototype.toString.call(s[0]).slice(8,-1)?t=s[0]:[e,t]=s,t||(t={}),t=g({},t),e&&!t.el&&(t.el=e),t.el&&c(t.el).length>1){const e=[];return c(t.el).each(i=>{const s=g({},t,{el:i});e.push(new $(s))}),e}const r=this;r.__swiper__=!0,r.support=_(),r.device=k({userAgent:t.userAgent}),r.browser=E(),r.eventsListeners={},r.eventsAnyListeners=[],r.modules=[...r.__modules__],t.modules&&Array.isArray(t.modules)&&r.modules.push(...t.modules);const a={};r.modules.forEach(e=>{e({swiper:r,extendParams:D(t,a),on:r.on.bind(r),once:r.once.bind(r),off:r.off.bind(r),emit:r.emit.bind(r)})});const o=g({},O,a);return r.params=g({},o,I,t),r.originalParams=g({},r.params),r.passedParams=g({},t),r.params&&r.params.on&&Object.keys(r.params.on).forEach(e=>{r.on(e,r.params.on[e])}),r.params&&r.params.onAny&&r.onAny(r.params.onAny),r.$=c,Object.assign(r,{enabled:r.params.enabled,el:e,classNames:[],slides:c(),slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal:()=>"horizontal"===r.params.direction,isVertical:()=>"vertical"===r.params.direction,activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,allowSlideNext:r.params.allowSlideNext,allowSlidePrev:r.params.allowSlidePrev,touchEvents:function(){const e=["touchstart","touchmove","touchend","touchcancel"],t=["pointerdown","pointermove","pointerup"];return r.touchEventsTouch={start:e[0],move:e[1],end:e[2],cancel:e[3]},r.touchEventsDesktop={start:t[0],move:t[1],end:t[2]},r.support.touch||!r.params.simulateTouch?r.touchEventsTouch:r.touchEventsDesktop}(),touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:r.params.focusableElements,lastClickTime:d(),clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,isTouchEvent:void 0,startMoving:void 0},allowClick:!0,allowTouchMove:r.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),r.emit("_swiper"),r.params.init&&r.init(),r}enable(){const e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){const e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,t){const i=this;e=Math.min(Math.max(e,0),1);const s=i.minTranslate(),n=(i.maxTranslate()-s)*e+s;i.translateTo(n,void 0===t?0:t),i.updateActiveIndex(),i.updateSlidesClasses()}emitContainerClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const t=e.el.className.split(" ").filter(t=>0===t.indexOf("swiper")||0===t.indexOf(e.params.containerModifierClass));e.emit("_containerClasses",t.join(" "))}getSlideClasses(e){const t=this;return t.destroyed?"":e.className.split(" ").filter(e=>0===e.indexOf("swiper-slide")||0===e.indexOf(t.params.slideClass)).join(" ")}emitSlidesClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const t=[];e.slides.each(i=>{const s=e.getSlideClasses(i);t.push({slideEl:i,classNames:s}),e.emit("_slideClass",i,s)}),e.emit("_slideClasses",t)}slidesPerViewDynamic(e,t){void 0===e&&(e="current"),void 0===t&&(t=!1);const{params:i,slides:s,slidesGrid:n,slidesSizesGrid:r,size:a,activeIndex:o}=this;let l=1;if(i.centeredSlides){let e,t=s[o].swiperSlideSize;for(let i=o+1;i<s.length;i+=1)s[i]&&!e&&(l+=1,(t+=s[i].swiperSlideSize)>a&&(e=!0));for(let i=o-1;i>=0;i-=1)s[i]&&!e&&(l+=1,(t+=s[i].swiperSlideSize)>a&&(e=!0))}else if("current"===e)for(let e=o+1;e<s.length;e+=1)(t?n[e]+r[e]-n[o]<a:n[e]-n[o]<a)&&(l+=1);else for(let e=o-1;e>=0;e-=1)n[o]-n[e]<a&&(l+=1);return l}update(){const e=this;if(!e||e.destroyed)return;const{snapGrid:t,params:i}=e;function s(){const t=e.rtlTranslate?-1*e.translate:e.translate,i=Math.min(Math.max(t,e.maxTranslate()),e.minTranslate());e.setTranslate(i),e.updateActiveIndex(),e.updateSlidesClasses()}let n;i.breakpoints&&e.setBreakpoint(),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses(),e.params.freeMode&&e.params.freeMode.enabled?(s(),e.params.autoHeight&&e.updateAutoHeight()):(n=("auto"===e.params.slidesPerView||e.params.slidesPerView>1)&&e.isEnd&&!e.params.centeredSlides?e.slideTo(e.slides.length-1,0,!1,!0):e.slideTo(e.activeIndex,0,!1,!0))||s(),i.watchOverflow&&t!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,t){void 0===t&&(t=!0);const i=this,s=i.params.direction;return e||(e="horizontal"===s?"vertical":"horizontal"),e===s||"horizontal"!==e&&"vertical"!==e||(i.$el.removeClass(`${i.params.containerModifierClass}${s}`).addClass(`${i.params.containerModifierClass}${e}`),i.emitContainerClasses(),i.params.direction=e,i.slides.each(t=>{"vertical"===e?t.style.width="":t.style.height=""}),i.emit("changeDirection"),t&&i.update()),i}changeLanguageDirection(e){const t=this;t.rtl&&"rtl"===e||!t.rtl&&"ltr"===e||(t.rtl="rtl"===e,t.rtlTranslate="horizontal"===t.params.direction&&t.rtl,t.rtl?(t.$el.addClass(`${t.params.containerModifierClass}rtl`),t.el.dir="rtl"):(t.$el.removeClass(`${t.params.containerModifierClass}rtl`),t.el.dir="ltr"),t.update())}mount(e){const t=this;if(t.mounted)return!0;const i=c(e||t.params.el);if(!(e=i[0]))return!1;e.swiper=t;const n=()=>`.${(t.params.wrapperClass||"").trim().split(" ").join(".")}`;let r=(()=>{if(e&&e.shadowRoot&&e.shadowRoot.querySelector){const t=c(e.shadowRoot.querySelector(n()));return t.children=(e=>i.children(e)),t}return i.children?i.children(n()):c(i).children(n())})();if(0===r.length&&t.params.createElements){const e=s().createElement("div");r=c(e),e.className=t.params.wrapperClass,i.append(e),i.children(`.${t.params.slideClass}`).each(e=>{r.append(e)})}return Object.assign(t,{$el:i,el:e,$wrapperEl:r,wrapperEl:r[0],mounted:!0,rtl:"rtl"===e.dir.toLowerCase()||"rtl"===i.css("direction"),rtlTranslate:"horizontal"===t.params.direction&&("rtl"===e.dir.toLowerCase()||"rtl"===i.css("direction")),wrongRTL:"-webkit-box"===r.css("display")}),!0}init(e){const t=this;return t.initialized?t:(!1===t.mount(e)||(t.emit("beforeInit"),t.params.breakpoints&&t.setBreakpoint(),t.addClasses(),t.params.loop&&t.loopCreate(),t.updateSize(),t.updateSlides(),t.params.watchOverflow&&t.checkOverflow(),t.params.grabCursor&&t.enabled&&t.setGrabCursor(),t.params.preloadImages&&t.preloadImages(),t.params.loop?t.slideTo(t.params.initialSlide+t.loopedSlides,0,t.params.runCallbacksOnInit,!1,!0):t.slideTo(t.params.initialSlide,0,t.params.runCallbacksOnInit,!1,!0),t.attachEvents(),t.initialized=!0,t.emit("init"),t.emit("afterInit")),t)}destroy(e,t){void 0===e&&(e=!0),void 0===t&&(t=!0);const i=this,{params:s,$el:n,$wrapperEl:r,slides:a}=i;return void 0===i.params||i.destroyed||(i.emit("beforeDestroy"),i.initialized=!1,i.detachEvents(),s.loop&&i.loopDestroy(),t&&(i.removeClasses(),n.removeAttr("style"),r.removeAttr("style"),a&&a.length&&a.removeClass([s.slideVisibleClass,s.slideActiveClass,s.slideNextClass,s.slidePrevClass].join(" ")).removeAttr("style").removeAttr("data-swiper-slide-index")),i.emit("destroy"),Object.keys(i.eventsListeners).forEach(e=>{i.off(e)}),!1!==e&&(i.$el[0].swiper=null,function(e){const t=i;Object.keys(t).forEach(e=>{try{t[e]=null}catch(e){}try{delete t[e]}catch(e){}})}()),i.destroyed=!0),null}static extendDefaults(e){g(I,e)}static get extendedDefaults(){return I}static get defaults(){return O}static installModule(e){$.prototype.__modules__||($.prototype.__modules__=[]);const t=$.prototype.__modules__;"function"==typeof e&&t.indexOf(e)<0&&t.push(e)}static use(e){return Array.isArray(e)?(e.forEach(e=>$.installModule(e)),$):($.installModule(e),$)}}function F(e,t,i,n){const r=s();return e.params.createElements&&Object.keys(n).forEach(s=>{if(!i[s]&&!0===i.auto){let a=e.$el.children(`.${n[s]}`)[0];a||((a=r.createElement("div")).className=n[s],e.$el.append(a)),i[s]=a,t[s]=a}}),i}function N(e){return void 0===e&&(e=""),`.${e.trim().replace(/([\.:!\/])/g,"\\$1").replace(/ /g,".")}`}function R(e){const t=this,{$wrapperEl:i,params:s}=t;if(s.loop&&t.loopDestroy(),"object"==typeof e&&"length"in e)for(let t=0;t<e.length;t+=1)e[t]&&i.append(e[t]);else i.append(e);s.loop&&t.loopCreate(),s.observer||t.update()}function j(e){const t=this,{params:i,$wrapperEl:s,activeIndex:n}=t;i.loop&&t.loopDestroy();let r=n+1;if("object"==typeof e&&"length"in e){for(let t=0;t<e.length;t+=1)e[t]&&s.prepend(e[t]);r=n+e.length}else s.prepend(e);i.loop&&t.loopCreate(),i.observer||t.update(),t.slideTo(r,0,!1)}function z(e,t){const i=this,{$wrapperEl:s,params:n,activeIndex:r}=i;let a=r;n.loop&&(a-=i.loopedSlides,i.loopDestroy(),i.slides=s.children(`.${n.slideClass}`));const o=i.slides.length;if(e<=0)return void i.prependSlide(t);if(e>=o)return void i.appendSlide(t);let l=a>e?a+1:a;const c=[];for(let t=o-1;t>=e;t-=1){const e=i.slides.eq(t);e.remove(),c.unshift(e)}if("object"==typeof t&&"length"in t){for(let e=0;e<t.length;e+=1)t[e]&&s.append(t[e]);l=a>e?a+t.length:a}else s.append(t);for(let e=0;e<c.length;e+=1)s.append(c[e]);n.loop&&i.loopCreate(),n.observer||i.update(),n.loop?i.slideTo(l+i.loopedSlides,0,!1):i.slideTo(l,0,!1)}function B(e){const t=this,{params:i,$wrapperEl:s,activeIndex:n}=t;let r=n;i.loop&&(r-=t.loopedSlides,t.loopDestroy(),t.slides=s.children(`.${i.slideClass}`));let a,o=r;if("object"==typeof e&&"length"in e){for(let i=0;i<e.length;i+=1)a=e[i],t.slides[a]&&t.slides.eq(a).remove(),a<o&&(o-=1);o=Math.max(o,0)}else a=e,t.slides[a]&&t.slides.eq(a).remove(),a<o&&(o-=1),o=Math.max(o,0);i.loop&&t.loopCreate(),i.observer||t.update(),i.loop?t.slideTo(o+t.loopedSlides,0,!1):t.slideTo(o,0,!1)}function V(){const e=this,t=[];for(let i=0;i<e.slides.length;i+=1)t.push(i);e.removeSlide(t)}function H(e){const{effect:t,swiper:i,on:s,setTranslate:n,setTransition:r,overwriteParams:a,perspective:o,recreateShadows:l,getEffectParams:c}=e;let h;s("beforeInit",()=>{if(i.params.effect!==t)return;i.classNames.push(`${i.params.containerModifierClass}${t}`),o&&o()&&i.classNames.push(`${i.params.containerModifierClass}3d`);const e=a?a():{};Object.assign(i.params,e),Object.assign(i.originalParams,e)}),s("setTranslate",()=>{i.params.effect===t&&n()}),s("setTransition",(e,s)=>{i.params.effect===t&&r(s)}),s("transitionEnd",()=>{if(i.params.effect===t&&l){if(!c||!c().slideShadows)return;i.slides.each(e=>{i.$(e).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").remove()}),l()}}),s("virtualUpdate",()=>{i.params.effect===t&&(i.slides.length||(h=!0),requestAnimationFrame(()=>{h&&i.slides&&i.slides.length&&(n(),h=!1)}))})}function W(e,t){return e.transformEl?t.find(e.transformEl).css({"backface-visibility":"hidden","-webkit-backface-visibility":"hidden"}):t}function Y(e){let{swiper:t,duration:i,transformEl:s,allSlides:n}=e;const{slides:r,activeIndex:a,$wrapperEl:o}=t;if(t.params.virtualTranslate&&0!==i){let e,i=!1;(e=n?s?r.find(s):r:s?r.eq(a).find(s):r.eq(a)).transitionEnd(()=>{if(i)return;if(!t||t.destroyed)return;i=!0,t.animating=!1;const e=["webkitTransitionEnd","transitionend"];for(let t=0;t<e.length;t+=1)o.trigger(e[t])})}}function q(e,t,i){const s="swiper-slide-shadow"+(i?`-${i}`:""),n=e.transformEl?t.find(e.transformEl):t;let r=n.children(`.${s}`);return r.length||(r=c(`<div class="swiper-slide-shadow${i?`-${i}`:""}"></div>`),n.append(r)),r}Object.keys(L).forEach(e=>{Object.keys(L[e]).forEach(t=>{$.prototype[t]=L[e][t]})}),$.use([function(e){let{swiper:t,on:i,emit:s}=e;const n=r();let a=null,o=null;const l=()=>{t&&!t.destroyed&&t.initialized&&(s("beforeResize"),s("resize"))},c=()=>{t&&!t.destroyed&&t.initialized&&s("orientationchange")};i("init",()=>{t.params.resizeObserver&&void 0!==n.ResizeObserver?t&&!t.destroyed&&t.initialized&&(a=new ResizeObserver(e=>{o=n.requestAnimationFrame(()=>{const{width:i,height:s}=t;let n=i,r=s;e.forEach(e=>{let{contentBoxSize:i,contentRect:s,target:a}=e;a&&a!==t.el||(n=s?s.width:(i[0]||i).inlineSize,r=s?s.height:(i[0]||i).blockSize)}),n===i&&r===s||l()})})).observe(t.el):(n.addEventListener("resize",l),n.addEventListener("orientationchange",c))}),i("destroy",()=>{o&&n.cancelAnimationFrame(o),a&&a.unobserve&&t.el&&(a.unobserve(t.el),a=null),n.removeEventListener("resize",l),n.removeEventListener("orientationchange",c)})},function(e){let{swiper:t,extendParams:i,on:s,emit:n}=e;const a=[],o=r(),l=function(e,t){void 0===t&&(t={});const i=new(o.MutationObserver||o.WebkitMutationObserver)(e=>{if(1===e.length)return void n("observerUpdate",e[0]);const t=function(){n("observerUpdate",e[0])};o.requestAnimationFrame?o.requestAnimationFrame(t):o.setTimeout(t,0)});i.observe(e,{attributes:void 0===t.attributes||t.attributes,childList:void 0===t.childList||t.childList,characterData:void 0===t.characterData||t.characterData}),a.push(i)};i({observer:!1,observeParents:!1,observeSlideChildren:!1}),s("init",()=>{if(t.params.observer){if(t.params.observeParents){const e=t.$el.parents();for(let t=0;t<e.length;t+=1)l(e[t])}l(t.$el[0],{childList:t.params.observeSlideChildren}),l(t.$wrapperEl[0],{attributes:!1})}}),s("destroy",()=>{a.forEach(e=>{e.disconnect()}),a.splice(0,a.length)})}]);const U=[function(e){let t,{swiper:i,extendParams:s,on:n,emit:r}=e;function a(e,t){const s=i.params.virtual;if(s.cache&&i.virtual.cache[t])return i.virtual.cache[t];const n=s.renderSlide?c(s.renderSlide.call(i,e,t)):c(`<div class="${i.params.slideClass}" data-swiper-slide-index="${t}">${e}</div>`);return n.attr("data-swiper-slide-index")||n.attr("data-swiper-slide-index",t),s.cache&&(i.virtual.cache[t]=n),n}function o(e){const{slidesPerView:t,slidesPerGroup:s,centeredSlides:n}=i.params,{addSlidesBefore:o,addSlidesAfter:l}=i.params.virtual,{from:c,to:h,slides:u,slidesGrid:d,offset:p}=i.virtual;i.params.cssMode||i.updateActiveIndex();const f=i.activeIndex||0;let m,g,v;m=i.rtlTranslate?"right":i.isHorizontal()?"left":"top",n?(g=Math.floor(t/2)+s+l,v=Math.floor(t/2)+s+o):(g=t+(s-1)+l,v=s+o);const y=Math.max((f||0)-v,0),b=Math.min((f||0)+g,u.length-1),w=(i.slidesGrid[y]||0)-(i.slidesGrid[0]||0);function x(){i.updateSlides(),i.updateProgress(),i.updateSlidesClasses(),i.lazy&&i.params.lazy.enabled&&i.lazy.load(),r("virtualUpdate")}if(Object.assign(i.virtual,{from:y,to:b,offset:w,slidesGrid:i.slidesGrid}),c===y&&h===b&&!e)return i.slidesGrid!==d&&w!==p&&i.slides.css(m,`${w}px`),i.updateProgress(),void r("virtualUpdate");if(i.params.virtual.renderExternal)return i.params.virtual.renderExternal.call(i,{offset:w,from:y,to:b,slides:function(){const e=[];for(let t=y;t<=b;t+=1)e.push(u[t]);return e}()}),void(i.params.virtual.renderExternalUpdate?x():r("virtualUpdate"));const _=[],k=[];if(e)i.$wrapperEl.find(`.${i.params.slideClass}`).remove();else for(let e=c;e<=h;e+=1)(e<y||e>b)&&i.$wrapperEl.find(`.${i.params.slideClass}[data-swiper-slide-index="${e}"]`).remove();for(let t=0;t<u.length;t+=1)t>=y&&t<=b&&(void 0===h||e?k.push(t):(t>h&&k.push(t),t<c&&_.push(t)));k.forEach(e=>{i.$wrapperEl.append(a(u[e],e))}),_.sort((e,t)=>t-e).forEach(e=>{i.$wrapperEl.prepend(a(u[e],e))}),i.$wrapperEl.children(".swiper-slide").css(m,`${w}px`),x()}s({virtual:{enabled:!1,slides:[],cache:!0,renderSlide:null,renderExternal:null,renderExternalUpdate:!0,addSlidesBefore:0,addSlidesAfter:0}}),i.virtual={cache:{},from:void 0,to:void 0,slides:[],offset:0,slidesGrid:[]},n("beforeInit",()=>{i.params.virtual.enabled&&(i.virtual.slides=i.params.virtual.slides,i.classNames.push(`${i.params.containerModifierClass}virtual`),i.params.watchSlidesProgress=!0,i.originalParams.watchSlidesProgress=!0,i.params.initialSlide||o())}),n("setTranslate",()=>{i.params.virtual.enabled&&(i.params.cssMode&&!i._immediateVirtual?(clearTimeout(t),t=setTimeout(()=>{o()},100)):o())}),n("init update resize",()=>{i.params.virtual.enabled&&i.params.cssMode&&v(i.wrapperEl,"--swiper-virtual-size",`${i.virtualSize}px`)}),Object.assign(i.virtual,{appendSlide:function(e){if("object"==typeof e&&"length"in e)for(let t=0;t<e.length;t+=1)e[t]&&i.virtual.slides.push(e[t]);else i.virtual.slides.push(e);o(!0)},prependSlide:function(e){const t=i.activeIndex;let s=t+1,n=1;if(Array.isArray(e)){for(let t=0;t<e.length;t+=1)e[t]&&i.virtual.slides.unshift(e[t]);s=t+e.length,n=e.length}else i.virtual.slides.unshift(e);if(i.params.virtual.cache){const e=i.virtual.cache,t={};Object.keys(e).forEach(i=>{const s=e[i],r=s.attr("data-swiper-slide-index");r&&s.attr("data-swiper-slide-index",parseInt(r,10)+n),t[parseInt(i,10)+n]=s}),i.virtual.cache=t}o(!0),i.slideTo(s,0)},removeSlide:function(e){if(null==e)return;let t=i.activeIndex;if(Array.isArray(e))for(let s=e.length-1;s>=0;s-=1)i.virtual.slides.splice(e[s],1),i.params.virtual.cache&&delete i.virtual.cache[e[s]],e[s]<t&&(t-=1),t=Math.max(t,0);else i.virtual.slides.splice(e,1),i.params.virtual.cache&&delete i.virtual.cache[e],e<t&&(t-=1),t=Math.max(t,0);o(!0),i.slideTo(t,0)},removeAllSlides:function(){i.virtual.slides=[],i.params.virtual.cache&&(i.virtual.cache={}),o(!0),i.slideTo(0,0)},update:o})},function(e){let{swiper:t,extendParams:i,on:n,emit:a}=e;const o=s(),l=r();function h(e){if(!t.enabled)return;const{rtlTranslate:i}=t;let s=e;s.originalEvent&&(s=s.originalEvent);const n=s.keyCode||s.charCode,r=t.params.keyboard.pageUpDown,c=r&&33===n,h=r&&34===n,u=37===n,d=39===n,p=38===n,f=40===n;if(!t.allowSlideNext&&(t.isHorizontal()&&d||t.isVertical()&&f||h))return!1;if(!t.allowSlidePrev&&(t.isHorizontal()&&u||t.isVertical()&&p||c))return!1;if(!(s.shiftKey||s.altKey||s.ctrlKey||s.metaKey||o.activeElement&&o.activeElement.nodeName&&("input"===o.activeElement.nodeName.toLowerCase()||"textarea"===o.activeElement.nodeName.toLowerCase()))){if(t.params.keyboard.onlyInViewport&&(c||h||u||d||p||f)){let e=!1;if(t.$el.parents(`.${t.params.slideClass}`).length>0&&0===t.$el.parents(`.${t.params.slideActiveClass}`).length)return;const s=t.$el,n=s[0].clientWidth,r=s[0].clientHeight,a=l.innerWidth,o=l.innerHeight,c=t.$el.offset();i&&(c.left-=t.$el[0].scrollLeft);const h=[[c.left,c.top],[c.left+n,c.top],[c.left,c.top+r],[c.left+n,c.top+r]];for(let t=0;t<h.length;t+=1){const i=h[t];if(i[0]>=0&&i[0]<=a&&i[1]>=0&&i[1]<=o){if(0===i[0]&&0===i[1])continue;e=!0}}if(!e)return}t.isHorizontal()?((c||h||u||d)&&(s.preventDefault?s.preventDefault():s.returnValue=!1),((h||d)&&!i||(c||u)&&i)&&t.slideNext(),((c||u)&&!i||(h||d)&&i)&&t.slidePrev()):((c||h||p||f)&&(s.preventDefault?s.preventDefault():s.returnValue=!1),(h||f)&&t.slideNext(),(c||p)&&t.slidePrev()),a("keyPress",n)}}function u(){t.keyboard.enabled||(c(o).on("keydown",h),t.keyboard.enabled=!0)}function d(){t.keyboard.enabled&&(c(o).off("keydown",h),t.keyboard.enabled=!1)}t.keyboard={enabled:!1},i({keyboard:{enabled:!1,onlyInViewport:!0,pageUpDown:!0}}),n("init",()=>{t.params.keyboard.enabled&&u()}),n("destroy",()=>{t.keyboard.enabled&&d()}),Object.assign(t.keyboard,{enable:u,disable:d})},function(e){let{swiper:t,extendParams:i,on:s,emit:n}=e;const a=r();let o;i({mousewheel:{enabled:!1,releaseOnEdges:!1,invert:!1,forceToAxis:!1,sensitivity:1,eventsTarget:"container",thresholdDelta:null,thresholdTime:null}}),t.mousewheel={enabled:!1};let l,h=d();const p=[];function f(){t.enabled&&(t.mouseEntered=!0)}function m(){t.enabled&&(t.mouseEntered=!1)}function g(e){return!(t.params.mousewheel.thresholdDelta&&e.delta<t.params.mousewheel.thresholdDelta||t.params.mousewheel.thresholdTime&&d()-h<t.params.mousewheel.thresholdTime||!(e.delta>=6&&d()-h<60)&&(e.direction<0?t.isEnd&&!t.params.loop||t.animating||(t.slideNext(),n("scroll",e.raw)):t.isBeginning&&!t.params.loop||t.animating||(t.slidePrev(),n("scroll",e.raw)),h=(new a.Date).getTime(),1))}function v(e){let i=e,s=!0;if(!t.enabled)return;const r=t.params.mousewheel;t.params.cssMode&&i.preventDefault();let a=t.$el;if("container"!==t.params.mousewheel.eventsTarget&&(a=c(t.params.mousewheel.eventsTarget)),!t.mouseEntered&&!a[0].contains(i.target)&&!r.releaseOnEdges)return!0;i.originalEvent&&(i=i.originalEvent);let h=0;const f=t.rtlTranslate?-1:1,m=function(e){let t=0,i=0,s=0,n=0;return"detail"in e&&(i=e.detail),"wheelDelta"in e&&(i=-e.wheelDelta/120),"wheelDeltaY"in e&&(i=-e.wheelDeltaY/120),"wheelDeltaX"in e&&(t=-e.wheelDeltaX/120),"axis"in e&&e.axis===e.HORIZONTAL_AXIS&&(t=i,i=0),s=10*t,n=10*i,"deltaY"in e&&(n=e.deltaY),"deltaX"in e&&(s=e.deltaX),e.shiftKey&&!s&&(s=n,n=0),(s||n)&&e.deltaMode&&(1===e.deltaMode?(s*=40,n*=40):(s*=800,n*=800)),s&&!t&&(t=s<1?-1:1),n&&!i&&(i=n<1?-1:1),{spinX:t,spinY:i,pixelX:s,pixelY:n}}(i);if(r.forceToAxis)if(t.isHorizontal()){if(!(Math.abs(m.pixelX)>Math.abs(m.pixelY)))return!0;h=-m.pixelX*f}else{if(!(Math.abs(m.pixelY)>Math.abs(m.pixelX)))return!0;h=-m.pixelY}else h=Math.abs(m.pixelX)>Math.abs(m.pixelY)?-m.pixelX*f:-m.pixelY;if(0===h)return!0;r.invert&&(h=-h);let v=t.getTranslate()+h*r.sensitivity;if(v>=t.minTranslate()&&(v=t.minTranslate()),v<=t.maxTranslate()&&(v=t.maxTranslate()),(s=!!t.params.loop||!(v===t.minTranslate()||v===t.maxTranslate()))&&t.params.nested&&i.stopPropagation(),t.params.freeMode&&t.params.freeMode.enabled){const e={time:d(),delta:Math.abs(h),direction:Math.sign(h)},s=l&&e.time<l.time+500&&e.delta<=l.delta&&e.direction===l.direction;if(!s){l=void 0,t.params.loop&&t.loopFix();let a=t.getTranslate()+h*r.sensitivity;const c=t.isBeginning,d=t.isEnd;if(a>=t.minTranslate()&&(a=t.minTranslate()),a<=t.maxTranslate()&&(a=t.maxTranslate()),t.setTransition(0),t.setTranslate(a),t.updateProgress(),t.updateActiveIndex(),t.updateSlidesClasses(),(!c&&t.isBeginning||!d&&t.isEnd)&&t.updateSlidesClasses(),t.params.freeMode.sticky){clearTimeout(o),o=void 0,p.length>=15&&p.shift();const i=p.length?p[p.length-1]:void 0,s=p[0];if(p.push(e),i&&(e.delta>i.delta||e.direction!==i.direction))p.splice(0);else if(p.length>=15&&e.time-s.time<500&&s.delta-e.delta>=1&&e.delta<=6){const i=h>0?.8:.2;l=e,p.splice(0),o=u(()=>{t.slideToClosest(t.params.speed,!0,void 0,i)},0)}o||(o=u(()=>{l=e,p.splice(0),t.slideToClosest(t.params.speed,!0,void 0,.5)},500))}if(s||n("scroll",i),t.params.autoplay&&t.params.autoplayDisableOnInteraction&&t.autoplay.stop(),a===t.minTranslate()||a===t.maxTranslate())return!0}}else{const i={time:d(),delta:Math.abs(h),direction:Math.sign(h),raw:e};p.length>=2&&p.shift();const s=p.length?p[p.length-1]:void 0;if(p.push(i),s?(i.direction!==s.direction||i.delta>s.delta||i.time>s.time+150)&&g(i):g(i),function(e){const i=t.params.mousewheel;if(e.direction<0){if(t.isEnd&&!t.params.loop&&i.releaseOnEdges)return!0}else if(t.isBeginning&&!t.params.loop&&i.releaseOnEdges)return!0;return!1}(i))return!0}return i.preventDefault?i.preventDefault():i.returnValue=!1,!1}function y(e){let i=t.$el;"container"!==t.params.mousewheel.eventsTarget&&(i=c(t.params.mousewheel.eventsTarget)),i[e]("mouseenter",f),i[e]("mouseleave",m),i[e]("wheel",v)}function b(){return t.params.cssMode?(t.wrapperEl.removeEventListener("wheel",v),!0):!t.mousewheel.enabled&&(y("on"),t.mousewheel.enabled=!0,!0)}function w(){return t.params.cssMode?(t.wrapperEl.addEventListener(event,v),!0):!!t.mousewheel.enabled&&(y("off"),t.mousewheel.enabled=!1,!0)}s("init",()=>{!t.params.mousewheel.enabled&&t.params.cssMode&&w(),t.params.mousewheel.enabled&&b()}),s("destroy",()=>{t.params.cssMode&&b(),t.mousewheel.enabled&&w()}),Object.assign(t.mousewheel,{enable:b,disable:w})},function(e){let{swiper:t,extendParams:i,on:s,emit:n}=e;function r(e){let i;return e&&(i=c(e),t.params.uniqueNavElements&&"string"==typeof e&&i.length>1&&1===t.$el.find(e).length&&(i=t.$el.find(e))),i}function a(e,i){const s=t.params.navigation;e&&e.length>0&&(e[i?"addClass":"removeClass"](s.disabledClass),e[0]&&"BUTTON"===e[0].tagName&&(e[0].disabled=i),t.params.watchOverflow&&t.enabled&&e[t.isLocked?"addClass":"removeClass"](s.lockClass))}function o(){if(t.params.loop)return;const{$nextEl:e,$prevEl:i}=t.navigation;a(i,t.isBeginning&&!t.params.rewind),a(e,t.isEnd&&!t.params.rewind)}function l(e){e.preventDefault(),(!t.isBeginning||t.params.loop||t.params.rewind)&&(t.slidePrev(),n("navigationPrev"))}function h(e){e.preventDefault(),(!t.isEnd||t.params.loop||t.params.rewind)&&(t.slideNext(),n("navigationNext"))}function u(){const e=t.params.navigation;if(t.params.navigation=F(t,t.originalParams.navigation,t.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!e.nextEl&&!e.prevEl)return;const i=r(e.nextEl),s=r(e.prevEl);i&&i.length>0&&i.on("click",h),s&&s.length>0&&s.on("click",l),Object.assign(t.navigation,{$nextEl:i,nextEl:i&&i[0],$prevEl:s,prevEl:s&&s[0]}),t.enabled||(i&&i.addClass(e.lockClass),s&&s.addClass(e.lockClass))}function d(){const{$nextEl:e,$prevEl:i}=t.navigation;e&&e.length&&(e.off("click",h),e.removeClass(t.params.navigation.disabledClass)),i&&i.length&&(i.off("click",l),i.removeClass(t.params.navigation.disabledClass))}i({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),t.navigation={nextEl:null,$nextEl:null,prevEl:null,$prevEl:null},s("init",()=>{!1===t.params.navigation.enabled?p():(u(),o())}),s("toEdge fromEdge lock unlock",()=>{o()}),s("destroy",()=>{d()}),s("enable disable",()=>{const{$nextEl:e,$prevEl:i}=t.navigation;e&&e[t.enabled?"removeClass":"addClass"](t.params.navigation.lockClass),i&&i[t.enabled?"removeClass":"addClass"](t.params.navigation.lockClass)}),s("click",(e,i)=>{const{$nextEl:s,$prevEl:r}=t.navigation,a=i.target;if(t.params.navigation.hideOnClick&&!c(a).is(r)&&!c(a).is(s)){if(t.pagination&&t.params.pagination&&t.params.pagination.clickable&&(t.pagination.el===a||t.pagination.el.contains(a)))return;let e;s?e=s.hasClass(t.params.navigation.hiddenClass):r&&(e=r.hasClass(t.params.navigation.hiddenClass)),n(!0===e?"navigationShow":"navigationHide"),s&&s.toggleClass(t.params.navigation.hiddenClass),r&&r.toggleClass(t.params.navigation.hiddenClass)}});const p=()=>{t.$el.addClass(t.params.navigation.navigationDisabledClass),d()};Object.assign(t.navigation,{enable:()=>{t.$el.removeClass(t.params.navigation.navigationDisabledClass),u(),o()},disable:p,update:o,init:u,destroy:d})},function(e){let{swiper:t,extendParams:i,on:s,emit:n}=e;const r="swiper-pagination";let a;i({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:e=>e,formatFractionTotal:e=>e,bulletClass:`${r}-bullet`,bulletActiveClass:`${r}-bullet-active`,modifierClass:`${r}-`,currentClass:`${r}-current`,totalClass:`${r}-total`,hiddenClass:`${r}-hidden`,progressbarFillClass:`${r}-progressbar-fill`,progressbarOppositeClass:`${r}-progressbar-opposite`,clickableClass:`${r}-clickable`,lockClass:`${r}-lock`,horizontalClass:`${r}-horizontal`,verticalClass:`${r}-vertical`,paginationDisabledClass:`${r}-disabled`}}),t.pagination={el:null,$el:null,bullets:[]};let o=0;function l(){return!t.params.pagination.el||!t.pagination.el||!t.pagination.$el||0===t.pagination.$el.length}function h(e,i){const{bulletActiveClass:s}=t.params.pagination;e[i]().addClass(`${s}-${i}`)[i]().addClass(`${s}-${i}-${i}`)}function u(){const e=t.rtl,i=t.params.pagination;if(l())return;const s=t.virtual&&t.params.virtual.enabled?t.virtual.slides.length:t.slides.length,r=t.pagination.$el;let u;const d=t.params.loop?Math.ceil((s-2*t.loopedSlides)/t.params.slidesPerGroup):t.snapGrid.length;if(t.params.loop?((u=Math.ceil((t.activeIndex-t.loopedSlides)/t.params.slidesPerGroup))>s-1-2*t.loopedSlides&&(u-=s-2*t.loopedSlides),u>d-1&&(u-=d),u<0&&"bullets"!==t.params.paginationType&&(u=d+u)):u=void 0!==t.snapIndex?t.snapIndex:t.activeIndex||0,"bullets"===i.type&&t.pagination.bullets&&t.pagination.bullets.length>0){const s=t.pagination.bullets;let n,l,d;if(i.dynamicBullets&&(a=s.eq(0)[t.isHorizontal()?"outerWidth":"outerHeight"](!0),r.css(t.isHorizontal()?"width":"height",a*(i.dynamicMainBullets+4)+"px"),i.dynamicMainBullets>1&&void 0!==t.previousIndex&&((o+=u-(t.previousIndex-t.loopedSlides||0))>i.dynamicMainBullets-1?o=i.dynamicMainBullets-1:o<0&&(o=0)),n=Math.max(u-o,0),d=((l=n+(Math.min(s.length,i.dynamicMainBullets)-1))+n)/2),s.removeClass(["","-next","-next-next","-prev","-prev-prev","-main"].map(e=>`${i.bulletActiveClass}${e}`).join(" ")),r.length>1)s.each(e=>{const t=c(e),s=t.index();s===u&&t.addClass(i.bulletActiveClass),i.dynamicBullets&&(s>=n&&s<=l&&t.addClass(`${i.bulletActiveClass}-main`),s===n&&h(t,"prev"),s===l&&h(t,"next"))});else{const e=s.eq(u),r=e.index();if(e.addClass(i.bulletActiveClass),i.dynamicBullets){const e=s.eq(n),a=s.eq(l);for(let e=n;e<=l;e+=1)s.eq(e).addClass(`${i.bulletActiveClass}-main`);if(t.params.loop)if(r>=s.length){for(let e=i.dynamicMainBullets;e>=0;e-=1)s.eq(s.length-e).addClass(`${i.bulletActiveClass}-main`);s.eq(s.length-i.dynamicMainBullets-1).addClass(`${i.bulletActiveClass}-prev`)}else h(e,"prev"),h(a,"next");else h(e,"prev"),h(a,"next")}}if(i.dynamicBullets){const n=Math.min(s.length,i.dynamicMainBullets+4),r=(a*n-a)/2-d*a,o=e?"right":"left";s.css(t.isHorizontal()?o:"top",`${r}px`)}}if("fraction"===i.type&&(r.find(N(i.currentClass)).text(i.formatFractionCurrent(u+1)),r.find(N(i.totalClass)).text(i.formatFractionTotal(d))),"progressbar"===i.type){let e;e=i.progressbarOpposite?t.isHorizontal()?"vertical":"horizontal":t.isHorizontal()?"horizontal":"vertical";const s=(u+1)/d;let n=1,a=1;"horizontal"===e?n=s:a=s,r.find(N(i.progressbarFillClass)).transform(`translate3d(0,0,0) scaleX(${n}) scaleY(${a})`).transition(t.params.speed)}"custom"===i.type&&i.renderCustom?(r.html(i.renderCustom(t,u+1,d)),n("paginationRender",r[0])):n("paginationUpdate",r[0]),t.params.watchOverflow&&t.enabled&&r[t.isLocked?"addClass":"removeClass"](i.lockClass)}function d(){const e=t.params.pagination;if(l())return;const i=t.virtual&&t.params.virtual.enabled?t.virtual.slides.length:t.slides.length,s=t.pagination.$el;let r="";if("bullets"===e.type){let n=t.params.loop?Math.ceil((i-2*t.loopedSlides)/t.params.slidesPerGroup):t.snapGrid.length;t.params.freeMode&&t.params.freeMode.enabled&&!t.params.loop&&n>i&&(n=i);for(let i=0;i<n;i+=1)e.renderBullet?r+=e.renderBullet.call(t,i,e.bulletClass):r+=`<${e.bulletElement} class="${e.bulletClass}"></${e.bulletElement}>`;s.html(r),t.pagination.bullets=s.find(N(e.bulletClass))}"fraction"===e.type&&(r=e.renderFraction?e.renderFraction.call(t,e.currentClass,e.totalClass):`<span class="${e.currentClass}"></span> / <span class="${e.totalClass}"></span>`,s.html(r)),"progressbar"===e.type&&(r=e.renderProgressbar?e.renderProgressbar.call(t,e.progressbarFillClass):`<span class="${e.progressbarFillClass}"></span>`,s.html(r)),"custom"!==e.type&&n("paginationRender",t.pagination.$el[0])}function p(){t.params.pagination=F(t,t.originalParams.pagination,t.params.pagination,{el:"swiper-pagination"});const e=t.params.pagination;if(!e.el)return;let i=c(e.el);0!==i.length&&(t.params.uniqueNavElements&&"string"==typeof e.el&&i.length>1&&((i=t.$el.find(e.el)).length>1&&(i=i.filter(e=>c(e).parents(".swiper")[0]===t.el))),"bullets"===e.type&&e.clickable&&i.addClass(e.clickableClass),i.addClass(e.modifierClass+e.type),i.addClass(t.isHorizontal()?e.horizontalClass:e.verticalClass),"bullets"===e.type&&e.dynamicBullets&&(i.addClass(`${e.modifierClass}${e.type}-dynamic`),o=0,e.dynamicMainBullets<1&&(e.dynamicMainBullets=1)),"progressbar"===e.type&&e.progressbarOpposite&&i.addClass(e.progressbarOppositeClass),e.clickable&&i.on("click",N(e.bulletClass),function(e){e.preventDefault();let i=c(this).index()*t.params.slidesPerGroup;t.params.loop&&(i+=t.loopedSlides),t.slideTo(i)}),Object.assign(t.pagination,{$el:i,el:i[0]}),t.enabled||i.addClass(e.lockClass))}function f(){const e=t.params.pagination;if(l())return;const i=t.pagination.$el;i.removeClass(e.hiddenClass),i.removeClass(e.modifierClass+e.type),i.removeClass(t.isHorizontal()?e.horizontalClass:e.verticalClass),t.pagination.bullets&&t.pagination.bullets.removeClass&&t.pagination.bullets.removeClass(e.bulletActiveClass),e.clickable&&i.off("click",N(e.bulletClass))}s("init",()=>{!1===t.params.pagination.enabled?m():(p(),d(),u())}),s("activeIndexChange",()=>{(t.params.loop||void 0===t.snapIndex)&&u()}),s("snapIndexChange",()=>{t.params.loop||u()}),s("slidesLengthChange",()=>{t.params.loop&&(d(),u())}),s("snapGridLengthChange",()=>{t.params.loop||(d(),u())}),s("destroy",()=>{f()}),s("enable disable",()=>{const{$el:e}=t.pagination;e&&e[t.enabled?"removeClass":"addClass"](t.params.pagination.lockClass)}),s("lock unlock",()=>{u()}),s("click",(e,i)=>{const s=i.target,{$el:r}=t.pagination;if(t.params.pagination.el&&t.params.pagination.hideOnClick&&r&&r.length>0&&!c(s).hasClass(t.params.pagination.bulletClass)){if(t.navigation&&(t.navigation.nextEl&&s===t.navigation.nextEl||t.navigation.prevEl&&s===t.navigation.prevEl))return;const e=r.hasClass(t.params.pagination.hiddenClass);n(!0===e?"paginationShow":"paginationHide"),r.toggleClass(t.params.pagination.hiddenClass)}});const m=()=>{t.$el.addClass(t.params.pagination.paginationDisabledClass),t.pagination.$el&&t.pagination.$el.addClass(t.params.pagination.paginationDisabledClass),f()};Object.assign(t.pagination,{enable:()=>{t.$el.removeClass(t.params.pagination.paginationDisabledClass),t.pagination.$el&&t.pagination.$el.removeClass(t.params.pagination.paginationDisabledClass),p(),d(),u()},disable:m,render:d,update:u,init:p,destroy:f})},function(e){let{swiper:t,extendParams:i,on:n,emit:r}=e;const a=s();let o,l,h,d,p=!1,f=null,m=null;function g(){if(!t.params.scrollbar.el||!t.scrollbar.el)return;const{scrollbar:e,rtlTranslate:i,progress:s}=t,{$dragEl:n,$el:r}=e,a=t.params.scrollbar;let o=l,c=(h-l)*s;i?(c=-c)>0?(o=l-c,c=0):-c+l>h&&(o=h+c):c<0?(o=l+c,c=0):c+l>h&&(o=h-c),t.isHorizontal()?(n.transform(`translate3d(${c}px, 0, 0)`),n[0].style.width=`${o}px`):(n.transform(`translate3d(0px, ${c}px, 0)`),n[0].style.height=`${o}px`),a.hide&&(clearTimeout(f),r[0].style.opacity=1,f=setTimeout(()=>{r[0].style.opacity=0,r.transition(400)},1e3))}function v(){if(!t.params.scrollbar.el||!t.scrollbar.el)return;const{scrollbar:e}=t,{$dragEl:i,$el:s}=e;i[0].style.width="",i[0].style.height="",h=t.isHorizontal()?s[0].offsetWidth:s[0].offsetHeight,d=t.size/(t.virtualSize+t.params.slidesOffsetBefore-(t.params.centeredSlides?t.snapGrid[0]:0)),l="auto"===t.params.scrollbar.dragSize?h*d:parseInt(t.params.scrollbar.dragSize,10),t.isHorizontal()?i[0].style.width=`${l}px`:i[0].style.height=`${l}px`,s[0].style.display=d>=1?"none":"",t.params.scrollbar.hide&&(s[0].style.opacity=0),t.params.watchOverflow&&t.enabled&&e.$el[t.isLocked?"addClass":"removeClass"](t.params.scrollbar.lockClass)}function y(e){return t.isHorizontal()?"touchstart"===e.type||"touchmove"===e.type?e.targetTouches[0].clientX:e.clientX:"touchstart"===e.type||"touchmove"===e.type?e.targetTouches[0].clientY:e.clientY}function b(e){const{scrollbar:i,rtlTranslate:s}=t,{$el:n}=i;let r;r=(y(e)-n.offset()[t.isHorizontal()?"left":"top"]-(null!==o?o:l/2))/(h-l),r=Math.max(Math.min(r,1),0),s&&(r=1-r);const a=t.minTranslate()+(t.maxTranslate()-t.minTranslate())*r;t.updateProgress(a),t.setTranslate(a),t.updateActiveIndex(),t.updateSlidesClasses()}function w(e){const i=t.params.scrollbar,{scrollbar:s,$wrapperEl:n}=t,{$el:a,$dragEl:l}=s;p=!0,o=e.target===l[0]||e.target===l?y(e)-e.target.getBoundingClientRect()[t.isHorizontal()?"left":"top"]:null,e.preventDefault(),e.stopPropagation(),n.transition(100),l.transition(100),b(e),clearTimeout(m),a.transition(0),i.hide&&a.css("opacity",1),t.params.cssMode&&t.$wrapperEl.css("scroll-snap-type","none"),r("scrollbarDragStart",e)}function x(e){const{scrollbar:i,$wrapperEl:s}=t,{$el:n,$dragEl:a}=i;p&&(e.preventDefault?e.preventDefault():e.returnValue=!1,b(e),s.transition(0),n.transition(0),a.transition(0),r("scrollbarDragMove",e))}function _(e){const i=t.params.scrollbar,{scrollbar:s,$wrapperEl:n}=t,{$el:a}=s;p&&(p=!1,t.params.cssMode&&(t.$wrapperEl.css("scroll-snap-type",""),n.transition("")),i.hide&&(clearTimeout(m),m=u(()=>{a.css("opacity",0),a.transition(400)},1e3)),r("scrollbarDragEnd",e),i.snapOnRelease&&t.slideToClosest())}function k(e){const{scrollbar:i,touchEventsTouch:s,touchEventsDesktop:n,params:r,support:o}=t,l=i.$el;if(!l)return;const c=l[0],h=!(!o.passiveListener||!r.passiveListeners)&&{passive:!1,capture:!1},u=!(!o.passiveListener||!r.passiveListeners)&&{passive:!0,capture:!1};if(!c)return;const d="on"===e?"addEventListener":"removeEventListener";o.touch?(c[d](s.start,w,h),c[d](s.move,x,h),c[d](s.end,_,u)):(c[d](n.start,w,h),a[d](n.move,x,h),a[d](n.end,_,u))}function E(){const{scrollbar:e,$el:i}=t;t.params.scrollbar=F(t,t.originalParams.scrollbar,t.params.scrollbar,{el:"swiper-scrollbar"});const s=t.params.scrollbar;if(!s.el)return;let n=c(s.el);t.params.uniqueNavElements&&"string"==typeof s.el&&n.length>1&&1===i.find(s.el).length&&(n=i.find(s.el)),n.addClass(t.isHorizontal()?s.horizontalClass:s.verticalClass);let r=n.find(`.${t.params.scrollbar.dragClass}`);0===r.length&&(r=c(`<div class="${t.params.scrollbar.dragClass}"></div>`),n.append(r)),Object.assign(e,{$el:n,el:n[0],$dragEl:r,dragEl:r[0]}),s.draggable&&t.params.scrollbar.el&&t.scrollbar.el&&k("on"),n&&n[t.enabled?"removeClass":"addClass"](t.params.scrollbar.lockClass)}function S(){const e=t.params.scrollbar,i=t.scrollbar.$el;i&&i.removeClass(t.isHorizontal()?e.horizontalClass:e.verticalClass),t.params.scrollbar.el&&t.scrollbar.el&&k("off")}i({scrollbar:{el:null,dragSize:"auto",hide:!1,draggable:!1,snapOnRelease:!0,lockClass:"swiper-scrollbar-lock",dragClass:"swiper-scrollbar-drag",scrollbarDisabledClass:"swiper-scrollbar-disabled",horizontalClass:"swiper-scrollbar-horizontal",verticalClass:"swiper-scrollbar-vertical"}}),t.scrollbar={el:null,dragEl:null,$el:null,$dragEl:null},n("init",()=>{!1===t.params.scrollbar.enabled?C():(E(),v(),g())}),n("update resize observerUpdate lock unlock",()=>{v()}),n("setTranslate",()=>{g()}),n("setTransition",(e,i)=>{!function(e){t.params.scrollbar.el&&t.scrollbar.el&&t.scrollbar.$dragEl.transition(e)}(i)}),n("enable disable",()=>{const{$el:e}=t.scrollbar;e&&e[t.enabled?"removeClass":"addClass"](t.params.scrollbar.lockClass)}),n("destroy",()=>{S()});const C=()=>{t.$el.addClass(t.params.scrollbar.scrollbarDisabledClass),t.scrollbar.$el&&t.scrollbar.$el.addClass(t.params.scrollbar.scrollbarDisabledClass),S()};Object.assign(t.scrollbar,{enable:()=>{t.$el.removeClass(t.params.scrollbar.scrollbarDisabledClass),t.scrollbar.$el&&t.scrollbar.$el.removeClass(t.params.scrollbar.scrollbarDisabledClass),E(),v(),g()},disable:C,updateSize:v,setTranslate:g,init:E,destroy:S})},function(e){let{swiper:t,extendParams:i,on:s}=e;i({parallax:{enabled:!1}});const n=(e,i)=>{const{rtl:s}=t,n=c(e),r=s?-1:1,a=n.attr("data-swiper-parallax")||"0";let o=n.attr("data-swiper-parallax-x"),l=n.attr("data-swiper-parallax-y");const h=n.attr("data-swiper-parallax-scale"),u=n.attr("data-swiper-parallax-opacity");if(o||l?(o=o||"0",l=l||"0"):t.isHorizontal()?(o=a,l="0"):(l=a,o="0"),o=o.indexOf("%")>=0?parseInt(o,10)*i*r+"%":o*i*r+"px",l=l.indexOf("%")>=0?parseInt(l,10)*i+"%":l*i+"px",null!=u){const e=u-(u-1)*(1-Math.abs(i));n[0].style.opacity=e}if(null==h)n.transform(`translate3d(${o}, ${l}, 0px)`);else{const e=h-(h-1)*(1-Math.abs(i));n.transform(`translate3d(${o}, ${l}, 0px) scale(${e})`)}},r=()=>{const{$el:e,slides:i,progress:s,snapGrid:r}=t;e.children("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y], [data-swiper-parallax-opacity], [data-swiper-parallax-scale]").each(e=>{n(e,s)}),i.each((e,i)=>{let a=e.progress;t.params.slidesPerGroup>1&&"auto"!==t.params.slidesPerView&&(a+=Math.ceil(i/2)-s*(r.length-1)),a=Math.min(Math.max(a,-1),1),c(e).find("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y], [data-swiper-parallax-opacity], [data-swiper-parallax-scale]").each(e=>{n(e,a)})})};s("beforeInit",()=>{t.params.parallax.enabled&&(t.params.watchSlidesProgress=!0,t.originalParams.watchSlidesProgress=!0)}),s("init",()=>{t.params.parallax.enabled&&r()}),s("setTranslate",()=>{t.params.parallax.enabled&&r()}),s("setTransition",(e,i)=>{t.params.parallax.enabled&&function(e){void 0===e&&(e=t.params.speed);const{$el:i}=t;i.find("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y], [data-swiper-parallax-opacity], [data-swiper-parallax-scale]").each(t=>{const i=c(t);let s=parseInt(i.attr("data-swiper-parallax-duration"),10)||e;0===e&&(s=0),i.transition(s)})}(i)})},function(e){let{swiper:t,extendParams:i,on:s,emit:n}=e;const a=r();i({zoom:{enabled:!1,maxRatio:3,minRatio:1,toggle:!0,containerClass:"swiper-zoom-container",zoomedSlideClass:"swiper-slide-zoomed"}}),t.zoom={enabled:!1};let o,l,h,u=1,d=!1;const f={$slideEl:void 0,slideWidth:void 0,slideHeight:void 0,$imageEl:void 0,$imageWrapEl:void 0,maxRatio:3},m={isTouched:void 0,isMoved:void 0,currentX:void 0,currentY:void 0,minX:void 0,minY:void 0,maxX:void 0,maxY:void 0,width:void 0,height:void 0,startX:void 0,startY:void 0,touchesStart:{},touchesCurrent:{}},g={x:void 0,y:void 0,prevPositionX:void 0,prevPositionY:void 0,prevTime:void 0};let v=1;function y(e){if(e.targetTouches.length<2)return 1;const t=e.targetTouches[0].pageX,i=e.targetTouches[0].pageY,s=e.targetTouches[1].pageX,n=e.targetTouches[1].pageY;return Math.sqrt((s-t)**2+(n-i)**2)}function b(e){const i=t.support,s=t.params.zoom;if(l=!1,h=!1,!i.gestures){if("touchstart"!==e.type||"touchstart"===e.type&&e.targetTouches.length<2)return;l=!0,f.scaleStart=y(e)}f.$slideEl&&f.$slideEl.length||(f.$slideEl=c(e.target).closest(`.${t.params.slideClass}`),0===f.$slideEl.length&&(f.$slideEl=t.slides.eq(t.activeIndex)),f.$imageEl=f.$slideEl.find(`.${s.containerClass}`).eq(0).find("picture, img, svg, canvas, .swiper-zoom-target").eq(0),f.$imageWrapEl=f.$imageEl.parent(`.${s.containerClass}`),f.maxRatio=f.$imageWrapEl.attr("data-swiper-zoom")||s.maxRatio,0!==f.$imageWrapEl.length)?(f.$imageEl&&f.$imageEl.transition(0),d=!0):f.$imageEl=void 0}function w(e){const i=t.support,s=t.params.zoom,n=t.zoom;if(!i.gestures){if("touchmove"!==e.type||"touchmove"===e.type&&e.targetTouches.length<2)return;h=!0,f.scaleMove=y(e)}f.$imageEl&&0!==f.$imageEl.length?(i.gestures?n.scale=e.scale*u:n.scale=f.scaleMove/f.scaleStart*u,n.scale>f.maxRatio&&(n.scale=f.maxRatio-1+(n.scale-f.maxRatio+1)**.5),n.scale<s.minRatio&&(n.scale=s.minRatio+1-(s.minRatio-n.scale+1)**.5),f.$imageEl.transform(`translate3d(0,0,0) scale(${n.scale})`)):"gesturechange"===e.type&&b(e)}function x(e){const i=t.device,s=t.support,n=t.params.zoom,r=t.zoom;if(!s.gestures){if(!l||!h)return;if("touchend"!==e.type||"touchend"===e.type&&e.changedTouches.length<2&&!i.android)return;l=!1,h=!1}f.$imageEl&&0!==f.$imageEl.length&&(r.scale=Math.max(Math.min(r.scale,f.maxRatio),n.minRatio),f.$imageEl.transition(t.params.speed).transform(`translate3d(0,0,0) scale(${r.scale})`),u=r.scale,d=!1,1===r.scale&&(f.$slideEl=void 0))}function _(e){const i=t.zoom;if(!f.$imageEl||0===f.$imageEl.length)return;if(t.allowClick=!1,!m.isTouched||!f.$slideEl)return;m.isMoved||(m.width=f.$imageEl[0].offsetWidth,m.height=f.$imageEl[0].offsetHeight,m.startX=p(f.$imageWrapEl[0],"x")||0,m.startY=p(f.$imageWrapEl[0],"y")||0,f.slideWidth=f.$slideEl[0].offsetWidth,f.slideHeight=f.$slideEl[0].offsetHeight,f.$imageWrapEl.transition(0));const s=m.width*i.scale,n=m.height*i.scale;if(!(s<f.slideWidth&&n<f.slideHeight)){if(m.minX=Math.min(f.slideWidth/2-s/2,0),m.maxX=-m.minX,m.minY=Math.min(f.slideHeight/2-n/2,0),m.maxY=-m.minY,m.touchesCurrent.x="touchmove"===e.type?e.targetTouches[0].pageX:e.pageX,m.touchesCurrent.y="touchmove"===e.type?e.targetTouches[0].pageY:e.pageY,!m.isMoved&&!d){if(t.isHorizontal()&&(Math.floor(m.minX)===Math.floor(m.startX)&&m.touchesCurrent.x<m.touchesStart.x||Math.floor(m.maxX)===Math.floor(m.startX)&&m.touchesCurrent.x>m.touchesStart.x))return void(m.isTouched=!1);if(!t.isHorizontal()&&(Math.floor(m.minY)===Math.floor(m.startY)&&m.touchesCurrent.y<m.touchesStart.y||Math.floor(m.maxY)===Math.floor(m.startY)&&m.touchesCurrent.y>m.touchesStart.y))return void(m.isTouched=!1)}e.cancelable&&e.preventDefault(),e.stopPropagation(),m.isMoved=!0,m.currentX=m.touchesCurrent.x-m.touchesStart.x+m.startX,m.currentY=m.touchesCurrent.y-m.touchesStart.y+m.startY,m.currentX<m.minX&&(m.currentX=m.minX+1-(m.minX-m.currentX+1)**.8),m.currentX>m.maxX&&(m.currentX=m.maxX-1+(m.currentX-m.maxX+1)**.8),m.currentY<m.minY&&(m.currentY=m.minY+1-(m.minY-m.currentY+1)**.8),m.currentY>m.maxY&&(m.currentY=m.maxY-1+(m.currentY-m.maxY+1)**.8),g.prevPositionX||(g.prevPositionX=m.touchesCurrent.x),g.prevPositionY||(g.prevPositionY=m.touchesCurrent.y),g.prevTime||(g.prevTime=Date.now()),g.x=(m.touchesCurrent.x-g.prevPositionX)/(Date.now()-g.prevTime)/2,g.y=(m.touchesCurrent.y-g.prevPositionY)/(Date.now()-g.prevTime)/2,Math.abs(m.touchesCurrent.x-g.prevPositionX)<2&&(g.x=0),Math.abs(m.touchesCurrent.y-g.prevPositionY)<2&&(g.y=0),g.prevPositionX=m.touchesCurrent.x,g.prevPositionY=m.touchesCurrent.y,g.prevTime=Date.now(),f.$imageWrapEl.transform(`translate3d(${m.currentX}px, ${m.currentY}px,0)`)}}function k(){const e=t.zoom;f.$slideEl&&t.previousIndex!==t.activeIndex&&(f.$imageEl&&f.$imageEl.transform("translate3d(0,0,0) scale(1)"),f.$imageWrapEl&&f.$imageWrapEl.transform("translate3d(0,0,0)"),e.scale=1,u=1,f.$slideEl=void 0,f.$imageEl=void 0,f.$imageWrapEl=void 0)}function E(e){const i=t.zoom,s=t.params.zoom;if(f.$slideEl||(e&&e.target&&(f.$slideEl=c(e.target).closest(`.${t.params.slideClass}`)),f.$slideEl||(t.params.virtual&&t.params.virtual.enabled&&t.virtual?f.$slideEl=t.$wrapperEl.children(`.${t.params.slideActiveClass}`):f.$slideEl=t.slides.eq(t.activeIndex)),f.$imageEl=f.$slideEl.find(`.${s.containerClass}`).eq(0).find("picture, img, svg, canvas, .swiper-zoom-target").eq(0),f.$imageWrapEl=f.$imageEl.parent(`.${s.containerClass}`)),!f.$imageEl||0===f.$imageEl.length||!f.$imageWrapEl||0===f.$imageWrapEl.length)return;let n,r,o,l,h,d,p,g,v,y,b,w,x,_,k,E,S,C;t.params.cssMode&&(t.wrapperEl.style.overflow="hidden",t.wrapperEl.style.touchAction="none"),f.$slideEl.addClass(`${s.zoomedSlideClass}`),void 0===m.touchesStart.x&&e?(n="touchend"===e.type?e.changedTouches[0].pageX:e.pageX,r="touchend"===e.type?e.changedTouches[0].pageY:e.pageY):(n=m.touchesStart.x,r=m.touchesStart.y),i.scale=f.$imageWrapEl.attr("data-swiper-zoom")||s.maxRatio,u=f.$imageWrapEl.attr("data-swiper-zoom")||s.maxRatio,e?(S=f.$slideEl[0].offsetWidth,C=f.$slideEl[0].offsetHeight,h=(o=f.$slideEl.offset().left+a.scrollX)+S/2-n,d=(l=f.$slideEl.offset().top+a.scrollY)+C/2-r,v=f.$imageEl[0].offsetWidth,y=f.$imageEl[0].offsetHeight,b=v*i.scale,w=y*i.scale,k=-(x=Math.min(S/2-b/2,0)),E=-(_=Math.min(C/2-w/2,0)),(p=h*i.scale)<x&&(p=x),p>k&&(p=k),(g=d*i.scale)<_&&(g=_),g>E&&(g=E)):(p=0,g=0),f.$imageWrapEl.transition(300).transform(`translate3d(${p}px, ${g}px,0)`),f.$imageEl.transition(300).transform(`translate3d(0,0,0) scale(${i.scale})`)}function S(){const e=t.zoom,i=t.params.zoom;f.$slideEl||(t.params.virtual&&t.params.virtual.enabled&&t.virtual?f.$slideEl=t.$wrapperEl.children(`.${t.params.slideActiveClass}`):f.$slideEl=t.slides.eq(t.activeIndex),f.$imageEl=f.$slideEl.find(`.${i.containerClass}`).eq(0).find("picture, img, svg, canvas, .swiper-zoom-target").eq(0),f.$imageWrapEl=f.$imageEl.parent(`.${i.containerClass}`)),f.$imageEl&&0!==f.$imageEl.length&&f.$imageWrapEl&&0!==f.$imageWrapEl.length&&(t.params.cssMode&&(t.wrapperEl.style.overflow="",t.wrapperEl.style.touchAction=""),e.scale=1,u=1,f.$imageWrapEl.transition(300).transform("translate3d(0,0,0)"),f.$imageEl.transition(300).transform("translate3d(0,0,0) scale(1)"),f.$slideEl.removeClass(`${i.zoomedSlideClass}`),f.$slideEl=void 0)}function C(e){const i=t.zoom;i.scale&&1!==i.scale?S():E(e)}function T(){const e=t.support;return{passiveListener:!("touchstart"!==t.touchEvents.start||!e.passiveListener||!t.params.passiveListeners)&&{passive:!0,capture:!1},activeListenerWithCapture:!e.passiveListener||{passive:!1,capture:!0}}}function M(){return`.${t.params.slideClass}`}function P(e){const{passiveListener:i}=T(),s=M();t.$wrapperEl[e]("gesturestart",s,b,i),t.$wrapperEl[e]("gesturechange",s,w,i),t.$wrapperEl[e]("gestureend",s,x,i)}function A(){o||(o=!0,P("on"))}function O(){o&&(o=!1,P("off"))}function D(){const e=t.zoom;if(e.enabled)return;e.enabled=!0;const i=t.support,{passiveListener:s,activeListenerWithCapture:n}=T(),r=M();i.gestures?(t.$wrapperEl.on(t.touchEvents.start,A,s),t.$wrapperEl.on(t.touchEvents.end,O,s)):"touchstart"===t.touchEvents.start&&(t.$wrapperEl.on(t.touchEvents.start,r,b,s),t.$wrapperEl.on(t.touchEvents.move,r,w,n),t.$wrapperEl.on(t.touchEvents.end,r,x,s),t.touchEvents.cancel&&t.$wrapperEl.on(t.touchEvents.cancel,r,x,s)),t.$wrapperEl.on(t.touchEvents.move,`.${t.params.zoom.containerClass}`,_,n)}function L(){const e=t.zoom;if(!e.enabled)return;const i=t.support;e.enabled=!1;const{passiveListener:s,activeListenerWithCapture:n}=T(),r=M();i.gestures?(t.$wrapperEl.off(t.touchEvents.start,A,s),t.$wrapperEl.off(t.touchEvents.end,O,s)):"touchstart"===t.touchEvents.start&&(t.$wrapperEl.off(t.touchEvents.start,r,b,s),t.$wrapperEl.off(t.touchEvents.move,r,w,n),t.$wrapperEl.off(t.touchEvents.end,r,x,s),t.touchEvents.cancel&&t.$wrapperEl.off(t.touchEvents.cancel,r,x,s)),t.$wrapperEl.off(t.touchEvents.move,`.${t.params.zoom.containerClass}`,_,n)}Object.defineProperty(t.zoom,"scale",{get:()=>v,set(e){if(v!==e){const t=f.$imageEl?f.$imageEl[0]:void 0,i=f.$slideEl?f.$slideEl[0]:void 0;n("zoomChange",e,t,i)}v=e}}),s("init",()=>{t.params.zoom.enabled&&D()}),s("destroy",()=>{L()}),s("touchStart",(e,i)=>{t.zoom.enabled&&function(e){const i=t.device;f.$imageEl&&0!==f.$imageEl.length&&(m.isTouched||(i.android&&e.cancelable&&e.preventDefault(),m.isTouched=!0,m.touchesStart.x="touchstart"===e.type?e.targetTouches[0].pageX:e.pageX,m.touchesStart.y="touchstart"===e.type?e.targetTouches[0].pageY:e.pageY))}(i)}),s("touchEnd",(e,i)=>{t.zoom.enabled&&function(){const e=t.zoom;if(!f.$imageEl||0===f.$imageEl.length)return;if(!m.isTouched||!m.isMoved)return m.isTouched=!1,void(m.isMoved=!1);m.isTouched=!1,m.isMoved=!1;let i=300,s=300;const n=g.x*i,r=m.currentX+n,a=g.y*s,o=m.currentY+a;0!==g.x&&(i=Math.abs((r-m.currentX)/g.x)),0!==g.y&&(s=Math.abs((o-m.currentY)/g.y));const l=Math.max(i,s);m.currentX=r,m.currentY=o;const c=m.width*e.scale,h=m.height*e.scale;m.minX=Math.min(f.slideWidth/2-c/2,0),m.maxX=-m.minX,m.minY=Math.min(f.slideHeight/2-h/2,0),m.maxY=-m.minY,m.currentX=Math.max(Math.min(m.currentX,m.maxX),m.minX),m.currentY=Math.max(Math.min(m.currentY,m.maxY),m.minY),f.$imageWrapEl.transition(l).transform(`translate3d(${m.currentX}px, ${m.currentY}px,0)`)}()}),s("doubleTap",(e,i)=>{!t.animating&&t.params.zoom.enabled&&t.zoom.enabled&&t.params.zoom.toggle&&C(i)}),s("transitionEnd",()=>{t.zoom.enabled&&t.params.zoom.enabled&&k()}),s("slideChange",()=>{t.zoom.enabled&&t.params.zoom.enabled&&t.params.cssMode&&k()}),Object.assign(t.zoom,{enable:D,disable:L,in:E,out:S,toggle:C})},function(e){let{swiper:t,extendParams:i,on:s,emit:n}=e;i({lazy:{checkInView:!1,enabled:!1,loadPrevNext:!1,loadPrevNextAmount:1,loadOnTransitionStart:!1,scrollingElement:"",elementClass:"swiper-lazy",loadingClass:"swiper-lazy-loading",loadedClass:"swiper-lazy-loaded",preloaderClass:"swiper-lazy-preloader"}}),t.lazy={};let a=!1,o=!1;function l(e,i){void 0===i&&(i=!0);const s=t.params.lazy;if(void 0===e)return;if(0===t.slides.length)return;const r=t.virtual&&t.params.virtual.enabled?t.$wrapperEl.children(`.${t.params.slideClass}[data-swiper-slide-index="${e}"]`):t.slides.eq(e),a=r.find(`.${s.elementClass}:not(.${s.loadedClass}):not(.${s.loadingClass})`);!r.hasClass(s.elementClass)||r.hasClass(s.loadedClass)||r.hasClass(s.loadingClass)||a.push(r[0]),0!==a.length&&a.each(e=>{const a=c(e);a.addClass(s.loadingClass);const o=a.attr("data-background"),h=a.attr("data-src"),u=a.attr("data-srcset"),d=a.attr("data-sizes"),p=a.parent("picture");t.loadImage(a[0],h||o,u,d,!1,()=>{if(null!=t&&t&&(!t||t.params)&&!t.destroyed){if(o?(a.css("background-image",`url("${o}")`),a.removeAttr("data-background")):(u&&(a.attr("srcset",u),a.removeAttr("data-srcset")),d&&(a.attr("sizes",d),a.removeAttr("data-sizes")),p.length&&p.children("source").each(e=>{const t=c(e);t.attr("data-srcset")&&(t.attr("srcset",t.attr("data-srcset")),t.removeAttr("data-srcset"))}),h&&(a.attr("src",h),a.removeAttr("data-src"))),a.addClass(s.loadedClass).removeClass(s.loadingClass),r.find(`.${s.preloaderClass}`).remove(),t.params.loop&&i){const e=r.attr("data-swiper-slide-index");r.hasClass(t.params.slideDuplicateClass)?l(t.$wrapperEl.children(`[data-swiper-slide-index="${e}"]:not(.${t.params.slideDuplicateClass})`).index(),!1):l(t.$wrapperEl.children(`.${t.params.slideDuplicateClass}[data-swiper-slide-index="${e}"]`).index(),!1)}n("lazyImageReady",r[0],a[0]),t.params.autoHeight&&t.updateAutoHeight()}}),n("lazyImageLoad",r[0],a[0])})}function h(){const{$wrapperEl:e,params:i,slides:s,activeIndex:n}=t,r=t.virtual&&i.virtual.enabled,a=i.lazy;let h=i.slidesPerView;function u(t){if(r){if(e.children(`.${i.slideClass}[data-swiper-slide-index="${t}"]`).length)return!0}else if(s[t])return!0;return!1}function d(e){return r?c(e).attr("data-swiper-slide-index"):c(e).index()}if("auto"===h&&(h=0),o||(o=!0),t.params.watchSlidesProgress)e.children(`.${i.slideVisibleClass}`).each(e=>{l(r?c(e).attr("data-swiper-slide-index"):c(e).index())});else if(h>1)for(let e=n;e<n+h;e+=1)u(e)&&l(e);else l(n);if(a.loadPrevNext)if(h>1||a.loadPrevNextAmount&&a.loadPrevNextAmount>1){const e=a.loadPrevNextAmount,t=Math.ceil(h),i=Math.min(n+t+Math.max(e,t),s.length),r=Math.max(n-Math.max(t,e),0);for(let e=n+t;e<i;e+=1)u(e)&&l(e);for(let e=r;e<n;e+=1)u(e)&&l(e)}else{const t=e.children(`.${i.slideNextClass}`);t.length>0&&l(d(t));const s=e.children(`.${i.slidePrevClass}`);s.length>0&&l(d(s))}}function u(){const e=r();if(!t||t.destroyed)return;const i=t.params.lazy.scrollingElement?c(t.params.lazy.scrollingElement):c(e),s=i[0]===e,n=s?e.innerWidth:i[0].offsetWidth,o=s?e.innerHeight:i[0].offsetHeight,l=t.$el.offset(),{rtlTranslate:d}=t;let p=!1;d&&(l.left-=t.$el[0].scrollLeft);const f=[[l.left,l.top],[l.left+t.width,l.top],[l.left,l.top+t.height],[l.left+t.width,l.top+t.height]];for(let e=0;e<f.length;e+=1){const t=f[e];if(t[0]>=0&&t[0]<=n&&t[1]>=0&&t[1]<=o){if(0===t[0]&&0===t[1])continue;p=!0}}const m=!("touchstart"!==t.touchEvents.start||!t.support.passiveListener||!t.params.passiveListeners)&&{passive:!0,capture:!1};p?(h(),i.off("scroll",u,m)):a||(a=!0,i.on("scroll",u,m))}s("beforeInit",()=>{t.params.lazy.enabled&&t.params.preloadImages&&(t.params.preloadImages=!1)}),s("init",()=>{t.params.lazy.enabled&&(t.params.lazy.checkInView?u():h())}),s("scroll",()=>{t.params.freeMode&&t.params.freeMode.enabled&&!t.params.freeMode.sticky&&h()}),s("scrollbarDragMove resize _freeModeNoMomentumRelease",()=>{t.params.lazy.enabled&&(t.params.lazy.checkInView?u():h())}),s("transitionStart",()=>{t.params.lazy.enabled&&(t.params.lazy.loadOnTransitionStart||!t.params.lazy.loadOnTransitionStart&&!o)&&(t.params.lazy.checkInView?u():h())}),s("transitionEnd",()=>{t.params.lazy.enabled&&!t.params.lazy.loadOnTransitionStart&&(t.params.lazy.checkInView?u():h())}),s("slideChange",()=>{const{lazy:e,cssMode:i,watchSlidesProgress:s,touchReleaseOnEdges:n,resistanceRatio:r}=t.params;e.enabled&&(i||s&&(n||0===r))&&h()}),s("destroy",()=>{t.$el&&t.$el.find(`.${t.params.lazy.loadingClass}`).removeClass(t.params.lazy.loadingClass)}),Object.assign(t.lazy,{load:h,loadInSlide:l})},function(e){let{swiper:t,extendParams:i,on:s}=e;function n(e,t){const i=function(){let e,t,i;return(s,n)=>{for(t=-1,e=s.length;e-t>1;)s[i=e+t>>1]<=n?t=i:e=i;return e}}();let s,n;return this.x=e,this.y=t,this.lastIndex=e.length-1,this.interpolate=function(e){return e?(n=i(this.x,e),s=n-1,(e-this.x[s])*(this.y[n]-this.y[s])/(this.x[n]-this.x[s])+this.y[s]):0},this}function r(){t.controller.control&&t.controller.spline&&(t.controller.spline=void 0,delete t.controller.spline)}i({controller:{control:void 0,inverse:!1,by:"slide"}}),t.controller={control:void 0},s("beforeInit",()=>{t.controller.control=t.params.controller.control}),s("update",()=>{r()}),s("resize",()=>{r()}),s("observerUpdate",()=>{r()}),s("setTranslate",(e,i,s)=>{t.controller.control&&t.controller.setTranslate(i,s)}),s("setTransition",(e,i,s)=>{t.controller.control&&t.controller.setTransition(i,s)}),Object.assign(t.controller,{setTranslate:function(e,i){const s=t.controller.control;let r,a;const o=t.constructor;function l(e){const i=t.rtlTranslate?-t.translate:t.translate;"slide"===t.params.controller.by&&(function(e){t.controller.spline||(t.controller.spline=t.params.loop?new n(t.slidesGrid,e.slidesGrid):new n(t.snapGrid,e.snapGrid))}(e),a=-t.controller.spline.interpolate(-i)),a&&"container"!==t.params.controller.by||(r=(e.maxTranslate()-e.minTranslate())/(t.maxTranslate()-t.minTranslate()),a=(i-t.minTranslate())*r+e.minTranslate()),t.params.controller.inverse&&(a=e.maxTranslate()-a),e.updateProgress(a),e.setTranslate(a,t),e.updateActiveIndex(),e.updateSlidesClasses()}if(Array.isArray(s))for(let e=0;e<s.length;e+=1)s[e]!==i&&s[e]instanceof o&&l(s[e]);else s instanceof o&&i!==s&&l(s)},setTransition:function(e,i){const s=t.constructor,n=t.controller.control;let r;function a(i){i.setTransition(e,t),0!==e&&(i.transitionStart(),i.params.autoHeight&&u(()=>{i.updateAutoHeight()}),i.$wrapperEl.transitionEnd(()=>{n&&(i.params.loop&&"slide"===t.params.controller.by&&i.loopFix(),i.transitionEnd())}))}if(Array.isArray(n))for(r=0;r<n.length;r+=1)n[r]!==i&&n[r]instanceof s&&a(n[r]);else n instanceof s&&i!==n&&a(n)}})},function(e){let{swiper:t,extendParams:i,on:s}=e;i({a11y:{enabled:!0,notificationClass:"swiper-notification",prevSlideMessage:"Previous slide",nextSlideMessage:"Next slide",firstSlideMessage:"This is the first slide",lastSlideMessage:"This is the last slide",paginationBulletMessage:"Go to slide {{index}}",slideLabelMessage:"{{index}} / {{slidesLength}}",containerMessage:null,containerRoleDescriptionMessage:null,itemRoleDescriptionMessage:null,slideRole:"group",id:null}});let n=null;function r(e){const t=n;0!==t.length&&(t.html(""),t.html(e))}function a(e){e.attr("tabIndex","0")}function o(e){e.attr("tabIndex","-1")}function l(e,t){e.attr("role",t)}function h(e,t){e.attr("aria-roledescription",t)}function u(e,t){e.attr("aria-label",t)}function d(e){e.attr("aria-disabled",!0)}function p(e){e.attr("aria-disabled",!1)}function f(e){if(13!==e.keyCode&&32!==e.keyCode)return;const i=t.params.a11y,s=c(e.target);t.navigation&&t.navigation.$nextEl&&s.is(t.navigation.$nextEl)&&(t.isEnd&&!t.params.loop||t.slideNext(),t.isEnd?r(i.lastSlideMessage):r(i.nextSlideMessage)),t.navigation&&t.navigation.$prevEl&&s.is(t.navigation.$prevEl)&&(t.isBeginning&&!t.params.loop||t.slidePrev(),t.isBeginning?r(i.firstSlideMessage):r(i.prevSlideMessage)),t.pagination&&s.is(N(t.params.pagination.bulletClass))&&s[0].click()}function m(){return t.pagination&&t.pagination.bullets&&t.pagination.bullets.length}function g(){return m()&&t.params.pagination.clickable}const v=(e,t,i)=>{a(e),"BUTTON"!==e[0].tagName&&(l(e,"button"),e.on("keydown",f)),u(e,i),function(e,t){e.attr("aria-controls",t)}(e,t)},y=e=>{const i=e.target.closest(`.${t.params.slideClass}`);if(!i||!t.slides.includes(i))return;const s=t.slides.indexOf(i)===t.activeIndex,n=t.params.watchSlidesProgress&&t.visibleSlides&&t.visibleSlides.includes(i);s||n||t.slideTo(t.slides.indexOf(i),0)},b=()=>{const e=t.params.a11y;e.itemRoleDescriptionMessage&&h(c(t.slides),e.itemRoleDescriptionMessage),e.slideRole&&l(c(t.slides),e.slideRole);const i=t.params.loop?t.slides.filter(e=>!e.classList.contains(t.params.slideDuplicateClass)).length:t.slides.length;e.slideLabelMessage&&t.slides.each((s,n)=>{const r=c(s),a=t.params.loop?parseInt(r.attr("data-swiper-slide-index"),10):n;u(r,e.slideLabelMessage.replace(/\{\{index\}\}/,a+1).replace(/\{\{slidesLength\}\}/,i))})};s("beforeInit",()=>{n=c(`<span class="${t.params.a11y.notificationClass}" aria-live="assertive" aria-atomic="true"></span>`)}),s("afterInit",()=>{t.params.a11y.enabled&&(()=>{const e=t.params.a11y;t.$el.append(n);const i=t.$el;e.containerRoleDescriptionMessage&&h(i,e.containerRoleDescriptionMessage),e.containerMessage&&u(i,e.containerMessage);const s=t.$wrapperEl,r=e.id||s.attr("id")||`swiper-wrapper-${a=16,void 0===a&&(a=16),"x".repeat(a).replace(/x/g,()=>Math.round(16*Math.random()).toString(16))}`;var a;const o=t.params.autoplay&&t.params.autoplay.enabled?"off":"polite";var l;let c,d;l=r,s.attr("id",l),function(e,t){s.attr("aria-live",t)}(0,o),b(),t.navigation&&t.navigation.$nextEl&&(c=t.navigation.$nextEl),t.navigation&&t.navigation.$prevEl&&(d=t.navigation.$prevEl),c&&c.length&&v(c,r,e.nextSlideMessage),d&&d.length&&v(d,r,e.prevSlideMessage),g()&&t.pagination.$el.on("keydown",N(t.params.pagination.bulletClass),f),t.$el.on("focus",y,!0)})()}),s("slidesLengthChange snapGridLengthChange slidesGridLengthChange",()=>{t.params.a11y.enabled&&b()}),s("fromEdge toEdge afterInit lock unlock",()=>{t.params.a11y.enabled&&function(){if(t.params.loop||t.params.rewind||!t.navigation)return;const{$nextEl:e,$prevEl:i}=t.navigation;i&&i.length>0&&(t.isBeginning?(d(i),o(i)):(p(i),a(i))),e&&e.length>0&&(t.isEnd?(d(e),o(e)):(p(e),a(e)))}()}),s("paginationUpdate",()=>{t.params.a11y.enabled&&function(){const e=t.params.a11y;m()&&t.pagination.bullets.each(i=>{const s=c(i);t.params.pagination.clickable&&(a(s),t.params.pagination.renderBullet||(l(s,"button"),u(s,e.paginationBulletMessage.replace(/\{\{index\}\}/,s.index()+1)))),s.is(`.${t.params.pagination.bulletActiveClass}`)?s.attr("aria-current","true"):s.removeAttr("aria-current")})}()}),s("destroy",()=>{t.params.a11y.enabled&&function(){let e,i;n&&n.length>0&&n.remove(),t.navigation&&t.navigation.$nextEl&&(e=t.navigation.$nextEl),t.navigation&&t.navigation.$prevEl&&(i=t.navigation.$prevEl),e&&e.off("keydown",f),i&&i.off("keydown",f),g()&&t.pagination.$el.off("keydown",N(t.params.pagination.bulletClass),f),t.$el.off("focus",y,!0)}()})},function(e){let{swiper:t,extendParams:i,on:s}=e;i({history:{enabled:!1,root:"",replaceState:!1,key:"slides",keepQuery:!1}});let n=!1,a={};const o=e=>e.toString().replace(/\s+/g,"-").replace(/[^\w-]+/g,"").replace(/--+/g,"-").replace(/^-+/,"").replace(/-+$/,""),l=e=>{const t=r();let i;const s=(i=e?new URL(e):t.location).pathname.slice(1).split("/").filter(e=>""!==e),n=s.length;return{key:s[n-2],value:s[n-1]}},c=(e,i)=>{const s=r();if(!n||!t.params.history.enabled)return;let a;a=t.params.url?new URL(t.params.url):s.location;const l=t.slides.eq(i);let c=o(l.attr("data-history"));if(t.params.history.root.length>0){let i=t.params.history.root;"/"===i[i.length-1]&&(i=i.slice(0,i.length-1)),c=`${i}/${e}/${c}`}else a.pathname.includes(e)||(c=`${e}/${c}`);t.params.history.keepQuery&&(c+=a.search);const h=s.history.state;h&&h.value===c||(t.params.history.replaceState?s.history.replaceState({value:c},null,c):s.history.pushState({value:c},null,c))},h=(e,i,s)=>{if(i)for(let n=0,r=t.slides.length;n<r;n+=1){const r=t.slides.eq(n);if(o(r.attr("data-history"))===i&&!r.hasClass(t.params.slideDuplicateClass)){const i=r.index();t.slideTo(i,e,s)}}else t.slideTo(0,e,s)},u=()=>{a=l(t.params.url),h(t.params.speed,a.value,!1)};s("init",()=>{t.params.history.enabled&&(()=>{const e=r();if(t.params.history){if(!e.history||!e.history.pushState)return t.params.history.enabled=!1,void(t.params.hashNavigation.enabled=!0);n=!0,((a=l(t.params.url)).key||a.value)&&(h(0,a.value,t.params.runCallbacksOnInit),t.params.history.replaceState||e.addEventListener("popstate",u))}})()}),s("destroy",()=>{t.params.history.enabled&&(()=>{const e=r();t.params.history.replaceState||e.removeEventListener("popstate",u)})()}),s("transitionEnd _freeModeNoMomentumRelease",()=>{n&&c(t.params.history.key,t.activeIndex)}),s("slideChange",()=>{n&&t.params.cssMode&&c(t.params.history.key,t.activeIndex)})},function(e){let{swiper:t,extendParams:i,emit:n,on:a}=e,o=!1;const l=s(),h=r();i({hashNavigation:{enabled:!1,replaceState:!1,watchState:!1}});const u=()=>{n("hashChange");const e=l.location.hash.replace("#","");if(e!==t.slides.eq(t.activeIndex).attr("data-hash")){const i=t.$wrapperEl.children(`.${t.params.slideClass}[data-hash="${e}"]`).index();if(void 0===i)return;t.slideTo(i)}},d=()=>{if(o&&t.params.hashNavigation.enabled)if(t.params.hashNavigation.replaceState&&h.history&&h.history.replaceState)h.history.replaceState(null,null,`#${t.slides.eq(t.activeIndex).attr("data-hash")}`||""),n("hashSet");else{const e=t.slides.eq(t.activeIndex),i=e.attr("data-hash")||e.attr("data-history");l.location.hash=i||"",n("hashSet")}};a("init",()=>{t.params.hashNavigation.enabled&&(()=>{if(!t.params.hashNavigation.enabled||t.params.history&&t.params.history.enabled)return;o=!0;const e=l.location.hash.replace("#","");if(e){const i=0;for(let s=0,n=t.slides.length;s<n;s+=1){const n=t.slides.eq(s);if((n.attr("data-hash")||n.attr("data-history"))===e&&!n.hasClass(t.params.slideDuplicateClass)){const e=n.index();t.slideTo(e,i,t.params.runCallbacksOnInit,!0)}}}t.params.hashNavigation.watchState&&c(h).on("hashchange",u)})()}),a("destroy",()=>{t.params.hashNavigation.enabled&&t.params.hashNavigation.watchState&&c(h).off("hashchange",u)}),a("transitionEnd _freeModeNoMomentumRelease",()=>{o&&d()}),a("slideChange",()=>{o&&t.params.cssMode&&d()})},function(e){let t,{swiper:i,extendParams:n,on:r,emit:a}=e;function o(){const e=i.slides.eq(i.activeIndex);let s=i.params.autoplay.delay;e.attr("data-swiper-autoplay")&&(s=e.attr("data-swiper-autoplay")||i.params.autoplay.delay),clearTimeout(t),t=u(()=>{let e;i.params.autoplay.reverseDirection?i.params.loop?(i.loopFix(),e=i.slidePrev(i.params.speed,!0,!0),a("autoplay")):i.isBeginning?i.params.autoplay.stopOnLastSlide?c():(e=i.slideTo(i.slides.length-1,i.params.speed,!0,!0),a("autoplay")):(e=i.slidePrev(i.params.speed,!0,!0),a("autoplay")):i.params.loop?(i.loopFix(),e=i.slideNext(i.params.speed,!0,!0),a("autoplay")):i.isEnd?i.params.autoplay.stopOnLastSlide?c():(e=i.slideTo(0,i.params.speed,!0,!0),a("autoplay")):(e=i.slideNext(i.params.speed,!0,!0),a("autoplay")),(i.params.cssMode&&i.autoplay.running||!1===e)&&o()},s)}function l(){return void 0===t&&!i.autoplay.running&&(i.autoplay.running=!0,a("autoplayStart"),o(),!0)}function c(){return!!i.autoplay.running&&void 0!==t&&(t&&(clearTimeout(t),t=void 0),i.autoplay.running=!1,a("autoplayStop"),!0)}function h(e){i.autoplay.running&&(i.autoplay.paused||(t&&clearTimeout(t),i.autoplay.paused=!0,0!==e&&i.params.autoplay.waitForTransition?["transitionend","webkitTransitionEnd"].forEach(e=>{i.$wrapperEl[0].addEventListener(e,p)}):(i.autoplay.paused=!1,o())))}function d(){const e=s();"hidden"===e.visibilityState&&i.autoplay.running&&h(),"visible"===e.visibilityState&&i.autoplay.paused&&(o(),i.autoplay.paused=!1)}function p(e){i&&!i.destroyed&&i.$wrapperEl&&e.target===i.$wrapperEl[0]&&(["transitionend","webkitTransitionEnd"].forEach(e=>{i.$wrapperEl[0].removeEventListener(e,p)}),i.autoplay.paused=!1,i.autoplay.running?o():c())}function f(){i.params.autoplay.disableOnInteraction?c():(a("autoplayPause"),h()),["transitionend","webkitTransitionEnd"].forEach(e=>{i.$wrapperEl[0].removeEventListener(e,p)})}function m(){i.params.autoplay.disableOnInteraction||(i.autoplay.paused=!1,a("autoplayResume"),o())}i.autoplay={running:!1,paused:!1},n({autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!0,stopOnLastSlide:!1,reverseDirection:!1,pauseOnMouseEnter:!1}}),r("init",()=>{i.params.autoplay.enabled&&(l(),s().addEventListener("visibilitychange",d),i.params.autoplay.pauseOnMouseEnter&&(i.$el.on("mouseenter",f),i.$el.on("mouseleave",m)))}),r("beforeTransitionStart",(e,t,s)=>{i.autoplay.running&&(s||!i.params.autoplay.disableOnInteraction?i.autoplay.pause(t):c())}),r("sliderFirstMove",()=>{i.autoplay.running&&(i.params.autoplay.disableOnInteraction?c():h())}),r("touchEnd",()=>{i.params.cssMode&&i.autoplay.paused&&!i.params.autoplay.disableOnInteraction&&o()}),r("destroy",()=>{i.$el.off("mouseenter",f),i.$el.off("mouseleave",m),i.autoplay.running&&c(),s().removeEventListener("visibilitychange",d)}),Object.assign(i.autoplay,{pause:h,run:o,start:l,stop:c})},function(e){let{swiper:t,extendParams:i,on:s}=e;i({thumbs:{swiper:null,multipleActiveThumbs:!0,autoScrollOffset:0,slideThumbActiveClass:"swiper-slide-thumb-active",thumbsContainerClass:"swiper-thumbs"}});let n=!1,r=!1;function a(){const e=t.thumbs.swiper;if(!e||e.destroyed)return;const i=e.clickedIndex,s=e.clickedSlide;if(s&&c(s).hasClass(t.params.thumbs.slideThumbActiveClass))return;if(null==i)return;let n;if(n=e.params.loop?parseInt(c(e.clickedSlide).attr("data-swiper-slide-index"),10):i,t.params.loop){let e=t.activeIndex;t.slides.eq(e).hasClass(t.params.slideDuplicateClass)&&(t.loopFix(),t._clientLeft=t.$wrapperEl[0].clientLeft,e=t.activeIndex);const i=t.slides.eq(e).prevAll(`[data-swiper-slide-index="${n}"]`).eq(0).index(),s=t.slides.eq(e).nextAll(`[data-swiper-slide-index="${n}"]`).eq(0).index();n=void 0===i?s:void 0===s?i:s-e<e-i?s:i}t.slideTo(n)}function o(){const{thumbs:e}=t.params;if(n)return!1;n=!0;const i=t.constructor;if(e.swiper instanceof i)t.thumbs.swiper=e.swiper,Object.assign(t.thumbs.swiper.originalParams,{watchSlidesProgress:!0,slideToClickedSlide:!1}),Object.assign(t.thumbs.swiper.params,{watchSlidesProgress:!0,slideToClickedSlide:!1});else if(f(e.swiper)){const s=Object.assign({},e.swiper);Object.assign(s,{watchSlidesProgress:!0,slideToClickedSlide:!1}),t.thumbs.swiper=new i(s),r=!0}return t.thumbs.swiper.$el.addClass(t.params.thumbs.thumbsContainerClass),t.thumbs.swiper.on("tap",a),!0}function l(e){const i=t.thumbs.swiper;if(!i||i.destroyed)return;const s="auto"===i.params.slidesPerView?i.slidesPerViewDynamic():i.params.slidesPerView;let n=1;const r=t.params.thumbs.slideThumbActiveClass;if(t.params.slidesPerView>1&&!t.params.centeredSlides&&(n=t.params.slidesPerView),t.params.thumbs.multipleActiveThumbs||(n=1),n=Math.floor(n),i.slides.removeClass(r),i.params.loop||i.params.virtual&&i.params.virtual.enabled)for(let e=0;e<n;e+=1)i.$wrapperEl.children(`[data-swiper-slide-index="${t.realIndex+e}"]`).addClass(r);else for(let e=0;e<n;e+=1)i.slides.eq(t.realIndex+e).addClass(r);const a=t.params.thumbs.autoScrollOffset,o=a&&!i.params.loop;if(t.realIndex!==i.realIndex||o){let n,r,l=i.activeIndex;if(i.params.loop){i.slides.eq(l).hasClass(i.params.slideDuplicateClass)&&(i.loopFix(),i._clientLeft=i.$wrapperEl[0].clientLeft,l=i.activeIndex);const e=i.slides.eq(l).prevAll(`[data-swiper-slide-index="${t.realIndex}"]`).eq(0).index(),s=i.slides.eq(l).nextAll(`[data-swiper-slide-index="${t.realIndex}"]`).eq(0).index();n=void 0===e?s:void 0===s?e:s-l==l-e?i.params.slidesPerGroup>1?s:l:s-l<l-e?s:e,r=t.activeIndex>t.previousIndex?"next":"prev"}else r=(n=t.realIndex)>t.previousIndex?"next":"prev";o&&(n+="next"===r?a:-1*a),i.visibleSlidesIndexes&&i.visibleSlidesIndexes.indexOf(n)<0&&(i.params.centeredSlides?n=n>l?n-Math.floor(s/2)+1:n+Math.floor(s/2)-1:n>l&&i.params.slidesPerGroup,i.slideTo(n,e?0:void 0))}}t.thumbs={swiper:null},s("beforeInit",()=>{const{thumbs:e}=t.params;e&&e.swiper&&(o(),l(!0))}),s("slideChange update resize observerUpdate",()=>{l()}),s("setTransition",(e,i)=>{const s=t.thumbs.swiper;s&&!s.destroyed&&s.setTransition(i)}),s("beforeDestroy",()=>{const e=t.thumbs.swiper;e&&!e.destroyed&&r&&e.destroy()}),Object.assign(t.thumbs,{init:o,update:l})},function(e){let{swiper:t,extendParams:i,emit:s,once:n}=e;i({freeMode:{enabled:!1,momentum:!0,momentumRatio:1,momentumBounce:!0,momentumBounceRatio:1,momentumVelocityRatio:1,sticky:!1,minimumVelocity:.02}}),Object.assign(t,{freeMode:{onTouchStart:function(){const e=t.getTranslate();t.setTranslate(e),t.setTransition(0),t.touchEventsData.velocities.length=0,t.freeMode.onTouchEnd({currentPos:t.rtl?t.translate:-t.translate})},onTouchMove:function(){const{touchEventsData:e,touches:i}=t;0===e.velocities.length&&e.velocities.push({position:i[t.isHorizontal()?"startX":"startY"],time:e.touchStartTime}),e.velocities.push({position:i[t.isHorizontal()?"currentX":"currentY"],time:d()})},onTouchEnd:function(e){let{currentPos:i}=e;const{params:r,$wrapperEl:a,rtlTranslate:o,snapGrid:l,touchEventsData:c}=t,h=d()-c.touchStartTime;if(i<-t.minTranslate())t.slideTo(t.activeIndex);else if(i>-t.maxTranslate())t.slides.length<l.length?t.slideTo(l.length-1):t.slideTo(t.slides.length-1);else{if(r.freeMode.momentum){if(c.velocities.length>1){const e=c.velocities.pop(),i=c.velocities.pop(),s=e.position-i.position,n=e.time-i.time;t.velocity=s/n,t.velocity/=2,Math.abs(t.velocity)<r.freeMode.minimumVelocity&&(t.velocity=0),(n>150||d()-e.time>300)&&(t.velocity=0)}else t.velocity=0;t.velocity*=r.freeMode.momentumVelocityRatio,c.velocities.length=0;let e=1e3*r.freeMode.momentumRatio;const i=t.velocity*e;let h=t.translate+i;o&&(h=-h);let u,p=!1;const f=20*Math.abs(t.velocity)*r.freeMode.momentumBounceRatio;let m;if(h<t.maxTranslate())r.freeMode.momentumBounce?(h+t.maxTranslate()<-f&&(h=t.maxTranslate()-f),u=t.maxTranslate(),p=!0,c.allowMomentumBounce=!0):h=t.maxTranslate(),r.loop&&r.centeredSlides&&(m=!0);else if(h>t.minTranslate())r.freeMode.momentumBounce?(h-t.minTranslate()>f&&(h=t.minTranslate()+f),u=t.minTranslate(),p=!0,c.allowMomentumBounce=!0):h=t.minTranslate(),r.loop&&r.centeredSlides&&(m=!0);else if(r.freeMode.sticky){let e;for(let t=0;t<l.length;t+=1)if(l[t]>-h){e=t;break}h=-(h=Math.abs(l[e]-h)<Math.abs(l[e-1]-h)||"next"===t.swipeDirection?l[e]:l[e-1])}if(m&&n("transitionEnd",()=>{t.loopFix()}),0!==t.velocity){if(e=o?Math.abs((-h-t.translate)/t.velocity):Math.abs((h-t.translate)/t.velocity),r.freeMode.sticky){const i=Math.abs((o?-h:h)-t.translate),s=t.slidesSizesGrid[t.activeIndex];e=i<s?r.speed:i<2*s?1.5*r.speed:2.5*r.speed}}else if(r.freeMode.sticky)return void t.slideToClosest();r.freeMode.momentumBounce&&p?(t.updateProgress(u),t.setTransition(e),t.setTranslate(h),t.transitionStart(!0,t.swipeDirection),t.animating=!0,a.transitionEnd(()=>{t&&!t.destroyed&&c.allowMomentumBounce&&(s("momentumBounce"),t.setTransition(r.speed),setTimeout(()=>{t.setTranslate(u),a.transitionEnd(()=>{t&&!t.destroyed&&t.transitionEnd()})},0))})):t.velocity?(s("_freeModeNoMomentumRelease"),t.updateProgress(h),t.setTransition(e),t.setTranslate(h),t.transitionStart(!0,t.swipeDirection),t.animating||(t.animating=!0,a.transitionEnd(()=>{t&&!t.destroyed&&t.transitionEnd()}))):t.updateProgress(h),t.updateActiveIndex(),t.updateSlidesClasses()}else{if(r.freeMode.sticky)return void t.slideToClosest();r.freeMode&&s("_freeModeNoMomentumRelease")}(!r.freeMode.momentum||h>=r.longSwipesMs)&&(t.updateProgress(),t.updateActiveIndex(),t.updateSlidesClasses())}}}})},function(e){let t,i,s,{swiper:n,extendParams:r}=e;r({grid:{rows:1,fill:"column"}}),n.grid={initSlides:e=>{const{slidesPerView:r}=n.params,{rows:a,fill:o}=n.params.grid;i=t/a,s=Math.floor(e/a),t=Math.floor(e/a)===e/a?e:Math.ceil(e/a)*a,"auto"!==r&&"row"===o&&(t=Math.max(t,r*a))},updateSlide:(e,r,a,o)=>{const{slidesPerGroup:l,spaceBetween:c}=n.params,{rows:h,fill:u}=n.params.grid;let d,p,f;if("row"===u&&l>1){const i=Math.floor(e/(l*h)),s=e-h*l*i,n=0===i?l:Math.min(Math.ceil((a-i*h*l)/h),l);d=(p=s-(f=Math.floor(s/n))*n+i*l)+f*t/h,r.css({"-webkit-order":d,order:d})}else"column"===u?(f=e-(p=Math.floor(e/h))*h,(p>s||p===s&&f===h-1)&&((f+=1)>=h&&(f=0,p+=1))):p=e-(f=Math.floor(e/i))*i;r.css(o("margin-top"),0!==f?c&&`${c}px`:"")},updateWrapperSize:(e,i,s)=>{const{spaceBetween:r,centeredSlides:a,roundLengths:o}=n.params,{rows:l}=n.params.grid;if(n.virtualSize=(e+r)*t,n.virtualSize=Math.ceil(n.virtualSize/l)-r,n.$wrapperEl.css({[s("width")]:`${n.virtualSize+r}px`}),a){i.splice(0,i.length);const e=[];for(let t=0;t<i.length;t+=1){let s=i[t];o&&(s=Math.floor(s)),i[t]<n.virtualSize+i[0]&&e.push(s)}i.push(...e)}}}},function(e){let{swiper:t}=e;Object.assign(t,{appendSlide:R.bind(t),prependSlide:j.bind(t),addSlide:z.bind(t),removeSlide:B.bind(t),removeAllSlides:V.bind(t)})},function(e){let{swiper:t,extendParams:i,on:s}=e;i({fadeEffect:{crossFade:!1,transformEl:null}}),H({effect:"fade",swiper:t,on:s,setTranslate:()=>{const{slides:e}=t,i=t.params.fadeEffect;for(let s=0;s<e.length;s+=1){const e=t.slides.eq(s);let n=-e[0].swiperSlideOffset;t.params.virtualTranslate||(n-=t.translate);let r=0;t.isHorizontal()||(r=n,n=0);const a=t.params.fadeEffect.crossFade?Math.max(1-Math.abs(e[0].progress),0):1+Math.min(Math.max(e[0].progress,-1),0);W(i,e).css({opacity:a}).transform(`translate3d(${n}px, ${r}px, 0px)`)}},setTransition:e=>{const{transformEl:i}=t.params.fadeEffect;(i?t.slides.find(i):t.slides).transition(e),Y({swiper:t,duration:e,transformEl:i,allSlides:!0})},overwriteParams:()=>({slidesPerView:1,slidesPerGroup:1,watchSlidesProgress:!0,spaceBetween:0,virtualTranslate:!t.params.cssMode})})},function(e){let{swiper:t,extendParams:i,on:s}=e;i({cubeEffect:{slideShadows:!0,shadow:!0,shadowOffset:20,shadowScale:.94}});const n=(e,t,i)=>{let s=i?e.find(".swiper-slide-shadow-left"):e.find(".swiper-slide-shadow-top"),n=i?e.find(".swiper-slide-shadow-right"):e.find(".swiper-slide-shadow-bottom");0===s.length&&(s=c(`<div class="swiper-slide-shadow-${i?"left":"top"}"></div>`),e.append(s)),0===n.length&&(n=c(`<div class="swiper-slide-shadow-${i?"right":"bottom"}"></div>`),e.append(n)),s.length&&(s[0].style.opacity=Math.max(-t,0)),n.length&&(n[0].style.opacity=Math.max(t,0))};H({effect:"cube",swiper:t,on:s,setTranslate:()=>{const{$el:e,$wrapperEl:i,slides:s,width:r,height:a,rtlTranslate:o,size:l,browser:h}=t,u=t.params.cubeEffect,d=t.isHorizontal(),p=t.virtual&&t.params.virtual.enabled;let f,m=0;u.shadow&&(d?(0===(f=i.find(".swiper-cube-shadow")).length&&(f=c('<div class="swiper-cube-shadow"></div>'),i.append(f)),f.css({height:`${r}px`})):0===(f=e.find(".swiper-cube-shadow")).length&&(f=c('<div class="swiper-cube-shadow"></div>'),e.append(f)));for(let e=0;e<s.length;e+=1){const t=s.eq(e);let i=e;p&&(i=parseInt(t.attr("data-swiper-slide-index"),10));let r=90*i,a=Math.floor(r/360);o&&(r=-r,a=Math.floor(-r/360));const c=Math.max(Math.min(t[0].progress,1),-1);let h=0,f=0,g=0;i%4==0?(h=4*-a*l,g=0):(i-1)%4==0?(h=0,g=4*-a*l):(i-2)%4==0?(h=l+4*a*l,g=l):(i-3)%4==0&&(h=-l,g=3*l+4*l*a),o&&(h=-h),d||(f=h,h=0);const v=`rotateX(${d?0:-r}deg) rotateY(${d?r:0}deg) translate3d(${h}px, ${f}px, ${g}px)`;c<=1&&c>-1&&(m=90*i+90*c,o&&(m=90*-i-90*c)),t.transform(v),u.slideShadows&&n(t,c,d)}if(i.css({"-webkit-transform-origin":`50% 50% -${l/2}px`,"transform-origin":`50% 50% -${l/2}px`}),u.shadow)if(d)f.transform(`translate3d(0px, ${r/2+u.shadowOffset}px, ${-r/2}px) rotateX(90deg) rotateZ(0deg) scale(${u.shadowScale})`);else{const e=Math.abs(m)-90*Math.floor(Math.abs(m)/90),t=1.5-(Math.sin(2*e*Math.PI/360)/2+Math.cos(2*e*Math.PI/360)/2),i=u.shadowScale,s=u.shadowScale/t,n=u.shadowOffset;f.transform(`scale3d(${i}, 1, ${s}) translate3d(0px, ${a/2+n}px, ${-a/2/s}px) rotateX(-90deg)`)}const g=h.isSafari||h.isWebView?-l/2:0;i.transform(`translate3d(0px,0,${g}px) rotateX(${t.isHorizontal()?0:m}deg) rotateY(${t.isHorizontal()?-m:0}deg)`),i[0].style.setProperty("--swiper-cube-translate-z",`${g}px`)},setTransition:e=>{const{$el:i,slides:s}=t;s.transition(e).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(e),t.params.cubeEffect.shadow&&!t.isHorizontal()&&i.find(".swiper-cube-shadow").transition(e)},recreateShadows:()=>{const e=t.isHorizontal();t.slides.each(t=>{const i=Math.max(Math.min(t.progress,1),-1);n(c(t),i,e)})},getEffectParams:()=>t.params.cubeEffect,perspective:()=>!0,overwriteParams:()=>({slidesPerView:1,slidesPerGroup:1,watchSlidesProgress:!0,resistanceRatio:0,spaceBetween:0,centeredSlides:!1,virtualTranslate:!0})})},function(e){let{swiper:t,extendParams:i,on:s}=e;i({flipEffect:{slideShadows:!0,limitRotation:!0,transformEl:null}});const n=(e,i,s)=>{let n=t.isHorizontal()?e.find(".swiper-slide-shadow-left"):e.find(".swiper-slide-shadow-top"),r=t.isHorizontal()?e.find(".swiper-slide-shadow-right"):e.find(".swiper-slide-shadow-bottom");0===n.length&&(n=q(s,e,t.isHorizontal()?"left":"top")),0===r.length&&(r=q(s,e,t.isHorizontal()?"right":"bottom")),n.length&&(n[0].style.opacity=Math.max(-i,0)),r.length&&(r[0].style.opacity=Math.max(i,0))};H({effect:"flip",swiper:t,on:s,setTranslate:()=>{const{slides:e,rtlTranslate:i}=t,s=t.params.flipEffect;for(let r=0;r<e.length;r+=1){const a=e.eq(r);let o=a[0].progress;t.params.flipEffect.limitRotation&&(o=Math.max(Math.min(a[0].progress,1),-1));const l=a[0].swiperSlideOffset;let c=-180*o,h=0,u=t.params.cssMode?-l-t.translate:-l,d=0;t.isHorizontal()?i&&(c=-c):(d=u,u=0,h=-c,c=0),a[0].style.zIndex=-Math.abs(Math.round(o))+e.length,s.slideShadows&&n(a,o,s);const p=`translate3d(${u}px, ${d}px, 0px) rotateX(${h}deg) rotateY(${c}deg)`;W(s,a).transform(p)}},setTransition:e=>{const{transformEl:i}=t.params.flipEffect;(i?t.slides.find(i):t.slides).transition(e).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(e),Y({swiper:t,duration:e,transformEl:i})},recreateShadows:()=>{const e=t.params.flipEffect;t.slides.each(i=>{const s=c(i);let r=s[0].progress;t.params.flipEffect.limitRotation&&(r=Math.max(Math.min(i.progress,1),-1)),n(s,r,e)})},getEffectParams:()=>t.params.flipEffect,perspective:()=>!0,overwriteParams:()=>({slidesPerView:1,slidesPerGroup:1,watchSlidesProgress:!0,spaceBetween:0,virtualTranslate:!t.params.cssMode})})},function(e){let{swiper:t,extendParams:i,on:s}=e;i({coverflowEffect:{rotate:50,stretch:0,depth:100,scale:1,modifier:1,slideShadows:!0,transformEl:null}}),H({effect:"coverflow",swiper:t,on:s,setTranslate:()=>{const{width:e,height:i,slides:s,slidesSizesGrid:n}=t,r=t.params.coverflowEffect,a=t.isHorizontal(),o=t.translate,l=a?e/2-o:i/2-o,c=a?r.rotate:-r.rotate,h=r.depth;for(let e=0,t=s.length;e<t;e+=1){const t=s.eq(e),i=n[e],o=(l-t[0].swiperSlideOffset-i/2)/i,u="function"==typeof r.modifier?r.modifier(o):o*r.modifier;let d=a?c*u:0,p=a?0:c*u,f=-h*Math.abs(u),m=r.stretch;"string"==typeof m&&-1!==m.indexOf("%")&&(m=parseFloat(r.stretch)/100*i);let g=a?0:m*u,v=a?m*u:0,y=1-(1-r.scale)*Math.abs(u);Math.abs(v)<.001&&(v=0),Math.abs(g)<.001&&(g=0),Math.abs(f)<.001&&(f=0),Math.abs(d)<.001&&(d=0),Math.abs(p)<.001&&(p=0),Math.abs(y)<.001&&(y=0);const b=`translate3d(${v}px,${g}px,${f}px)  rotateX(${p}deg) rotateY(${d}deg) scale(${y})`;if(W(r,t).transform(b),t[0].style.zIndex=1-Math.abs(Math.round(u)),r.slideShadows){let e=a?t.find(".swiper-slide-shadow-left"):t.find(".swiper-slide-shadow-top"),i=a?t.find(".swiper-slide-shadow-right"):t.find(".swiper-slide-shadow-bottom");0===e.length&&(e=q(r,t,a?"left":"top")),0===i.length&&(i=q(r,t,a?"right":"bottom")),e.length&&(e[0].style.opacity=u>0?u:0),i.length&&(i[0].style.opacity=-u>0?-u:0)}}},setTransition:e=>{const{transformEl:i}=t.params.coverflowEffect;(i?t.slides.find(i):t.slides).transition(e).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(e)},perspective:()=>!0,overwriteParams:()=>({watchSlidesProgress:!0})})},function(e){let{swiper:t,extendParams:i,on:s}=e;i({creativeEffect:{transformEl:null,limitProgress:1,shadowPerProgress:!1,progressMultiplier:1,perspective:!0,prev:{translate:[0,0,0],rotate:[0,0,0],opacity:1,scale:1},next:{translate:[0,0,0],rotate:[0,0,0],opacity:1,scale:1}}});const n=e=>"string"==typeof e?e:`${e}px`;H({effect:"creative",swiper:t,on:s,setTranslate:()=>{const{slides:e,$wrapperEl:i,slidesSizesGrid:s}=t,r=t.params.creativeEffect,{progressMultiplier:a}=r,o=t.params.centeredSlides;if(o){const e=s[0]/2-t.params.slidesOffsetBefore||0;i.transform(`translateX(calc(50% - ${e}px))`)}for(let i=0;i<e.length;i+=1){const s=e.eq(i),l=s[0].progress,c=Math.min(Math.max(s[0].progress,-r.limitProgress),r.limitProgress);let h=c;o||(h=Math.min(Math.max(s[0].originalProgress,-r.limitProgress),r.limitProgress));const u=s[0].swiperSlideOffset,d=[t.params.cssMode?-u-t.translate:-u,0,0],p=[0,0,0];let f=!1;t.isHorizontal()||(d[1]=d[0],d[0]=0);let m={translate:[0,0,0],rotate:[0,0,0],scale:1,opacity:1};c<0?(m=r.next,f=!0):c>0&&(m=r.prev,f=!0),d.forEach((e,t)=>{d[t]=`calc(${e}px + (${n(m.translate[t])} * ${Math.abs(c*a)}))`}),p.forEach((e,t)=>{p[t]=m.rotate[t]*Math.abs(c*a)}),s[0].style.zIndex=-Math.abs(Math.round(l))+e.length;const g=d.join(", "),v=`rotateX(${p[0]}deg) rotateY(${p[1]}deg) rotateZ(${p[2]}deg)`,y=h<0?`scale(${1+(1-m.scale)*h*a})`:`scale(${1-(1-m.scale)*h*a})`,b=h<0?1+(1-m.opacity)*h*a:1-(1-m.opacity)*h*a,w=`translate3d(${g}) ${v} ${y}`;if(f&&m.shadow||!f){let e=s.children(".swiper-slide-shadow");if(0===e.length&&m.shadow&&(e=q(r,s)),e.length){const t=r.shadowPerProgress?c*(1/r.limitProgress):c;e[0].style.opacity=Math.min(Math.max(Math.abs(t),0),1)}}const x=W(r,s);x.transform(w).css({opacity:b}),m.origin&&x.css("transform-origin",m.origin)}},setTransition:e=>{const{transformEl:i}=t.params.creativeEffect;(i?t.slides.find(i):t.slides).transition(e).find(".swiper-slide-shadow").transition(e),Y({swiper:t,duration:e,transformEl:i,allSlides:!0})},perspective:()=>t.params.creativeEffect.perspective,overwriteParams:()=>({watchSlidesProgress:!0,virtualTranslate:!t.params.cssMode})})},function(e){let{swiper:t,extendParams:i,on:s}=e;i({cardsEffect:{slideShadows:!0,transformEl:null,rotate:!0}}),H({effect:"cards",swiper:t,on:s,setTranslate:()=>{const{slides:e,activeIndex:i}=t,s=t.params.cardsEffect,{startTranslate:n,isTouched:r}=t.touchEventsData,a=t.translate;for(let o=0;o<e.length;o+=1){const l=e.eq(o),c=l[0].progress,h=Math.min(Math.max(c,-4),4);let u=l[0].swiperSlideOffset;t.params.centeredSlides&&!t.params.cssMode&&t.$wrapperEl.transform(`translateX(${t.minTranslate()}px)`),t.params.centeredSlides&&t.params.cssMode&&(u-=e[0].swiperSlideOffset);let d=t.params.cssMode?-u-t.translate:-u,p=0;const f=-100*Math.abs(h);let m=1,g=-2*h,v=8-.75*Math.abs(h);const y=t.virtual&&t.params.virtual.enabled?t.virtual.from+o:o,b=(y===i||y===i-1)&&h>0&&h<1&&(r||t.params.cssMode)&&a<n,w=(y===i||y===i+1)&&h<0&&h>-1&&(r||t.params.cssMode)&&a>n;if(b||w){const e=(1-Math.abs((Math.abs(h)-.5)/.5))**.5;g+=-28*h*e,m+=-.5*e,v+=96*e,p=-25*e*Math.abs(h)+"%"}if(d=h<0?`calc(${d}px + (${v*Math.abs(h)}%))`:h>0?`calc(${d}px + (-${v*Math.abs(h)}%))`:`${d}px`,!t.isHorizontal()){const e=p;p=d,d=e}const x=h<0?""+(1+(1-m)*h):""+(1-(1-m)*h),_=`\n        translate3d(${d}, ${p}, ${f}px)\n        rotateZ(${s.rotate?g:0}deg)\n        scale(${x})\n      `;if(s.slideShadows){let e=l.find(".swiper-slide-shadow");0===e.length&&(e=q(s,l)),e.length&&(e[0].style.opacity=Math.min(Math.max((Math.abs(h)-.5)/.5,0),1))}l[0].style.zIndex=-Math.abs(Math.round(c))+e.length,W(s,l).transform(_)}},setTransition:e=>{const{transformEl:i}=t.params.cardsEffect;(i?t.slides.find(i):t.slides).transition(e).find(".swiper-slide-shadow").transition(e),Y({swiper:t,duration:e,transformEl:i})},perspective:()=>!0,overwriteParams:()=>({watchSlidesProgress:!0,virtualTranslate:!t.params.cssMode})})}];return $.use(U),$}),"object"==typeof navigator&&function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define("Plyr",t):(e="undefined"!=typeof globalThis?globalThis:e||self).Plyr=t()}(this,function(){"use strict";!function(){if("undefined"!=typeof window)try{var e=new window.CustomEvent("test",{cancelable:!0});if(e.preventDefault(),!0!==e.defaultPrevented)throw new Error("Could not prevent default")}catch(e){var t=function(e,t){var i,s;return(t=t||{}).bubbles=!!t.bubbles,t.cancelable=!!t.cancelable,(i=document.createEvent("CustomEvent")).initCustomEvent(e,t.bubbles,t.cancelable,t.detail),s=i.preventDefault,i.preventDefault=function(){s.call(this);try{Object.defineProperty(this,"defaultPrevented",{get:function(){return!0}})}catch(e){this.defaultPrevented=!0}},i};t.prototype=window.Event.prototype,window.CustomEvent=t}}();var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function t(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function i(e,t){for(var i=0;i<t.length;i++){var s=t[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}function s(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function n(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),i.push.apply(i,s)}return i}function r(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?n(Object(i),!0).forEach(function(t){s(e,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):n(Object(i)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))})}return e}!function(e){var t=function(){try{return!!Symbol.iterator}catch(e){return!1}}(),i=function(e){var i={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return t&&(i[Symbol.iterator]=function(){return i}),i},s=function(e){return encodeURIComponent(e).replace(/%20/g,"+")},n=function(e){return decodeURIComponent(String(e).replace(/\+/g," "))};(function(){try{var t=e.URLSearchParams;return"a=1"===new t("?a=1").toString()&&"function"==typeof t.prototype.set&&"function"==typeof t.prototype.entries}catch(e){return!1}})()||function(){var n=function(e){Object.defineProperty(this,"_entries",{writable:!0,value:{}});var t=typeof e;if("undefined"===t);else if("string"===t)""!==e&&this._fromString(e);else if(e instanceof n){var i=this;e.forEach(function(e,t){i.append(t,e)})}else{if(null===e||"object"!==t)throw new TypeError("Unsupported input's type for URLSearchParams");if("[object Array]"===Object.prototype.toString.call(e))for(var s=0;s<e.length;s++){var r=e[s];if("[object Array]"!==Object.prototype.toString.call(r)&&2===r.length)throw new TypeError("Expected [string, any] as entry at index "+s+" of URLSearchParams's input");this.append(r[0],r[1])}else for(var a in e)e.hasOwnProperty(a)&&this.append(a,e[a])}},r=n.prototype;r.append=function(e,t){e in this._entries?this._entries[e].push(String(t)):this._entries[e]=[String(t)]},r.delete=function(e){delete this._entries[e]},r.get=function(e){return e in this._entries?this._entries[e][0]:null},r.getAll=function(e){return e in this._entries?this._entries[e].slice(0):[]},r.has=function(e){return e in this._entries},r.set=function(e,t){this._entries[e]=[String(t)]},r.forEach=function(e,t){var i;for(var s in this._entries)if(this._entries.hasOwnProperty(s)){i=this._entries[s];for(var n=0;n<i.length;n++)e.call(t,i[n],s,this)}},r.keys=function(){var e=[];return this.forEach(function(t,i){e.push(i)}),i(e)},r.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),i(e)},r.entries=function(){var e=[];return this.forEach(function(t,i){e.push([i,t])}),i(e)},t&&(r[Symbol.iterator]=r.entries),r.toString=function(){var e=[];return this.forEach(function(t,i){e.push(s(i)+"="+s(t))}),e.join("&")},e.URLSearchParams=n}();var r=e.URLSearchParams.prototype;"function"!=typeof r.sort&&(r.sort=function(){var e=this,t=[];this.forEach(function(i,s){t.push([s,i]),e._entries||e.delete(s)}),t.sort(function(e,t){return e[0]<t[0]?-1:e[0]>t[0]?1:0}),e._entries&&(e._entries={});for(var i=0;i<t.length;i++)this.append(t[i][0],t[i][1])}),"function"!=typeof r._fromString&&Object.defineProperty(r,"_fromString",{enumerable:!1,configurable:!1,writable:!1,value:function(e){if(this._entries)this._entries={};else{var t=[];this.forEach(function(e,i){t.push(i)});for(var i=0;i<t.length;i++)this.delete(t[i])}var s,r=(e=e.replace(/^\?/,"")).split("&");for(i=0;i<r.length;i++)s=r[i].split("="),this.append(n(s[0]),s.length>1?n(s[1]):"")}})}(void 0!==e?e:"undefined"!=typeof window?window:"undefined"!=typeof self?self:e),function(e){var t,i,s;if(function(){try{var t=new e.URL("b","http://a");return t.pathname="c d","http://a/c%20d"===t.href&&t.searchParams}catch(e){return!1}}()||(t=e.URL,s=(i=function(t,i){"string"!=typeof t&&(t=String(t)),i&&"string"!=typeof i&&(i=String(i));var s,n=document;if(i&&(void 0===e.location||i!==e.location.href)){i=i.toLowerCase(),(s=(n=document.implementation.createHTMLDocument("")).createElement("base")).href=i,n.head.appendChild(s);try{if(0!==s.href.indexOf(i))throw new Error(s.href)}catch(e){throw new Error("URL unable to set base "+i+" due to "+e)}}var r=n.createElement("a");r.href=t,s&&(n.body.appendChild(r),r.href=r.href);var a=n.createElement("input");if(a.type="url",a.value=t,":"===r.protocol||!/:/.test(r.href)||!a.checkValidity()&&!i)throw new TypeError("Invalid URL");Object.defineProperty(this,"_anchorElement",{value:r});var o=new e.URLSearchParams(this.search),l=!0,c=!0,h=this;["append","delete","set"].forEach(function(e){var t=o[e];o[e]=function(){t.apply(o,arguments),l&&(c=!1,h.search=o.toString(),c=!0)}}),Object.defineProperty(this,"searchParams",{value:o,enumerable:!0});var u=void 0;Object.defineProperty(this,"_updateSearchParams",{enumerable:!1,configurable:!1,writable:!1,value:function(){this.search!==u&&(u=this.search,c&&(l=!1,this.searchParams._fromString(this.search),l=!0))}})}).prototype,["hash","host","hostname","port","protocol"].forEach(function(e){!function(e){Object.defineProperty(s,e,{get:function(){return this._anchorElement[e]},set:function(t){this._anchorElement[e]=t},enumerable:!0})}(e)}),Object.defineProperty(s,"search",{get:function(){return this._anchorElement.search},set:function(e){this._anchorElement.search=e,this._updateSearchParams()},enumerable:!0}),Object.defineProperties(s,{toString:{get:function(){var e=this;return function(){return e.href}}},href:{get:function(){return this._anchorElement.href.replace(/\?$/,"")},set:function(e){this._anchorElement.href=e,this._updateSearchParams()},enumerable:!0},pathname:{get:function(){return this._anchorElement.pathname.replace(/(^\/?)/,"/")},set:function(e){this._anchorElement.pathname=e},enumerable:!0},origin:{get:function(){var e={"http:":80,"https:":443,"ftp:":21}[this._anchorElement.protocol],t=this._anchorElement.port!=e&&""!==this._anchorElement.port;return this._anchorElement.protocol+"//"+this._anchorElement.hostname+(t?":"+this._anchorElement.port:"")},enumerable:!0},password:{get:function(){return""},set:function(e){},enumerable:!0},username:{get:function(){return""},set:function(e){},enumerable:!0}}),i.createObjectURL=function(e){return t.createObjectURL.apply(t,arguments)},i.revokeObjectURL=function(e){return t.revokeObjectURL.apply(t,arguments)},e.URL=i),void 0!==e.location&&!("origin"in e.location)){var n=function(){return e.location.protocol+"//"+e.location.hostname+(e.location.port?":"+e.location.port:"")};try{Object.defineProperty(e.location,"origin",{get:n,enumerable:!0})}catch(t){setInterval(function(){e.location.origin=n()},100)}}}(void 0!==e?e:"undefined"!=typeof window?window:"undefined"!=typeof self?self:e);var a={addCSS:!0,thumbWidth:15,watch:!0};var o=function(e){return null!=e?e.constructor:null},l=function(e,t){return!!(e&&t&&e instanceof t)},c=function(e){return null==e},h=function(e){return o(e)===Object},u=function(e){return o(e)===String},d=function(e){return Array.isArray(e)},p=function(e){return l(e,NodeList)},f={nullOrUndefined:c,object:h,number:function(e){return o(e)===Number&&!Number.isNaN(e)},string:u,boolean:function(e){return o(e)===Boolean},function:function(e){return o(e)===Function},array:d,nodeList:p,element:function(e){return l(e,Element)},event:function(e){return l(e,Event)},empty:function(e){return c(e)||(u(e)||d(e)||p(e))&&!e.length||h(e)&&!Object.keys(e).length}};function m(e,t){if(1>t){var i=function(e){var t="".concat(e).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return t?Math.max(0,(t[1]?t[1].length:0)-(t[2]?+t[2]:0)):0}(t);return parseFloat(e.toFixed(i))}return Math.round(e/t)*t}var g=function(){function e(t,i){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),f.element(t)?this.element=t:f.string(t)&&(this.element=document.querySelector(t)),f.element(this.element)&&f.empty(this.element.rangeTouch)&&(this.config=r({},a,{},i),this.init())}return function(e,t,s){t&&i(e.prototype,t),s&&i(e,s)}(e,[{key:"init",value:function(){e.enabled&&(this.config.addCSS&&(this.element.style.userSelect="none",this.element.style.webKitUserSelect="none",this.element.style.touchAction="manipulation"),this.listeners(!0),this.element.rangeTouch=this)}},{key:"destroy",value:function(){e.enabled&&(this.config.addCSS&&(this.element.style.userSelect="",this.element.style.webKitUserSelect="",this.element.style.touchAction=""),this.listeners(!1),this.element.rangeTouch=null)}},{key:"listeners",value:function(e){var t=this,i=e?"addEventListener":"removeEventListener";["touchstart","touchmove","touchend"].forEach(function(e){t.element[i](e,function(e){return t.set(e)},!1)})}},{key:"get",value:function(t){if(!e.enabled||!f.event(t))return null;var i,s=t.target,n=t.changedTouches[0],r=parseFloat(s.getAttribute("min"))||0,a=parseFloat(s.getAttribute("max"))||100,o=parseFloat(s.getAttribute("step"))||1,l=s.getBoundingClientRect(),c=100/l.width*(this.config.thumbWidth/2)/100;return 0>(i=100/l.width*(n.clientX-l.left))?i=0:100<i&&(i=100),50>i?i-=(100-2*i)*c:50<i&&(i+=2*(i-50)*c),r+m(i/100*(a-r),o)}},{key:"set",value:function(t){e.enabled&&f.event(t)&&!t.target.disabled&&(t.preventDefault(),t.target.value=this.get(t),function(e,t){if(e&&t){var i=new Event(t,{bubbles:!0});e.dispatchEvent(i)}}(t.target,"touchend"===t.type?"change":"input"))}}],[{key:"setup",value:function(t){var i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},s=null;if(f.empty(t)||f.string(t)?s=Array.from(document.querySelectorAll(f.string(t)?t:'input[type="range"]')):f.element(t)?s=[t]:f.nodeList(t)?s=Array.from(t):f.array(t)&&(s=t.filter(f.element)),f.empty(s))return null;var n=r({},a,{},i);f.string(t)&&n.watch&&new MutationObserver(function(i){Array.from(i).forEach(function(i){Array.from(i.addedNodes).forEach(function(i){f.element(i)&&function(e,t){return function(){return Array.from(document.querySelectorAll(t)).includes(this)}.call(e,t)}(i,t)&&new e(i,n)})})}).observe(document.body,{childList:!0,subtree:!0});return s.map(function(t){return new e(t,i)})}},{key:"enabled",get:function(){return"ontouchstart"in document.documentElement}}]),e}();const v=e=>null!=e?e.constructor:null,y=(e,t)=>Boolean(e&&t&&e instanceof t),b=e=>null==e,w=e=>v(e)===Object,x=e=>v(e)===String,_=e=>v(e)===Function,k=e=>Array.isArray(e),E=e=>y(e,NodeList),S=e=>b(e)||(x(e)||k(e)||E(e))&&!e.length||w(e)&&!Object.keys(e).length;var C={nullOrUndefined:b,object:w,number:e=>v(e)===Number&&!Number.isNaN(e),string:x,boolean:e=>v(e)===Boolean,function:_,array:k,weakMap:e=>y(e,WeakMap),nodeList:E,element:e=>null!==e&&"object"==typeof e&&1===e.nodeType&&"object"==typeof e.style&&"object"==typeof e.ownerDocument,textNode:e=>v(e)===Text,event:e=>y(e,Event),keyboardEvent:e=>y(e,KeyboardEvent),cue:e=>y(e,window.TextTrackCue)||y(e,window.VTTCue),track:e=>y(e,TextTrack)||!b(e)&&x(e.kind),promise:e=>y(e,Promise)&&_(e.then),url:e=>{if(y(e,window.URL))return!0;if(!x(e))return!1;let t=e;e.startsWith("http://")&&e.startsWith("https://")||(t=`http://${e}`);try{return!S(new URL(t).hostname)}catch(e){return!1}},empty:S};const T=(()=>{const e=document.createElement("span"),t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"},i=Object.keys(t).find(t=>void 0!==e.style[t]);return!!C.string(i)&&t[i]})();function M(e,t){setTimeout(()=>{try{e.hidden=!0,e.offsetHeight,e.hidden=!1}catch(e){}},t)}const P={isIE:Boolean(window.document.documentMode),isEdge:window.navigator.userAgent.includes("Edge"),isWebkit:"WebkitAppearance"in document.documentElement.style&&!/Edge/.test(navigator.userAgent),isIPhone:/(iPhone|iPod)/gi.test(navigator.platform),isIos:"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1||/(iPad|iPhone|iPod)/gi.test(navigator.platform)};function A(e,t){return t.split(".").reduce((e,t)=>e&&e[t],e)}function O(e={},...t){if(!t.length)return e;const i=t.shift();return C.object(i)?(Object.keys(i).forEach(t=>{C.object(i[t])?(Object.keys(e).includes(t)||Object.assign(e,{[t]:{}}),O(e[t],i[t])):Object.assign(e,{[t]:i[t]})}),O(e,...t)):e}function D(e,t){const i=e.length?e:[e];Array.from(i).reverse().forEach((e,i)=>{const s=i>0?t.cloneNode(!0):t,n=e.parentNode,r=e.nextSibling;s.appendChild(e),r?n.insertBefore(s,r):n.appendChild(s)})}function L(e,t){C.element(e)&&!C.empty(t)&&Object.entries(t).filter(([,e])=>!C.nullOrUndefined(e)).forEach(([t,i])=>e.setAttribute(t,i))}function I(e,t,i){const s=document.createElement(e);return C.object(t)&&L(s,t),C.string(i)&&(s.innerText=i),s}function $(e,t,i,s){C.element(t)&&t.appendChild(I(e,i,s))}function F(e){C.nodeList(e)||C.array(e)?Array.from(e).forEach(F):C.element(e)&&C.element(e.parentNode)&&e.parentNode.removeChild(e)}function N(e){if(!C.element(e))return;let{length:t}=e.childNodes;for(;t>0;)e.removeChild(e.lastChild),t-=1}function R(e,t){return C.element(t)&&C.element(t.parentNode)&&C.element(e)?(t.parentNode.replaceChild(e,t),e):null}function j(e,t){if(!C.string(e)||C.empty(e))return{};const i={},s=O({},t);return e.split(",").forEach(e=>{const t=e.trim(),n=t.replace(".",""),r=t.replace(/[[\]]/g,"").split("="),[a]=r,o=r.length>1?r[1].replace(/["']/g,""):"";switch(t.charAt(0)){case".":C.string(s.class)?i.class=`${s.class} ${n}`:i.class=n;break;case"#":i.id=t.replace("#","");break;case"[":i[a]=o}}),O(s,i)}function z(e,t){if(!C.element(e))return;let i=t;C.boolean(i)||(i=!e.hidden),e.hidden=i}function B(e,t,i){if(C.nodeList(e))return Array.from(e).map(e=>B(e,t,i));if(C.element(e)){let s="toggle";return void 0!==i&&(s=i?"add":"remove"),e.classList[s](t),e.classList.contains(t)}return!1}function V(e,t){return C.element(e)&&e.classList.contains(t)}function H(e,t){const{prototype:i}=Element;return(i.matches||i.webkitMatchesSelector||i.mozMatchesSelector||i.msMatchesSelector||function(){return Array.from(document.querySelectorAll(t)).includes(this)}).call(e,t)}function W(e){return this.elements.container.querySelectorAll(e)}function Y(e){return this.elements.container.querySelector(e)}function q(e=null,t=!1){C.element(e)&&(e.focus({preventScroll:!0}),t&&B(e,this.config.classNames.tabFocus))}const U={"audio/ogg":"vorbis","audio/wav":"1","video/webm":"vp8, vorbis","video/mp4":"avc1.42E01E, mp4a.40.2","video/ogg":"theora"},G={audio:"canPlayType"in document.createElement("audio"),video:"canPlayType"in document.createElement("video"),check(e,t,i){const s=P.isIPhone&&i&&G.playsinline,n=G[e]||"html5"!==t;return{api:n,ui:n&&G.rangeInput&&("video"!==e||!P.isIPhone||s)}},pip:(()=>!P.isIPhone&&(!!C.function(I("video").webkitSetPresentationMode)||!(!document.pictureInPictureEnabled||I("video").disablePictureInPicture)))(),airplay:C.function(window.WebKitPlaybackTargetAvailabilityEvent),playsinline:"playsInline"in document.createElement("video"),mime(e){if(C.empty(e))return!1;const[t]=e.split("/");let i=e;if(!this.isHTML5||t!==this.type)return!1;Object.keys(U).includes(i)&&(i+=`; codecs="${U[e]}"`);try{return Boolean(i&&this.media.canPlayType(i).replace(/no/,""))}catch(e){return!1}},textTracks:"textTracks"in document.createElement("video"),rangeInput:(()=>{const e=document.createElement("input");return e.type="range","range"===e.type})(),touch:"ontouchstart"in document.documentElement,transitions:!1!==T,reducedMotion:"matchMedia"in window&&window.matchMedia("(prefers-reduced-motion)").matches},X=(()=>{let e=!1;try{const t=Object.defineProperty({},"passive",{get:()=>(e=!0,null)});window.addEventListener("test",null,t),window.removeEventListener("test",null,t)}catch(e){}return e})();function K(e,t,i,s=!1,n=!0,r=!1){if(!e||!("addEventListener"in e)||C.empty(t)||!C.function(i))return;const a=t.split(" ");let o=r;X&&(o={passive:n,capture:r}),a.forEach(t=>{this&&this.eventListeners&&s&&this.eventListeners.push({element:e,type:t,callback:i,options:o}),e[s?"addEventListener":"removeEventListener"](t,i,o)})}function Z(e,t="",i,s=!0,n=!1){K.call(this,e,t,i,!0,s,n)}function J(e,t="",i,s=!0,n=!1){K.call(this,e,t,i,!1,s,n)}function Q(e,t="",i,s=!0,n=!1){const r=(...a)=>{J(e,t,r,s,n),i.apply(this,a)};K.call(this,e,t,r,!0,s,n)}function ee(e,t="",i=!1,s={}){if(!C.element(e)||C.empty(t))return;const n=new CustomEvent(t,{bubbles:i,detail:{...s,plyr:this}});e.dispatchEvent(n)}function te(e){C.promise(e)&&e.then(null,()=>{})}function ie(e){return C.array(e)?e.filter((t,i)=>e.indexOf(t)===i):e}function se(e,t){return C.array(e)&&e.length?e.reduce((e,i)=>Math.abs(i-t)<Math.abs(e-t)?i:e):null}function ne(e){return!(!window||!window.CSS)&&window.CSS.supports(e)}const re=[[1,1],[4,3],[3,4],[5,4],[4,5],[3,2],[2,3],[16,10],[10,16],[16,9],[9,16],[21,9],[9,21],[32,9],[9,32]].reduce((e,[t,i])=>({...e,[t/i]:[t,i]}),{});function ae(e){if(!(C.array(e)||C.string(e)&&e.includes(":")))return!1;return(C.array(e)?e:e.split(":")).map(Number).every(C.number)}function oe(e){if(!C.array(e)||!e.every(C.number))return null;const[t,i]=e,s=(e,t)=>0===t?e:s(t,e%t),n=s(t,i);return[t/n,i/n]}function le(e){const t=e=>ae(e)?e.split(":").map(Number):null;let i=t(e);if(null===i&&(i=t(this.config.ratio)),null===i&&!C.empty(this.embed)&&C.array(this.embed.ratio)&&({ratio:i}=this.embed),null===i&&this.isHTML5){const{videoWidth:e,videoHeight:t}=this.media;i=[e,t]}return oe(i)}function ce(e){if(!this.isVideo)return{};const{wrapper:t}=this.elements,i=le.call(this,e);if(!C.array(i))return{};const[s,n]=oe(i),r=100/s*n;if(ne(`aspect-ratio: ${s}/${n}`)?t.style.aspectRatio=`${s}/${n}`:t.style.paddingBottom=`${r}%`,this.isVimeo&&!this.config.vimeo.premium&&this.supported.ui){const e=100/this.media.offsetWidth*parseInt(window.getComputedStyle(this.media).paddingBottom,10),i=(e-r)/(e/50);this.fullscreen.active?t.style.paddingBottom=null:this.media.style.transform=`translateY(-${i}%)`}else this.isHTML5&&t.classList.add(this.config.classNames.videoFixedRatio);return{padding:r,ratio:i}}function he(e,t,i=.05){const s=e/t,n=se(Object.keys(re),s);return Math.abs(n-s)<=i?re[n]:[e,t]}const ue={getSources(){if(!this.isHTML5)return[];return Array.from(this.media.querySelectorAll("source")).filter(e=>{const t=e.getAttribute("type");return!!C.empty(t)||G.mime.call(this,t)})},getQualityOptions(){return this.config.quality.forced?this.config.quality.options:ue.getSources.call(this).map(e=>Number(e.getAttribute("size"))).filter(Boolean)},setup(){if(!this.isHTML5)return;const e=this;e.options.speed=e.config.speed.options,C.empty(this.config.ratio)||ce.call(e),Object.defineProperty(e.media,"quality",{get(){const t=ue.getSources.call(e).find(t=>t.getAttribute("src")===e.source);return t&&Number(t.getAttribute("size"))},set(t){if(e.quality!==t){if(e.config.quality.forced&&C.function(e.config.quality.onChange))e.config.quality.onChange(t);else{const i=ue.getSources.call(e).find(e=>Number(e.getAttribute("size"))===t);if(!i)return;const{currentTime:s,paused:n,preload:r,readyState:a,playbackRate:o}=e.media;e.media.src=i.getAttribute("src"),("none"!==r||a)&&(e.once("loadedmetadata",()=>{e.speed=o,e.currentTime=s,n||te(e.play())}),e.media.load())}ee.call(e,e.media,"qualitychange",!1,{quality:t})}}})},cancelRequests(){this.isHTML5&&(F(ue.getSources.call(this)),this.media.setAttribute("src",this.config.blankVideo),this.media.load(),this.debug.log("Cancelled network requests"))}};function de(e,...t){return C.empty(e)?e:e.toString().replace(/{(\d+)}/g,(e,i)=>t[i].toString())}const pe=(e="",t="",i="")=>e.replace(new RegExp(t.toString().replace(/([.*+?^=!:${}()|[\]/\\])/g,"\\$1"),"g"),i.toString()),fe=(e="")=>e.toString().replace(/\w\S*/g,e=>e.charAt(0).toUpperCase()+e.slice(1).toLowerCase());function me(e=""){let t=e.toString();return(t=function(e=""){let t=e.toString();return t=pe(t,"-"," "),t=pe(t,"_"," "),t=fe(t),pe(t," ","")}(t)).charAt(0).toLowerCase()+t.slice(1)}function ge(e){const t=document.createElement("div");return t.appendChild(e),t.innerHTML}const ve={pip:"PIP",airplay:"AirPlay",html5:"HTML5",vimeo:"Vimeo",youtube:"YouTube"},ye={get(e="",t={}){if(C.empty(e)||C.empty(t))return"";let i=A(t.i18n,e);if(C.empty(i))return Object.keys(ve).includes(e)?ve[e]:"";const s={"{seektime}":t.seekTime,"{title}":t.title};return Object.entries(s).forEach(([e,t])=>{i=pe(i,e,t)}),i}};class be{constructor(e){t(this,"get",e=>{if(!be.supported||!this.enabled)return null;const t=window.localStorage.getItem(this.key);if(C.empty(t))return null;const i=JSON.parse(t);return C.string(e)&&e.length?i[e]:i}),t(this,"set",e=>{if(!be.supported||!this.enabled)return;if(!C.object(e))return;let t=this.get();C.empty(t)&&(t={}),O(t,e);try{window.localStorage.setItem(this.key,JSON.stringify(t))}catch(e){}}),this.enabled=e.config.storage.enabled,this.key=e.config.storage.key}static get supported(){try{if(!("localStorage"in window))return!1;const e="___test";return window.localStorage.setItem(e,e),window.localStorage.removeItem(e),!0}catch(e){return!1}}}function we(e,t="text"){return new Promise((i,s)=>{try{const n=new XMLHttpRequest;if(!("withCredentials"in n))return;n.addEventListener("load",()=>{if("text"===t)try{i(JSON.parse(n.responseText))}catch(e){i(n.responseText)}else i(n.response)}),n.addEventListener("error",()=>{throw new Error(n.status)}),n.open("GET",e,!0),n.responseType=t,n.send()}catch(e){s(e)}})}function xe(e,t){if(!C.string(e))return;const i=C.string(t);let s=!1;const n=()=>null!==document.getElementById(t),r=(e,t)=>{e.innerHTML=t,i&&n()||document.body.insertAdjacentElement("afterbegin",e)};if(!i||!n()){const n=be.supported,a=document.createElement("div");if(a.setAttribute("hidden",""),i&&a.setAttribute("id",t),n){const e=window.localStorage.getItem(`cache-${t}`);if(s=null!==e){const t=JSON.parse(e);r(a,t.content)}}we(e).then(e=>{if(!C.empty(e)){if(n)try{window.localStorage.setItem(`cache-${t}`,JSON.stringify({content:e}))}catch(e){}r(a,e)}}).catch(()=>{})}}const _e=e=>Math.trunc(e/60/60%60,10),ke=e=>Math.trunc(e/60%60,10),Ee=e=>Math.trunc(e%60,10);function Se(e=0,t=!1,i=!1){if(!C.number(e))return Se(void 0,t,i);const s=e=>`0${e}`.slice(-2);let n=_e(e);const r=ke(e),a=Ee(e);return`${i&&e>0?"-":""}${n=t||n>0?`${n}:`:""}${s(r)}:${s(a)}`}const Ce={getIconUrl(){const e=new URL(this.config.iconUrl,window.location),t=window.location.host?window.location.host:window.top.location.host,i=e.host!==t||P.isIE&&!window.svg4everybody;return{url:this.config.iconUrl,cors:i}},findElements(){try{return this.elements.controls=Y.call(this,this.config.selectors.controls.wrapper),this.elements.buttons={play:W.call(this,this.config.selectors.buttons.play),pause:Y.call(this,this.config.selectors.buttons.pause),restart:Y.call(this,this.config.selectors.buttons.restart),rewind:Y.call(this,this.config.selectors.buttons.rewind),fastForward:Y.call(this,this.config.selectors.buttons.fastForward),mute:Y.call(this,this.config.selectors.buttons.mute),pip:Y.call(this,this.config.selectors.buttons.pip),airplay:Y.call(this,this.config.selectors.buttons.airplay),settings:Y.call(this,this.config.selectors.buttons.settings),captions:Y.call(this,this.config.selectors.buttons.captions),fullscreen:Y.call(this,this.config.selectors.buttons.fullscreen)},this.elements.progress=Y.call(this,this.config.selectors.progress),this.elements.inputs={seek:Y.call(this,this.config.selectors.inputs.seek),volume:Y.call(this,this.config.selectors.inputs.volume)},this.elements.display={buffer:Y.call(this,this.config.selectors.display.buffer),currentTime:Y.call(this,this.config.selectors.display.currentTime),duration:Y.call(this,this.config.selectors.display.duration)},C.element(this.elements.progress)&&(this.elements.display.seekTooltip=this.elements.progress.querySelector(`.${this.config.classNames.tooltip}`)),!0}catch(e){return this.debug.warn("It looks like there is a problem with your custom controls HTML",e),this.toggleNativeControls(!0),!1}},createIcon(e,t){const i=Ce.getIconUrl.call(this),s=`${i.cors?"":i.url}#${this.config.iconPrefix}`,n=document.createElementNS("http://www.w3.org/2000/svg","svg");L(n,O(t,{"aria-hidden":"true",focusable:"false"}));const r=document.createElementNS("http://www.w3.org/2000/svg","use"),a=`${s}-${e}`;return"href"in r&&r.setAttributeNS("http://www.w3.org/1999/xlink","href",a),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a),n.appendChild(r),n},createLabel(e,t={}){const i=ye.get(e,this.config);return I("span",{...t,class:[t.class,this.config.classNames.hidden].filter(Boolean).join(" ")},i)},createBadge(e){if(C.empty(e))return null;const t=I("span",{class:this.config.classNames.menu.value});return t.appendChild(I("span",{class:this.config.classNames.menu.badge},e)),t},createButton(e,t){const i=O({},t);let s=me(e);const n={element:"button",toggle:!1,label:null,icon:null,labelPressed:null,iconPressed:null};switch(["element","icon","label"].forEach(e=>{Object.keys(i).includes(e)&&(n[e]=i[e],delete i[e])}),"button"!==n.element||Object.keys(i).includes("type")||(i.type="button"),Object.keys(i).includes("class")?i.class.split(" ").some(e=>e===this.config.classNames.control)||O(i,{class:`${i.class} ${this.config.classNames.control}`}):i.class=this.config.classNames.control,e){case"play":n.toggle=!0,n.label="play",n.labelPressed="pause",n.icon="play",n.iconPressed="pause";break;case"mute":n.toggle=!0,n.label="mute",n.labelPressed="unmute",n.icon="volume",n.iconPressed="muted";break;case"captions":n.toggle=!0,n.label="enableCaptions",n.labelPressed="disableCaptions",n.icon="captions-off",n.iconPressed="captions-on";break;case"fullscreen":n.toggle=!0,n.label="enterFullscreen",n.labelPressed="exitFullscreen",n.icon="enter-fullscreen",n.iconPressed="exit-fullscreen";break;case"play-large":i.class+=` ${this.config.classNames.control}--overlaid`,s="play",n.label="play",n.icon="play";break;default:C.empty(n.label)&&(n.label=s),C.empty(n.icon)&&(n.icon=e)}const r=I(n.element);return n.toggle?(r.appendChild(Ce.createIcon.call(this,n.iconPressed,{class:"icon--pressed"})),r.appendChild(Ce.createIcon.call(this,n.icon,{class:"icon--not-pressed"})),r.appendChild(Ce.createLabel.call(this,n.labelPressed,{class:"label--pressed"})),r.appendChild(Ce.createLabel.call(this,n.label,{class:"label--not-pressed"}))):(r.appendChild(Ce.createIcon.call(this,n.icon)),r.appendChild(Ce.createLabel.call(this,n.label))),O(i,j(this.config.selectors.buttons[s],i)),L(r,i),"play"===s?(C.array(this.elements.buttons[s])||(this.elements.buttons[s]=[]),this.elements.buttons[s].push(r)):this.elements.buttons[s]=r,r},createRange(e,t){const i=I("input",O(j(this.config.selectors.inputs[e]),{type:"range",min:0,max:100,step:.01,value:0,autocomplete:"off",role:"slider","aria-label":ye.get(e,this.config),"aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":0},t));return this.elements.inputs[e]=i,Ce.updateRangeFill.call(this,i),g.setup(i),i},createProgress(e,t){const i=I("progress",O(j(this.config.selectors.display[e]),{min:0,max:100,value:0,role:"progressbar","aria-hidden":!0},t));if("volume"!==e){i.appendChild(I("span",null,"0"));const t={played:"played",buffer:"buffered"}[e],s=t?ye.get(t,this.config):"";i.innerText=`% ${s.toLowerCase()}`}return this.elements.display[e]=i,i},createTime(e,t){const i=j(this.config.selectors.display[e],t),s=I("div",O(i,{class:`${i.class?i.class:""} ${this.config.classNames.display.time} `.trim(),"aria-label":ye.get(e,this.config)}),"00:00");return this.elements.display[e]=s,s},bindMenuItemShortcuts(e,t){Z.call(this,e,"keydown keyup",i=>{if(!["Space","ArrowUp","ArrowDown","ArrowRight"].includes(i.key))return;if(i.preventDefault(),i.stopPropagation(),"keydown"===i.type)return;const s=H(e,'[role="menuitemradio"]');if(!s&&["Space","ArrowRight"].includes(i.key))Ce.showMenuPanel.call(this,t,!0);else{let t;"Space"!==i.key&&("ArrowDown"===i.key||s&&"ArrowRight"===i.key?(t=e.nextElementSibling,C.element(t)||(t=e.parentNode.firstElementChild)):(t=e.previousElementSibling,C.element(t)||(t=e.parentNode.lastElementChild)),q.call(this,t,!0))}},!1),Z.call(this,e,"keyup",e=>{"Return"===e.key&&Ce.focusFirstMenuItem.call(this,null,!0)})},createMenuItem({value:e,list:t,type:i,title:s,badge:n=null,checked:r=!1}){const a=j(this.config.selectors.inputs[i]),o=I("button",O(a,{type:"button",role:"menuitemradio",class:`${this.config.classNames.control} ${a.class?a.class:""}`.trim(),"aria-checked":r,value:e})),l=I("span");l.innerHTML=s,C.element(n)&&l.appendChild(n),o.appendChild(l),Object.defineProperty(o,"checked",{enumerable:!0,get:()=>"true"===o.getAttribute("aria-checked"),set(e){e&&Array.from(o.parentNode.children).filter(e=>H(e,'[role="menuitemradio"]')).forEach(e=>e.setAttribute("aria-checked","false")),o.setAttribute("aria-checked",e?"true":"false")}}),this.listeners.bind(o,"click keyup",t=>{if(!C.keyboardEvent(t)||"Space"===t.key){switch(t.preventDefault(),t.stopPropagation(),o.checked=!0,i){case"language":this.currentTrack=Number(e);break;case"quality":this.quality=e;break;case"speed":this.speed=parseFloat(e)}Ce.showMenuPanel.call(this,"home",C.keyboardEvent(t))}},i,!1),Ce.bindMenuItemShortcuts.call(this,o,i),t.appendChild(o)},formatTime(e=0,t=!1){if(!C.number(e))return e;return Se(e,_e(this.duration)>0,t)},updateTimeDisplay(e=null,t=0,i=!1){C.element(e)&&C.number(t)&&(e.innerText=Ce.formatTime(t,i))},updateVolume(){this.supported.ui&&(C.element(this.elements.inputs.volume)&&Ce.setRange.call(this,this.elements.inputs.volume,this.muted?0:this.volume),C.element(this.elements.buttons.mute)&&(this.elements.buttons.mute.pressed=this.muted||0===this.volume))},setRange(e,t=0){C.element(e)&&(e.value=t,Ce.updateRangeFill.call(this,e))},updateProgress(e){if(!this.supported.ui||!C.event(e))return;let t=0;const i=(e,t)=>{const i=C.number(t)?t:0,s=C.element(e)?e:this.elements.display.buffer;if(C.element(s)){s.value=i;const e=s.getElementsByTagName("span")[0];C.element(e)&&(e.childNodes[0].nodeValue=i)}};if(e)switch(e.type){case"timeupdate":case"seeking":case"seeked":s=this.currentTime,n=this.duration,t=0===s||0===n||Number.isNaN(s)||Number.isNaN(n)?0:(s/n*100).toFixed(2),"timeupdate"===e.type&&Ce.setRange.call(this,this.elements.inputs.seek,t);break;case"playing":case"progress":i(this.elements.display.buffer,100*this.buffered)}var s,n},updateRangeFill(e){const t=C.event(e)?e.target:e;if(C.element(t)&&"range"===t.getAttribute("type")){if(H(t,this.config.selectors.inputs.seek)){t.setAttribute("aria-valuenow",this.currentTime);const e=Ce.formatTime(this.currentTime),i=Ce.formatTime(this.duration),s=ye.get("seekLabel",this.config);t.setAttribute("aria-valuetext",s.replace("{currentTime}",e).replace("{duration}",i))}else if(H(t,this.config.selectors.inputs.volume)){const e=100*t.value;t.setAttribute("aria-valuenow",e),t.setAttribute("aria-valuetext",`${e.toFixed(1)}%`)}else t.setAttribute("aria-valuenow",t.value);P.isWebkit&&t.style.setProperty("--value",`${t.value/t.max*100}%`)}},updateSeekTooltip(e){var t,i;if(!this.config.tooltips.seek||!C.element(this.elements.inputs.seek)||!C.element(this.elements.display.seekTooltip)||0===this.duration)return;const s=this.elements.display.seekTooltip,n=`${this.config.classNames.tooltip}--visible`,r=e=>B(s,n,e);if(this.touch)return void r(!1);let a=0;const o=this.elements.progress.getBoundingClientRect();if(C.event(e))a=100/o.width*(e.pageX-o.left);else{if(!V(s,n))return;a=parseFloat(s.style.left,10)}a<0?a=0:a>100&&(a=100);const l=this.duration/100*a;s.innerText=Ce.formatTime(l);const c=null===(t=this.config.markers)||void 0===t?void 0:null===(i=t.points)||void 0===i?void 0:i.find(({time:e})=>e===Math.round(l));c&&s.insertAdjacentHTML("afterbegin",`${c.label}<br>`),s.style.left=`${a}%`,C.event(e)&&["mouseenter","mouseleave"].includes(e.type)&&r("mouseenter"===e.type)},timeUpdate(e){const t=!C.element(this.elements.display.duration)&&this.config.invertTime;Ce.updateTimeDisplay.call(this,this.elements.display.currentTime,t?this.duration-this.currentTime:this.currentTime,t),e&&"timeupdate"===e.type&&this.media.seeking||Ce.updateProgress.call(this,e)},durationUpdate(){if(!this.supported.ui||!this.config.invertTime&&this.currentTime)return;if(this.duration>=2**32)return z(this.elements.display.currentTime,!0),void z(this.elements.progress,!0);C.element(this.elements.inputs.seek)&&this.elements.inputs.seek.setAttribute("aria-valuemax",this.duration);const e=C.element(this.elements.display.duration);!e&&this.config.displayDuration&&this.paused&&Ce.updateTimeDisplay.call(this,this.elements.display.currentTime,this.duration),e&&Ce.updateTimeDisplay.call(this,this.elements.display.duration,this.duration),this.config.markers.enabled&&Ce.setMarkers.call(this),Ce.updateSeekTooltip.call(this)},toggleMenuButton(e,t){z(this.elements.settings.buttons[e],!t)},updateSetting(e,t,i){const s=this.elements.settings.panels[e];let n=null,r=t;if("captions"===e)n=this.currentTrack;else{if(n=C.empty(i)?this[e]:i,C.empty(n)&&(n=this.config[e].default),!C.empty(this.options[e])&&!this.options[e].includes(n))return void this.debug.warn(`Unsupported value of '${n}' for ${e}`);if(!this.config[e].options.includes(n))return void this.debug.warn(`Disabled value of '${n}' for ${e}`)}if(C.element(r)||(r=s&&s.querySelector('[role="menu"]')),!C.element(r))return;this.elements.settings.buttons[e].querySelector(`.${this.config.classNames.menu.value}`).innerHTML=Ce.getLabel.call(this,e,n);const a=r&&r.querySelector(`[value="${n}"]`);C.element(a)&&(a.checked=!0)},getLabel(e,t){switch(e){case"speed":return 1===t?ye.get("normal",this.config):`${t}&times;`;case"quality":if(C.number(t)){const e=ye.get(`qualityLabel.${t}`,this.config);return e.length?e:`${t}p`}return fe(t);case"captions":return Pe.getLabel.call(this);default:return null}},setQualityMenu(e){if(!C.element(this.elements.settings.panels.quality))return;const t=this.elements.settings.panels.quality.querySelector('[role="menu"]');C.array(e)&&(this.options.quality=ie(e).filter(e=>this.config.quality.options.includes(e)));const i=!C.empty(this.options.quality)&&this.options.quality.length>1;if(Ce.toggleMenuButton.call(this,"quality",i),N(t),Ce.checkMenu.call(this),!i)return;const s=e=>{const t=ye.get(`qualityBadge.${e}`,this.config);return t.length?Ce.createBadge.call(this,t):null};this.options.quality.sort((e,t)=>{const i=this.config.quality.options;return i.indexOf(e)>i.indexOf(t)?1:-1}).forEach(e=>{Ce.createMenuItem.call(this,{value:e,list:t,type:"quality",title:Ce.getLabel.call(this,"quality",e),badge:s(e)})}),Ce.updateSetting.call(this,"quality",t)},setCaptionsMenu(){if(!C.element(this.elements.settings.panels.captions))return;const e=this.elements.settings.panels.captions.querySelector('[role="menu"]'),t=Pe.getTracks.call(this),i=Boolean(t.length);if(Ce.toggleMenuButton.call(this,"captions",i),N(e),Ce.checkMenu.call(this),!i)return;const s=t.map((t,i)=>({value:i,checked:this.captions.toggled&&this.currentTrack===i,title:Pe.getLabel.call(this,t),badge:t.language&&Ce.createBadge.call(this,t.language.toUpperCase()),list:e,type:"language"}));s.unshift({value:-1,checked:!this.captions.toggled,title:ye.get("disabled",this.config),list:e,type:"language"}),s.forEach(Ce.createMenuItem.bind(this)),Ce.updateSetting.call(this,"captions",e)},setSpeedMenu(){if(!C.element(this.elements.settings.panels.speed))return;const e=this.elements.settings.panels.speed.querySelector('[role="menu"]');this.options.speed=this.options.speed.filter(e=>e>=this.minimumSpeed&&e<=this.maximumSpeed);const t=!C.empty(this.options.speed)&&this.options.speed.length>1;Ce.toggleMenuButton.call(this,"speed",t),N(e),Ce.checkMenu.call(this),t&&(this.options.speed.forEach(t=>{Ce.createMenuItem.call(this,{value:t,list:e,type:"speed",title:Ce.getLabel.call(this,"speed",t)})}),Ce.updateSetting.call(this,"speed",e))},checkMenu(){const{buttons:e}=this.elements.settings,t=!C.empty(e)&&Object.values(e).some(e=>!e.hidden);z(this.elements.settings.menu,!t)},focusFirstMenuItem(e,t=!1){if(this.elements.settings.popup.hidden)return;let i=e;C.element(i)||(i=Object.values(this.elements.settings.panels).find(e=>!e.hidden));const s=i.querySelector('[role^="menuitem"]');q.call(this,s,t)},toggleMenu(e){const{popup:t}=this.elements.settings,i=this.elements.buttons.settings;if(!C.element(t)||!C.element(i))return;const{hidden:s}=t;let n=s;if(C.boolean(e))n=e;else if(C.keyboardEvent(e)&&"Escape"===e.key)n=!1;else if(C.event(e)){const s=C.function(e.composedPath)?e.composedPath()[0]:e.target,r=t.contains(s);if(r||!r&&e.target!==i&&n)return}i.setAttribute("aria-expanded",n),z(t,!n),B(this.elements.container,this.config.classNames.menu.open,n),n&&C.keyboardEvent(e)?Ce.focusFirstMenuItem.call(this,null,!0):n||s||q.call(this,i,C.keyboardEvent(e))},getMenuSize(e){const t=e.cloneNode(!0);t.style.position="absolute",t.style.opacity=0,t.removeAttribute("hidden"),e.parentNode.appendChild(t);const i=t.scrollWidth,s=t.scrollHeight;return F(t),{width:i,height:s}},showMenuPanel(e="",t=!1){const i=this.elements.container.querySelector(`#plyr-settings-${this.id}-${e}`);if(!C.element(i))return;const s=i.parentNode,n=Array.from(s.children).find(e=>!e.hidden);if(G.transitions&&!G.reducedMotion){s.style.width=`${n.scrollWidth}px`,s.style.height=`${n.scrollHeight}px`;const e=Ce.getMenuSize.call(this,i),t=e=>{e.target===s&&["width","height"].includes(e.propertyName)&&(s.style.width="",s.style.height="",J.call(this,s,T,t))};Z.call(this,s,T,t),s.style.width=`${e.width}px`,s.style.height=`${e.height}px`}z(n,!0),z(i,!1),Ce.focusFirstMenuItem.call(this,i,t)},setDownloadUrl(){const e=this.elements.buttons.download;C.element(e)&&e.setAttribute("href",this.download)},create(e){const{bindMenuItemShortcuts:t,createButton:i,createProgress:s,createRange:n,createTime:r,setQualityMenu:a,setSpeedMenu:o,showMenuPanel:l}=Ce;this.elements.controls=null,C.array(this.config.controls)&&this.config.controls.includes("play-large")&&this.elements.container.appendChild(i.call(this,"play-large"));const c=I("div",j(this.config.selectors.controls.wrapper));this.elements.controls=c;const h={class:"plyr__controls__item"};return ie(C.array(this.config.controls)?this.config.controls:[]).forEach(a=>{if("restart"===a&&c.appendChild(i.call(this,"restart",h)),"rewind"===a&&c.appendChild(i.call(this,"rewind",h)),"play"===a&&c.appendChild(i.call(this,"play",h)),"fast-forward"===a&&c.appendChild(i.call(this,"fast-forward",h)),"progress"===a){const t=I("div",{class:`${h.class} plyr__progress__container`}),i=I("div",j(this.config.selectors.progress));if(i.appendChild(n.call(this,"seek",{id:`plyr-seek-${e.id}`})),i.appendChild(s.call(this,"buffer")),this.config.tooltips.seek){const e=I("span",{class:this.config.classNames.tooltip},"00:00");i.appendChild(e),this.elements.display.seekTooltip=e}this.elements.progress=i,t.appendChild(this.elements.progress),c.appendChild(t)}if("current-time"===a&&c.appendChild(r.call(this,"currentTime",h)),"duration"===a&&c.appendChild(r.call(this,"duration",h)),"mute"===a||"volume"===a){let{volume:t}=this.elements;if(C.element(t)&&c.contains(t)||(t=I("div",O({},h,{class:`${h.class} plyr__volume`.trim()})),this.elements.volume=t,c.appendChild(t)),"mute"===a&&t.appendChild(i.call(this,"mute")),"volume"===a&&!P.isIos){const i={max:1,step:.05,value:this.config.volume};t.appendChild(n.call(this,"volume",O(i,{id:`plyr-volume-${e.id}`})))}}if("captions"===a&&c.appendChild(i.call(this,"captions",h)),"settings"===a&&!C.empty(this.config.settings)){const s=I("div",O({},h,{class:`${h.class} plyr__menu`.trim(),hidden:""}));s.appendChild(i.call(this,"settings",{"aria-haspopup":!0,"aria-controls":`plyr-settings-${e.id}`,"aria-expanded":!1}));const n=I("div",{class:"plyr__menu__container",id:`plyr-settings-${e.id}`,hidden:""}),r=I("div"),a=I("div",{id:`plyr-settings-${e.id}-home`}),o=I("div",{role:"menu"});a.appendChild(o),r.appendChild(a),this.elements.settings.panels.home=a,this.config.settings.forEach(i=>{const s=I("button",O(j(this.config.selectors.buttons.settings),{type:"button",class:`${this.config.classNames.control} ${this.config.classNames.control}--forward`,role:"menuitem","aria-haspopup":!0,hidden:""}));t.call(this,s,i),Z.call(this,s,"click",()=>{l.call(this,i,!1)});const n=I("span",null,ye.get(i,this.config)),a=I("span",{class:this.config.classNames.menu.value});a.innerHTML=e[i],n.appendChild(a),s.appendChild(n),o.appendChild(s);const c=I("div",{id:`plyr-settings-${e.id}-${i}`,hidden:""}),h=I("button",{type:"button",class:`${this.config.classNames.control} ${this.config.classNames.control}--back`});h.appendChild(I("span",{"aria-hidden":!0},ye.get(i,this.config))),h.appendChild(I("span",{class:this.config.classNames.hidden},ye.get("menuBack",this.config))),Z.call(this,c,"keydown",e=>{"ArrowLeft"===e.key&&(e.preventDefault(),e.stopPropagation(),l.call(this,"home",!0))},!1),Z.call(this,h,"click",()=>{l.call(this,"home",!1)}),c.appendChild(h),c.appendChild(I("div",{role:"menu"})),r.appendChild(c),this.elements.settings.buttons[i]=s,this.elements.settings.panels[i]=c}),n.appendChild(r),s.appendChild(n),c.appendChild(s),this.elements.settings.popup=n,this.elements.settings.menu=s}if("pip"===a&&G.pip&&c.appendChild(i.call(this,"pip",h)),"airplay"===a&&G.airplay&&c.appendChild(i.call(this,"airplay",h)),"download"===a){const e=O({},h,{element:"a",href:this.download,target:"_blank"});this.isHTML5&&(e.download="");const{download:t}=this.config.urls;!C.url(t)&&this.isEmbed&&O(e,{icon:`logo-${this.provider}`,label:this.provider}),c.appendChild(i.call(this,"download",e))}"fullscreen"===a&&c.appendChild(i.call(this,"fullscreen",h))}),this.isHTML5&&a.call(this,ue.getQualityOptions.call(this)),o.call(this),c},inject(){if(this.config.loadSprite){const e=Ce.getIconUrl.call(this);e.cors&&xe(e.url,"sprite-plyr")}this.id=Math.floor(1e4*Math.random());let e=null;this.elements.controls=null;const t={id:this.id,seektime:this.config.seekTime,title:this.config.title};let i=!0;C.function(this.config.controls)&&(this.config.controls=this.config.controls.call(this,t)),this.config.controls||(this.config.controls=[]),C.element(this.config.controls)||C.string(this.config.controls)?e=this.config.controls:(e=Ce.create.call(this,{id:this.id,seektime:this.config.seekTime,speed:this.speed,quality:this.quality,captions:Pe.getLabel.call(this)}),i=!1);let s;if(i&&C.string(this.config.controls)&&(e=(e=>{let i=e;return Object.entries(t).forEach(([e,t])=>{i=pe(i,`{${e}}`,t)}),i})(e)),C.string(this.config.selectors.controls.container)&&(s=document.querySelector(this.config.selectors.controls.container)),C.element(s)||(s=this.elements.container),s[C.element(e)?"insertAdjacentElement":"insertAdjacentHTML"]("afterbegin",e),C.element(this.elements.controls)||Ce.findElements.call(this),!C.empty(this.elements.buttons)){const e=e=>{const t=this.config.classNames.controlPressed;Object.defineProperty(e,"pressed",{enumerable:!0,get:()=>V(e,t),set(i=!1){B(e,t,i)}})};Object.values(this.elements.buttons).filter(Boolean).forEach(t=>{C.array(t)||C.nodeList(t)?Array.from(t).filter(Boolean).forEach(e):e(t)})}if(P.isEdge&&M(s),this.config.tooltips.controls){const{classNames:e,selectors:t}=this.config,i=`${t.controls.wrapper} ${t.labels} .${e.hidden}`,s=W.call(this,i);Array.from(s).forEach(e=>{B(e,this.config.classNames.hidden,!1),B(e,this.config.classNames.tooltip,!0)})}},setMediaMetadata(){try{"mediaSession"in navigator&&(navigator.mediaSession.metadata=new window.MediaMetadata({title:this.config.mediaMetadata.title,artist:this.config.mediaMetadata.artist,album:this.config.mediaMetadata.album,artwork:this.config.mediaMetadata.artwork}))}catch(e){}},setMarkers(){var e,t;if(!this.duration||this.elements.markers)return;const i=null===(e=this.config.markers)||void 0===e?void 0:null===(t=e.points)||void 0===t?void 0:t.filter(({time:e})=>e>0&&e<this.duration);if(null==i||!i.length)return;const s=document.createDocumentFragment(),n=document.createDocumentFragment();let r=null;const a=`${this.config.classNames.tooltip}--visible`,o=e=>B(r,a,e);i.forEach(e=>{const t=I("span",{class:this.config.classNames.marker},""),i=`${e.time/this.duration*100}%`;r&&(t.addEventListener("mouseenter",()=>{e.label||(r.style.left=i,r.innerHTML=e.label,o(!0))}),t.addEventListener("mouseleave",()=>{o(!1)})),t.addEventListener("click",()=>{this.currentTime=e.time}),t.style.left=i,n.appendChild(t)}),s.appendChild(n),this.config.tooltips.seek||(r=I("span",{class:this.config.classNames.tooltip},""),s.appendChild(r)),this.elements.markers={points:n,tip:r},this.elements.progress.appendChild(s)}};function Te(e,t=!0){let i=e;if(t){const e=document.createElement("a");e.href=i,i=e.href}try{return new URL(i)}catch(e){return null}}function Me(e){const t=new URLSearchParams;return C.object(e)&&Object.entries(e).forEach(([e,i])=>{t.set(e,i)}),t}const Pe={setup(){if(!this.supported.ui)return;if(!this.isVideo||this.isYouTube||this.isHTML5&&!G.textTracks)return void(C.array(this.config.controls)&&this.config.controls.includes("settings")&&this.config.settings.includes("captions")&&Ce.setCaptionsMenu.call(this));var e,t;if(C.element(this.elements.captions)||(this.elements.captions=I("div",j(this.config.selectors.captions)),e=this.elements.captions,t=this.elements.wrapper,C.element(e)&&C.element(t)&&t.parentNode.insertBefore(e,t.nextSibling)),P.isIE&&window.URL){const e=this.media.querySelectorAll("track");Array.from(e).forEach(e=>{const t=e.getAttribute("src"),i=Te(t);null!==i&&i.hostname!==window.location.href.hostname&&["http:","https:"].includes(i.protocol)&&we(t,"blob").then(t=>{e.setAttribute("src",window.URL.createObjectURL(t))}).catch(()=>{F(e)})})}const i=ie((navigator.languages||[navigator.language||navigator.userLanguage||"en"]).map(e=>e.split("-")[0]));let s=(this.storage.get("language")||this.config.captions.language||"auto").toLowerCase();"auto"===s&&([s]=i);let n=this.storage.get("captions");if(C.boolean(n)||({active:n}=this.config.captions),Object.assign(this.captions,{toggled:!1,active:n,language:s,languages:i}),this.isHTML5){const e=this.config.captions.update?"addtrack removetrack":"removetrack";Z.call(this,this.media.textTracks,e,Pe.update.bind(this))}setTimeout(Pe.update.bind(this),0)},update(){const e=Pe.getTracks.call(this,!0),{active:t,language:i,meta:s,currentTrackNode:n}=this.captions,r=Boolean(e.find(e=>e.language===i));this.isHTML5&&this.isVideo&&e.filter(e=>!s.get(e)).forEach(e=>{this.debug.log("Track added",e),s.set(e,{default:"showing"===e.mode}),"showing"===e.mode&&(e.mode="hidden"),Z.call(this,e,"cuechange",()=>Pe.updateCues.call(this))}),(r&&this.language!==i||!e.includes(n))&&(Pe.setLanguage.call(this,i),Pe.toggle.call(this,t&&r)),this.elements&&B(this.elements.container,this.config.classNames.captions.enabled,!C.empty(e)),C.array(this.config.controls)&&this.config.controls.includes("settings")&&this.config.settings.includes("captions")&&Ce.setCaptionsMenu.call(this)},toggle(e,t=!0){if(!this.supported.ui)return;const{toggled:i}=this.captions,s=this.config.classNames.captions.active,n=C.nullOrUndefined(e)?!i:e;if(n!==i){if(t||(this.captions.active=n,this.storage.set({captions:n})),!this.language&&n&&!t){const e=Pe.getTracks.call(this),t=Pe.findTrack.call(this,[this.captions.language,...this.captions.languages],!0);return this.captions.language=t.language,void Pe.set.call(this,e.indexOf(t))}this.elements.buttons.captions&&(this.elements.buttons.captions.pressed=n),B(this.elements.container,s,n),this.captions.toggled=n,Ce.updateSetting.call(this,"captions"),ee.call(this,this.media,n?"captionsenabled":"captionsdisabled")}setTimeout(()=>{n&&this.captions.toggled&&(this.captions.currentTrackNode.mode="hidden")})},set(e,t=!0){const i=Pe.getTracks.call(this);if(-1!==e)if(C.number(e))if(e in i){if(this.captions.currentTrack!==e){this.captions.currentTrack=e;const s=i[e],{language:n}=s||{};this.captions.currentTrackNode=s,Ce.updateSetting.call(this,"captions"),t||(this.captions.language=n,this.storage.set({language:n})),this.isVimeo&&this.embed.enableTextTrack(n),ee.call(this,this.media,"languagechange")}Pe.toggle.call(this,!0,t),this.isHTML5&&this.isVideo&&Pe.updateCues.call(this)}else this.debug.warn("Track not found",e);else this.debug.warn("Invalid caption argument",e);else Pe.toggle.call(this,!1,t)},setLanguage(e,t=!0){if(!C.string(e))return void this.debug.warn("Invalid language argument",e);const i=e.toLowerCase();this.captions.language=i;const s=Pe.getTracks.call(this),n=Pe.findTrack.call(this,[i]);Pe.set.call(this,s.indexOf(n),t)},getTracks(e=!1){return Array.from((this.media||{}).textTracks||[]).filter(t=>!this.isHTML5||e||this.captions.meta.has(t)).filter(e=>["captions","subtitles"].includes(e.kind))},findTrack(e,t=!1){const i=Pe.getTracks.call(this),s=e=>Number((this.captions.meta.get(e)||{}).default),n=Array.from(i).sort((e,t)=>s(t)-s(e));let r;return e.every(e=>!(r=n.find(t=>t.language===e))),r||(t?n[0]:void 0)},getCurrentTrack(){return Pe.getTracks.call(this)[this.currentTrack]},getLabel(e){let t=e;return!C.track(t)&&G.textTracks&&this.captions.toggled&&(t=Pe.getCurrentTrack.call(this)),C.track(t)?C.empty(t.label)?C.empty(t.language)?ye.get("enabled",this.config):e.language.toUpperCase():t.label:ye.get("disabled",this.config)},updateCues(e){if(!this.supported.ui)return;if(!C.element(this.elements.captions))return void this.debug.warn("No captions element to render to");if(!C.nullOrUndefined(e)&&!Array.isArray(e))return void this.debug.warn("updateCues: Invalid input",e);let t=e;if(!t){const e=Pe.getCurrentTrack.call(this);t=Array.from((e||{}).activeCues||[]).map(e=>e.getCueAsHTML()).map(ge)}const i=t.map(e=>e.trim()).join("\n");if(i!==this.elements.captions.innerHTML){N(this.elements.captions);const e=I("span",j(this.config.selectors.caption));e.innerHTML=i,this.elements.captions.appendChild(e),ee.call(this,this.media,"cuechange")}}},Ae={enabled:!0,title:"",debug:!1,autoplay:!1,autopause:!0,playsinline:!0,seekTime:10,volume:1,muted:!1,duration:null,displayDuration:!0,invertTime:!0,toggleInvert:!0,ratio:null,clickToPlay:!0,hideControls:!0,resetOnEnd:!1,disableContextMenu:!0,loadSprite:!0,iconPrefix:"plyr",iconUrl:"https://cdn.plyr.io/3.7.2/plyr.svg",blankVideo:"https://cdn.plyr.io/static/blank.mp4",quality:{default:576,options:[4320,2880,2160,1440,1080,720,576,480,360,240],forced:!1,onChange:null},loop:{active:!1},speed:{selected:1,options:[.5,.75,1,1.25,1.5,1.75,2,4]},keyboard:{focused:!0,global:!1},tooltips:{controls:!1,seek:!0},captions:{active:!1,language:"auto",update:!1},fullscreen:{enabled:!0,fallback:!0,iosNative:!1},storage:{enabled:!0,key:"plyr"},controls:["play-large","play","progress","current-time","mute","volume","captions","settings","pip","airplay","fullscreen"],settings:["captions","quality","speed"],i18n:{restart:"Restart",rewind:"Rewind {seektime}s",play:"Play",pause:"Pause",fastForward:"Forward {seektime}s",seek:"Seek",seekLabel:"{currentTime} of {duration}",played:"Played",buffered:"Buffered",currentTime:"Current time",duration:"Duration",volume:"Volume",mute:"Mute",unmute:"Unmute",enableCaptions:"Enable captions",disableCaptions:"Disable captions",download:"Download",enterFullscreen:"Enter fullscreen",exitFullscreen:"Exit fullscreen",frameTitle:"Player for {title}",captions:"Captions",settings:"Settings",pip:"PIP",menuBack:"Go back to previous menu",speed:"Speed",normal:"Normal",quality:"Quality",loop:"Loop",start:"Start",end:"End",all:"All",reset:"Reset",disabled:"Disabled",enabled:"Enabled",advertisement:"Ad",qualityBadge:{2160:"4K",1440:"HD",1080:"HD",720:"HD",576:"SD",480:"SD"}},urls:{download:null,vimeo:{sdk:"https://player.vimeo.com/api/player.js",iframe:"https://player.vimeo.com/video/{0}?{1}",api:"https://vimeo.com/api/oembed.json?url={0}"},youtube:{sdk:"https://www.youtube.com/iframe_api",api:"https://noembed.com/embed?url=https://www.youtube.com/watch?v={0}"},googleIMA:{sdk:"https://imasdk.googleapis.com/js/sdkloader/ima3.js"}},listeners:{seek:null,play:null,pause:null,restart:null,rewind:null,fastForward:null,mute:null,volume:null,captions:null,download:null,fullscreen:null,pip:null,airplay:null,speed:null,quality:null,loop:null,language:null},events:["ended","progress","stalled","playing","waiting","canplay","canplaythrough","loadstart","loadeddata","loadedmetadata","timeupdate","volumechange","play","pause","error","seeking","seeked","emptied","ratechange","cuechange","download","enterfullscreen","exitfullscreen","captionsenabled","captionsdisabled","languagechange","controlshidden","controlsshown","ready","statechange","qualitychange","adsloaded","adscontentpause","adscontentresume","adstarted","adsmidpoint","adscomplete","adsallcomplete","adsimpression","adsclick"],selectors:{editable:"input, textarea, select, [contenteditable]",container:".plyr",controls:{container:null,wrapper:".plyr__controls"},labels:"[data-plyr]",buttons:{play:'[data-plyr="play"]',pause:'[data-plyr="pause"]',restart:'[data-plyr="restart"]',rewind:'[data-plyr="rewind"]',fastForward:'[data-plyr="fast-forward"]',mute:'[data-plyr="mute"]',captions:'[data-plyr="captions"]',download:'[data-plyr="download"]',fullscreen:'[data-plyr="fullscreen"]',pip:'[data-plyr="pip"]',airplay:'[data-plyr="airplay"]',settings:'[data-plyr="settings"]',loop:'[data-plyr="loop"]'},inputs:{seek:'[data-plyr="seek"]',volume:'[data-plyr="volume"]',speed:'[data-plyr="speed"]',language:'[data-plyr="language"]',quality:'[data-plyr="quality"]'},display:{currentTime:".plyr__time--current",duration:".plyr__time--duration",buffer:".plyr__progress__buffer",loop:".plyr__progress__loop",volume:".plyr__volume--display"},progress:".plyr__progress",captions:".plyr__captions",caption:".plyr__caption"},classNames:{type:"plyr--{0}",provider:"plyr--{0}",video:"plyr__video-wrapper",embed:"plyr__video-embed",videoFixedRatio:"plyr__video-wrapper--fixed-ratio",embedContainer:"plyr__video-embed__container",poster:"plyr__poster",posterEnabled:"plyr__poster-enabled",ads:"plyr__ads",control:"plyr__control",controlPressed:"plyr__control--pressed",playing:"plyr--playing",paused:"plyr--paused",stopped:"plyr--stopped",loading:"plyr--loading",hover:"plyr--hover",tooltip:"plyr__tooltip",cues:"plyr__cues",marker:"plyr__progress__marker",hidden:"plyr__sr-only",hideControls:"plyr--hide-controls",isIos:"plyr--is-ios",isTouch:"plyr--is-touch",uiSupported:"plyr--full-ui",noTransition:"plyr--no-transition",display:{time:"plyr__time"},menu:{value:"plyr__menu__value",badge:"plyr__badge",open:"plyr--menu-open"},captions:{enabled:"plyr--captions-enabled",active:"plyr--captions-active"},fullscreen:{enabled:"plyr--fullscreen-enabled",fallback:"plyr--fullscreen-fallback"},pip:{supported:"plyr--pip-supported",active:"plyr--pip-active"},airplay:{supported:"plyr--airplay-supported",active:"plyr--airplay-active"},tabFocus:"plyr__tab-focus",previewThumbnails:{thumbContainer:"plyr__preview-thumb",thumbContainerShown:"plyr__preview-thumb--is-shown",imageContainer:"plyr__preview-thumb__image-container",timeContainer:"plyr__preview-thumb__time-container",scrubbingContainer:"plyr__preview-scrubbing",scrubbingContainerShown:"plyr__preview-scrubbing--is-shown"}},attributes:{embed:{provider:"data-plyr-provider",id:"data-plyr-embed-id",hash:"data-plyr-embed-hash"}},ads:{enabled:!1,publisherId:"",tagUrl:""},previewThumbnails:{enabled:!1,src:""},vimeo:{byline:!1,portrait:!1,title:!1,speed:!0,transparent:!1,customControls:!0,referrerPolicy:null,premium:!1},youtube:{rel:0,showinfo:0,iv_load_policy:3,modestbranding:1,customControls:!0,noCookie:!1},mediaMetadata:{title:"",artist:"",album:"",artwork:[]},markers:{enabled:!1,points:[]}},Oe={active:"picture-in-picture",inactive:"inline"},De={html5:"html5",youtube:"youtube",vimeo:"vimeo"},Le={audio:"audio",video:"video"};const Ie=()=>{};class $e{constructor(e=!1){this.enabled=window.console&&e,this.enabled&&this.log("Debugging enabled")}get log(){return this.enabled?Function.prototype.bind.call(console.log,console):Ie}get warn(){return this.enabled?Function.prototype.bind.call(console.warn,console):Ie}get error(){return this.enabled?Function.prototype.bind.call(console.error,console):Ie}}class Fe{constructor(e){t(this,"onChange",()=>{if(!this.enabled)return;const e=this.player.elements.buttons.fullscreen;C.element(e)&&(e.pressed=this.active);const t=this.target===this.player.media?this.target:this.player.elements.container;ee.call(this.player,t,this.active?"enterfullscreen":"exitfullscreen",!0)}),t(this,"toggleFallback",(e=!1)=>{if(e?this.scrollPosition={x:window.scrollX||0,y:window.scrollY||0}:window.scrollTo(this.scrollPosition.x,this.scrollPosition.y),document.body.style.overflow=e?"hidden":"",B(this.target,this.player.config.classNames.fullscreen.fallback,e),P.isIos){let t=document.head.querySelector('meta[name="viewport"]');const i="viewport-fit=cover";t||(t=document.createElement("meta")).setAttribute("name","viewport");const s=C.string(t.content)&&t.content.includes(i);e?(this.cleanupViewport=!s,s||(t.content+=`,${i}`)):this.cleanupViewport&&(t.content=t.content.split(",").filter(e=>e.trim()!==i).join(","))}this.onChange()}),t(this,"trapFocus",e=>{if(P.isIos||!this.active||"Tab"!==e.key)return;const t=document.activeElement,i=W.call(this.player,"a[href], button:not(:disabled), input:not(:disabled), [tabindex]"),[s]=i,n=i[i.length-1];t!==n||e.shiftKey?t===s&&e.shiftKey&&(n.focus(),e.preventDefault()):(s.focus(),e.preventDefault())}),t(this,"update",()=>{if(this.enabled){let e;e=this.forceFallback?"Fallback (forced)":Fe.native?"Native":"Fallback",this.player.debug.log(`${e} fullscreen enabled`)}else this.player.debug.log("Fullscreen not supported and fallback disabled");B(this.player.elements.container,this.player.config.classNames.fullscreen.enabled,this.enabled)}),t(this,"enter",()=>{this.enabled&&(P.isIos&&this.player.config.fullscreen.iosNative?this.player.isVimeo?this.player.embed.requestFullscreen():this.target.webkitEnterFullscreen():!Fe.native||this.forceFallback?this.toggleFallback(!0):this.prefix?C.empty(this.prefix)||this.target[`${this.prefix}Request${this.property}`]():this.target.requestFullscreen({navigationUI:"hide"}))}),t(this,"exit",()=>{if(this.enabled)if(P.isIos&&this.player.config.fullscreen.iosNative)this.target.webkitExitFullscreen(),te(this.player.play());else if(!Fe.native||this.forceFallback)this.toggleFallback(!1);else if(this.prefix){if(!C.empty(this.prefix)){const e="moz"===this.prefix?"Cancel":"Exit";document[`${this.prefix}${e}${this.property}`]()}}else(document.cancelFullScreen||document.exitFullscreen).call(document)}),t(this,"toggle",()=>{this.active?this.exit():this.enter()}),this.player=e,this.prefix=Fe.prefix,this.property=Fe.property,this.scrollPosition={x:0,y:0},this.forceFallback="force"===e.config.fullscreen.fallback,this.player.elements.fullscreen=e.config.fullscreen.container&&function(e,t){const{prototype:i}=Element;return(i.closest||function(){let e=this;do{if(H.matches(e,t))return e;e=e.parentElement||e.parentNode}while(null!==e&&1===e.nodeType);return null}).call(e,t)}(this.player.elements.container,e.config.fullscreen.container),Z.call(this.player,document,"ms"===this.prefix?"MSFullscreenChange":`${this.prefix}fullscreenchange`,()=>{this.onChange()}),Z.call(this.player,this.player.elements.container,"dblclick",e=>{C.element(this.player.elements.controls)&&this.player.elements.controls.contains(e.target)||this.player.listeners.proxy(e,this.toggle,"fullscreen")}),Z.call(this,this.player.elements.container,"keydown",e=>this.trapFocus(e)),this.update()}static get native(){return!!(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled)}get usingNative(){return Fe.native&&!this.forceFallback}static get prefix(){if(C.function(document.exitFullscreen))return"";let e="";return["webkit","moz","ms"].some(t=>!(!C.function(document[`${t}ExitFullscreen`])&&!C.function(document[`${t}CancelFullScreen`]))&&(e=t,!0)),e}static get property(){return"moz"===this.prefix?"FullScreen":"Fullscreen"}get enabled(){return(Fe.native||this.player.config.fullscreen.fallback)&&this.player.config.fullscreen.enabled&&this.player.supported.ui&&this.player.isVideo}get active(){if(!this.enabled)return!1;if(!Fe.native||this.forceFallback)return V(this.target,this.player.config.classNames.fullscreen.fallback);const e=this.prefix?this.target.getRootNode()[`${this.prefix}${this.property}Element`]:this.target.getRootNode().fullscreenElement;return e&&e.shadowRoot?e===this.target.getRootNode().host:e===this.target}get target(){return P.isIos&&this.player.config.fullscreen.iosNative?this.player.media:this.player.elements.fullscreen||this.player.elements.container}}function Ne(e,t=1){return new Promise((i,s)=>{const n=new Image,r=()=>{delete n.onload,delete n.onerror,(n.naturalWidth>=t?i:s)(n)};Object.assign(n,{onload:r,onerror:r,src:e})})}const Re={addStyleHook(){B(this.elements.container,this.config.selectors.container.replace(".",""),!0),B(this.elements.container,this.config.classNames.uiSupported,this.supported.ui)},toggleNativeControls(e=!1){e&&this.isHTML5?this.media.setAttribute("controls",""):this.media.removeAttribute("controls")},build(){if(this.listeners.media(),!this.supported.ui)return this.debug.warn(`Basic support only for ${this.provider} ${this.type}`),void Re.toggleNativeControls.call(this,!0);C.element(this.elements.controls)||(Ce.inject.call(this),this.listeners.controls()),Re.toggleNativeControls.call(this),this.isHTML5&&Pe.setup.call(this),this.volume=null,this.muted=null,this.loop=null,this.quality=null,this.speed=null,Ce.updateVolume.call(this),Ce.timeUpdate.call(this),Ce.durationUpdate.call(this),Re.checkPlaying.call(this),B(this.elements.container,this.config.classNames.pip.supported,G.pip&&this.isHTML5&&this.isVideo),B(this.elements.container,this.config.classNames.airplay.supported,G.airplay&&this.isHTML5),B(this.elements.container,this.config.classNames.isIos,P.isIos),B(this.elements.container,this.config.classNames.isTouch,this.touch),this.ready=!0,setTimeout(()=>{ee.call(this,this.media,"ready")},0),Re.setTitle.call(this),this.poster&&Re.setPoster.call(this,this.poster,!1).catch(()=>{}),this.config.duration&&Ce.durationUpdate.call(this),this.config.mediaMetadata&&Ce.setMediaMetadata.call(this)},setTitle(){let e=ye.get("play",this.config);if(C.string(this.config.title)&&!C.empty(this.config.title)&&(e+=`, ${this.config.title}`),Array.from(this.elements.buttons.play||[]).forEach(t=>{t.setAttribute("aria-label",e)}),this.isEmbed){const e=Y.call(this,"iframe");if(!C.element(e))return;const t=C.empty(this.config.title)?"video":this.config.title,i=ye.get("frameTitle",this.config);e.setAttribute("title",i.replace("{title}",t))}},togglePoster(e){B(this.elements.container,this.config.classNames.posterEnabled,e)},setPoster(e,t=!0){return t&&this.poster?Promise.reject(new Error("Poster already set")):(this.media.setAttribute("data-poster",e),this.elements.poster.removeAttribute("hidden"),function(){return new Promise(e=>this.ready?setTimeout(e,0):Z.call(this,this.elements.container,"ready",e)).then(()=>{})}.call(this).then(()=>Ne(e)).catch(t=>{throw e===this.poster&&Re.togglePoster.call(this,!1),t}).then(()=>{if(e!==this.poster)throw new Error("setPoster cancelled by later call to setPoster")}).then(()=>(Object.assign(this.elements.poster.style,{backgroundImage:`url('${e}')`,backgroundSize:""}),Re.togglePoster.call(this,!0),e)))},checkPlaying(e){B(this.elements.container,this.config.classNames.playing,this.playing),B(this.elements.container,this.config.classNames.paused,this.paused),B(this.elements.container,this.config.classNames.stopped,this.stopped),Array.from(this.elements.buttons.play||[]).forEach(e=>{Object.assign(e,{pressed:this.playing}),e.setAttribute("aria-label",ye.get(this.playing?"pause":"play",this.config))}),C.event(e)&&"timeupdate"===e.type||Re.toggleControls.call(this)},checkLoading(e){this.loading=["stalled","waiting"].includes(e.type),clearTimeout(this.timers.loading),this.timers.loading=setTimeout(()=>{B(this.elements.container,this.config.classNames.loading,this.loading),Re.toggleControls.call(this)},this.loading?250:0)},toggleControls(e){const{controls:t}=this.elements;if(t&&this.config.hideControls){const i=this.touch&&this.lastSeekTime+2e3>Date.now();this.toggleControls(Boolean(e||this.loading||this.paused||t.pressed||t.hover||i))}},migrateStyles(){Object.values({...this.media.style}).filter(e=>!C.empty(e)&&C.string(e)&&e.startsWith("--plyr")).forEach(e=>{this.elements.container.style.setProperty(e,this.media.style.getPropertyValue(e)),this.media.style.removeProperty(e)}),C.empty(this.media.style)&&this.media.removeAttribute("style")}};class je{constructor(e){t(this,"firstTouch",()=>{const{player:e}=this,{elements:t}=e;e.touch=!0,B(t.container,e.config.classNames.isTouch,!0)}),t(this,"setTabFocus",e=>{const{player:t}=this,{elements:i}=t,{key:s,type:n,timeStamp:r}=e;if(clearTimeout(this.focusTimer),"keydown"===n&&"Tab"!==s)return;"keydown"===n&&(this.lastKeyDown=r);const a=r-this.lastKeyDown<=20;("focus"!==n||a)&&((()=>{const e=t.config.classNames.tabFocus;B(W.call(t,`.${e}`),e,!1)})(),"focusout"!==n&&(this.focusTimer=setTimeout(()=>{const e=document.activeElement;i.container.contains(e)&&B(document.activeElement,t.config.classNames.tabFocus,!0)},10)))}),t(this,"global",(e=!0)=>{const{player:t}=this;t.config.keyboard.global&&K.call(t,window,"keydown keyup",this.handleKey,e,!1),K.call(t,document.body,"click",this.toggleMenu,e),Q.call(t,document.body,"touchstart",this.firstTouch),K.call(t,document.body,"keydown focus blur focusout",this.setTabFocus,e,!1,!0)}),t(this,"container",()=>{const{player:e}=this,{config:t,elements:i,timers:s}=e;!t.keyboard.global&&t.keyboard.focused&&Z.call(e,i.container,"keydown keyup",this.handleKey,!1),Z.call(e,i.container,"mousemove mouseleave touchstart touchmove enterfullscreen exitfullscreen",t=>{const{controls:n}=i;n&&"enterfullscreen"===t.type&&(n.pressed=!1,n.hover=!1);let r=0;["touchstart","touchmove","mousemove"].includes(t.type)&&(Re.toggleControls.call(e,!0),r=e.touch?3e3:2e3),clearTimeout(s.controls),s.controls=setTimeout(()=>Re.toggleControls.call(e,!1),r)});const n=()=>{if(!e.isVimeo||e.config.vimeo.premium)return;const t=i.wrapper,{active:s}=e.fullscreen,[n,r]=le.call(e),a=ne(`aspect-ratio: ${n} / ${r}`);if(!s)return void(a?(t.style.width=null,t.style.height=null):(t.style.maxWidth=null,t.style.margin=null));const[o,l]=[Math.max(document.documentElement.clientWidth||0,window.innerWidth||0),Math.max(document.documentElement.clientHeight||0,window.innerHeight||0)],c=o/l>n/r;a?(t.style.width=c?"auto":"100%",t.style.height=c?"100%":"auto"):(t.style.maxWidth=c?`${l/r*n}px`:null,t.style.margin=c?"0 auto":null)},r=()=>{clearTimeout(s.resized),s.resized=setTimeout(n,50)};Z.call(e,i.container,"enterfullscreen exitfullscreen",t=>{const{target:s}=e.fullscreen;s===i.container&&(!e.isEmbed&&C.empty(e.config.ratio)||(n(),("enterfullscreen"===t.type?Z:J).call(e,window,"resize",r)))})}),t(this,"media",()=>{const{player:e}=this,{elements:t}=e;if(Z.call(e,e.media,"timeupdate seeking seeked",t=>Ce.timeUpdate.call(e,t)),Z.call(e,e.media,"durationchange loadeddata loadedmetadata",t=>Ce.durationUpdate.call(e,t)),Z.call(e,e.media,"ended",()=>{e.isHTML5&&e.isVideo&&e.config.resetOnEnd&&(e.restart(),e.pause())}),Z.call(e,e.media,"progress playing seeking seeked",t=>Ce.updateProgress.call(e,t)),Z.call(e,e.media,"volumechange",t=>Ce.updateVolume.call(e,t)),Z.call(e,e.media,"playing play pause ended emptied timeupdate",t=>Re.checkPlaying.call(e,t)),Z.call(e,e.media,"waiting canplay seeked playing",t=>Re.checkLoading.call(e,t)),e.supported.ui&&e.config.clickToPlay&&!e.isAudio){const i=Y.call(e,`.${e.config.classNames.video}`);if(!C.element(i))return;Z.call(e,t.container,"click",s=>{([t.container,i].includes(s.target)||i.contains(s.target))&&(e.touch&&e.config.hideControls||(e.ended?(this.proxy(s,e.restart,"restart"),this.proxy(s,()=>{te(e.play())},"play")):this.proxy(s,()=>{te(e.togglePlay())},"play")))})}e.supported.ui&&e.config.disableContextMenu&&Z.call(e,t.wrapper,"contextmenu",e=>{e.preventDefault()},!1),Z.call(e,e.media,"volumechange",()=>{e.storage.set({volume:e.volume,muted:e.muted})}),Z.call(e,e.media,"ratechange",()=>{Ce.updateSetting.call(e,"speed"),e.storage.set({speed:e.speed})}),Z.call(e,e.media,"qualitychange",t=>{Ce.updateSetting.call(e,"quality",null,t.detail.quality)}),Z.call(e,e.media,"ready qualitychange",()=>{Ce.setDownloadUrl.call(e)});const i=e.config.events.concat(["keyup","keydown"]).join(" ");Z.call(e,e.media,i,i=>{let{detail:s={}}=i;"error"===i.type&&(s=e.media.error),ee.call(e,t.container,i.type,!0,s)})}),t(this,"proxy",(e,t,i)=>{const{player:s}=this,n=s.config.listeners[i];let r=!0;C.function(n)&&(r=n.call(s,e)),!1!==r&&C.function(t)&&t.call(s,e)}),t(this,"bind",(e,t,i,s,n=!0)=>{const{player:r}=this,a=r.config.listeners[s],o=C.function(a);Z.call(r,e,t,e=>this.proxy(e,i,s),n&&!o)}),t(this,"controls",()=>{const{player:e}=this,{elements:t}=e,i=P.isIE?"change":"input";if(t.buttons.play&&Array.from(t.buttons.play).forEach(t=>{this.bind(t,"click",()=>{te(e.togglePlay())},"play")}),this.bind(t.buttons.restart,"click",e.restart,"restart"),this.bind(t.buttons.rewind,"click",()=>{e.lastSeekTime=Date.now(),e.rewind()},"rewind"),this.bind(t.buttons.fastForward,"click",()=>{e.lastSeekTime=Date.now(),e.forward()},"fastForward"),this.bind(t.buttons.mute,"click",()=>{e.muted=!e.muted},"mute"),this.bind(t.buttons.captions,"click",()=>e.toggleCaptions()),this.bind(t.buttons.download,"click",()=>{ee.call(e,e.media,"download")},"download"),this.bind(t.buttons.fullscreen,"click",()=>{e.fullscreen.toggle()},"fullscreen"),this.bind(t.buttons.pip,"click",()=>{e.pip="toggle"},"pip"),this.bind(t.buttons.airplay,"click",e.airplay,"airplay"),this.bind(t.buttons.settings,"click",t=>{t.stopPropagation(),t.preventDefault(),Ce.toggleMenu.call(e,t)},null,!1),this.bind(t.buttons.settings,"keyup",t=>{["Space","Enter"].includes(t.key)&&("Enter"!==t.key?(t.preventDefault(),t.stopPropagation(),Ce.toggleMenu.call(e,t)):Ce.focusFirstMenuItem.call(e,null,!0))},null,!1),this.bind(t.settings.menu,"keydown",t=>{"Escape"===t.key&&Ce.toggleMenu.call(e,t)}),this.bind(t.inputs.seek,"mousedown mousemove",e=>{const i=t.progress.getBoundingClientRect(),s=100/i.width*(e.pageX-i.left);e.currentTarget.setAttribute("seek-value",s)}),this.bind(t.inputs.seek,"mousedown mouseup keydown keyup touchstart touchend",t=>{const i=t.currentTarget;if(C.keyboardEvent(t)&&!["ArrowLeft","ArrowRight"].includes(t.key))return;e.lastSeekTime=Date.now();const s=i.hasAttribute("play-on-seeked"),n=["mouseup","touchend","keyup"].includes(t.type);s&&n?(i.removeAttribute("play-on-seeked"),te(e.play())):!n&&e.playing&&(i.setAttribute("play-on-seeked",""),e.pause())}),P.isIos){const t=W.call(e,'input[type="range"]');Array.from(t).forEach(e=>this.bind(e,i,e=>M(e.target)))}this.bind(t.inputs.seek,i,t=>{const i=t.currentTarget;let s=i.getAttribute("seek-value");C.empty(s)&&(s=i.value),i.removeAttribute("seek-value"),e.currentTime=s/i.max*e.duration},"seek"),this.bind(t.progress,"mouseenter mouseleave mousemove",t=>Ce.updateSeekTooltip.call(e,t)),this.bind(t.progress,"mousemove touchmove",t=>{const{previewThumbnails:i}=e;i&&i.loaded&&i.startMove(t)}),this.bind(t.progress,"mouseleave touchend click",()=>{const{previewThumbnails:t}=e;t&&t.loaded&&t.endMove(!1,!0)}),this.bind(t.progress,"mousedown touchstart",t=>{const{previewThumbnails:i}=e;i&&i.loaded&&i.startScrubbing(t)}),this.bind(t.progress,"mouseup touchend",t=>{const{previewThumbnails:i}=e;i&&i.loaded&&i.endScrubbing(t)}),P.isWebkit&&Array.from(W.call(e,'input[type="range"]')).forEach(t=>{this.bind(t,"input",t=>Ce.updateRangeFill.call(e,t.target))}),e.config.toggleInvert&&!C.element(t.display.duration)&&this.bind(t.display.currentTime,"click",()=>{0!==e.currentTime&&(e.config.invertTime=!e.config.invertTime,Ce.timeUpdate.call(e))}),this.bind(t.inputs.volume,i,t=>{e.volume=t.target.value},"volume"),this.bind(t.controls,"mouseenter mouseleave",i=>{t.controls.hover=!e.touch&&"mouseenter"===i.type}),t.fullscreen&&Array.from(t.fullscreen.children).filter(e=>!e.contains(t.container)).forEach(i=>{this.bind(i,"mouseenter mouseleave",i=>{t.controls&&(t.controls.hover=!e.touch&&"mouseenter"===i.type)})}),this.bind(t.controls,"mousedown mouseup touchstart touchend touchcancel",e=>{t.controls.pressed=["mousedown","touchstart"].includes(e.type)}),this.bind(t.controls,"focusin",()=>{const{config:i,timers:s}=e;B(t.controls,i.classNames.noTransition,!0),Re.toggleControls.call(e,!0),setTimeout(()=>{B(t.controls,i.classNames.noTransition,!1)},0);const n=this.touch?3e3:4e3;clearTimeout(s.controls),s.controls=setTimeout(()=>Re.toggleControls.call(e,!1),n)}),this.bind(t.inputs.volume,"wheel",t=>{const i=t.webkitDirectionInvertedFromDevice,[s,n]=[t.deltaX,-t.deltaY].map(e=>i?-e:e),r=Math.sign(Math.abs(s)>Math.abs(n)?s:n);e.increaseVolume(r/50);const{volume:a}=e.media;(1===r&&a<1||-1===r&&a>0)&&t.preventDefault()},"volume",!1)}),this.player=e,this.lastKey=null,this.focusTimer=null,this.lastKeyDown=null,this.handleKey=this.handleKey.bind(this),this.toggleMenu=this.toggleMenu.bind(this),this.setTabFocus=this.setTabFocus.bind(this),this.firstTouch=this.firstTouch.bind(this)}handleKey(e){const{player:t}=this,{elements:i}=t,{key:s,type:n,altKey:r,ctrlKey:a,metaKey:o,shiftKey:l}=e,c="keydown"===n,h=c&&s===this.lastKey;if(r||a||o||l)return;if(!s)return;if(c){const n=document.activeElement;if(C.element(n)){const{editable:s}=t.config.selectors,{seek:r}=i.inputs;if(n!==r&&H(n,s))return;if("Space"===e.key&&H(n,'button, [role^="menuitem"]'))return}switch(["Space","ArrowLeft","ArrowUp","ArrowRight","ArrowDown","0","1","2","3","4","5","6","7","8","9","c","f","k","l","m"].includes(s)&&(e.preventDefault(),e.stopPropagation()),s){case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":h||(u=parseInt(s,10),t.currentTime=t.duration/10*u);break;case"Space":case"k":h||te(t.togglePlay());break;case"ArrowUp":t.increaseVolume(.1);break;case"ArrowDown":t.decreaseVolume(.1);break;case"m":h||(t.muted=!t.muted);break;case"ArrowRight":t.forward();break;case"ArrowLeft":t.rewind();break;case"f":t.fullscreen.toggle();break;case"c":h||t.toggleCaptions();break;case"l":t.loop=!t.loop}"Escape"===s&&!t.fullscreen.usingNative&&t.fullscreen.active&&t.fullscreen.toggle(),this.lastKey=s}else this.lastKey=null;var u}toggleMenu(e){Ce.toggleMenu.call(this.player,e)}}var ze,Be=(function(e,t){e.exports=function(){var e=function(){},t={},i={},s={};function n(e,t){if(e){var n=s[e];if(i[e]=t,n)for(;n.length;)n[0](e,t),n.splice(0,1)}}function r(t,i){t.call&&(t={success:t}),i.length?(t.error||e)(i):(t.success||e)(t)}function a(t,i,s,n){var r,o,l=document,c=s.async,h=(s.numRetries||0)+1,u=s.before||e,d=t.replace(/[\?|#].*$/,""),p=t.replace(/^(css|img)!/,"");n=n||0,/(^css!|\.css$)/.test(d)?((o=l.createElement("link")).rel="stylesheet",o.href=p,(r="hideFocus"in o)&&o.relList&&(r=0,o.rel="preload",o.as="style")):/(^img!|\.(png|gif|jpg|svg|webp)$)/.test(d)?(o=l.createElement("img")).src=p:((o=l.createElement("script")).src=t,o.async=void 0===c||c),o.onload=o.onerror=o.onbeforeload=function(e){var l=e.type[0];if(r)try{o.sheet.cssText.length||(l="e")}catch(e){18!=e.code&&(l="e")}if("e"==l){if((n+=1)<h)return a(t,i,s,n)}else if("preload"==o.rel&&"style"==o.as)return o.rel="stylesheet";i(t,l,e.defaultPrevented)},!1!==u(t,o)&&l.head.appendChild(o)}function o(e,i,s){var o,l;if(i&&i.trim&&(o=i),l=(o?s:i)||{},o){if(o in t)throw"LoadJS";t[o]=!0}function c(t,i){!function(e,t,i){var s,n,r=(e=e.push?e:[e]).length,o=r,l=[];for(s=function(e,i,s){if("e"==i&&l.push(e),"b"==i){if(!s)return;l.push(e)}--r||t(l)},n=0;n<o;n++)a(e[n],s,i)}(e,function(e){r(l,e),t&&r({success:t,error:i},e),n(o,e)},l)}if(l.returnPromise)return new Promise(c);c()}return o.ready=function(e,t){return function(e,t){e=e.push?e:[e];var n,r,a,o=[],l=e.length,c=l;for(n=function(e,i){i.length&&o.push(e),--c||t(o)};l--;)r=e[l],(a=i[r])?n(r,a):(s[r]=s[r]||[]).push(n)}(e,function(e){r(t,e)}),o},o.done=function(e){n(e,[])},o.reset=function(){t={},i={},s={}},o.isDefined=function(e){return e in t},o}()}(ze={exports:{}},ze.exports),ze.exports);function Ve(e){return new Promise((t,i)=>{Be(e,{success:t,error:i})})}function He(e){e&&!this.embed.hasPlayed&&(this.embed.hasPlayed=!0),this.media.paused===e&&(this.media.paused=!e,ee.call(this,this.media,e?"play":"pause"))}const We={setup(){const e=this;B(e.elements.wrapper,e.config.classNames.embed,!0),e.options.speed=e.config.speed.options,ce.call(e),C.object(window.Vimeo)?We.ready.call(e):Ve(e.config.urls.vimeo.sdk).then(()=>{We.ready.call(e)}).catch(t=>{e.debug.warn("Vimeo SDK (player.js) failed to load",t)})},ready(){const e=this,t=e.config.vimeo,{premium:i,referrerPolicy:s,...n}=t;let r=e.media.getAttribute("src"),a="";C.empty(r)?(r=e.media.getAttribute(e.config.attributes.embed.id),a=e.media.getAttribute(e.config.attributes.embed.hash)):a=function(e){const t=e.match(/^.*(vimeo.com\/|video\/)(\d+)(\?.*&*h=|\/)+([\d,a-f]+)/);return t&&5===t.length?t[4]:null}(r);const o=a?{h:a}:{};i&&Object.assign(n,{controls:!1,sidedock:!1});const l=Me({loop:e.config.loop.active,autoplay:e.autoplay,muted:e.muted,gesture:"media",playsinline:!this.config.fullscreen.iosNative,...o,...n}),c=(h=r,C.empty(h)?null:C.number(Number(h))?h:h.match(/^.*(vimeo.com\/|video\/)(\d+).*/)?RegExp.$2:h);var h;const u=I("iframe"),d=de(e.config.urls.vimeo.iframe,c,l);if(u.setAttribute("src",d),u.setAttribute("allowfullscreen",""),u.setAttribute("allow",["autoplay","fullscreen","picture-in-picture","encrypted-media","accelerometer","gyroscope"].join("; ")),C.empty(s)||u.setAttribute("referrerPolicy",s),i||!t.customControls)u.setAttribute("data-poster",e.poster),e.media=R(u,e.media);else{const t=I("div",{class:e.config.classNames.embedContainer,"data-poster":e.poster});t.appendChild(u),e.media=R(t,e.media)}t.customControls||we(de(e.config.urls.vimeo.api,d)).then(t=>{!C.empty(t)&&t.thumbnail_url&&Re.setPoster.call(e,t.thumbnail_url).catch(()=>{})}),e.embed=new window.Vimeo.Player(u,{autopause:e.config.autopause,muted:e.muted}),e.media.paused=!0,e.media.currentTime=0,e.supported.ui&&e.embed.disableTextTrack(),e.media.play=(()=>(He.call(e,!0),e.embed.play())),e.media.pause=(()=>(He.call(e,!1),e.embed.pause())),e.media.stop=(()=>{e.pause(),e.currentTime=0});let{currentTime:p}=e.media;Object.defineProperty(e.media,"currentTime",{get:()=>p,set(t){const{embed:i,media:s,paused:n,volume:r}=e,a=n&&!i.hasPlayed;s.seeking=!0,ee.call(e,s,"seeking"),Promise.resolve(a&&i.setVolume(0)).then(()=>i.setCurrentTime(t)).then(()=>a&&i.pause()).then(()=>a&&i.setVolume(r)).catch(()=>{})}});let f=e.config.speed.selected;Object.defineProperty(e.media,"playbackRate",{get:()=>f,set(t){e.embed.setPlaybackRate(t).then(()=>{f=t,ee.call(e,e.media,"ratechange")}).catch(()=>{e.options.speed=[1]})}});let{volume:m}=e.config;Object.defineProperty(e.media,"volume",{get:()=>m,set(t){e.embed.setVolume(t).then(()=>{m=t,ee.call(e,e.media,"volumechange")})}});let{muted:g}=e.config;Object.defineProperty(e.media,"muted",{get:()=>g,set(t){const i=!!C.boolean(t)&&t;e.embed.setVolume(i?0:e.config.volume).then(()=>{g=i,ee.call(e,e.media,"volumechange")})}});let v,{loop:y}=e.config;Object.defineProperty(e.media,"loop",{get:()=>y,set(t){const i=C.boolean(t)?t:e.config.loop.active;e.embed.setLoop(i).then(()=>{y=i})}}),e.embed.getVideoUrl().then(t=>{v=t,Ce.setDownloadUrl.call(e)}).catch(e=>{this.debug.warn(e)}),Object.defineProperty(e.media,"currentSrc",{get:()=>v}),Object.defineProperty(e.media,"ended",{get:()=>e.currentTime===e.duration}),Promise.all([e.embed.getVideoWidth(),e.embed.getVideoHeight()]).then(t=>{const[i,s]=t;e.embed.ratio=he(i,s),ce.call(this)}),e.embed.setAutopause(e.config.autopause).then(t=>{e.config.autopause=t}),e.embed.getVideoTitle().then(t=>{e.config.title=t,Re.setTitle.call(this)}),e.embed.getCurrentTime().then(t=>{p=t,ee.call(e,e.media,"timeupdate")}),e.embed.getDuration().then(t=>{e.media.duration=t,ee.call(e,e.media,"durationchange")}),e.embed.getTextTracks().then(t=>{e.media.textTracks=t,Pe.setup.call(e)}),e.embed.on("cuechange",({cues:t=[]})=>{const i=t.map(e=>(function(e){const t=document.createDocumentFragment(),i=document.createElement("div");return t.appendChild(i),i.innerHTML=e,t.firstChild.innerText})(e.text));Pe.updateCues.call(e,i)}),e.embed.on("loaded",()=>{if(e.embed.getPaused().then(t=>{He.call(e,!t),t||ee.call(e,e.media,"playing")}),C.element(e.embed.element)&&e.supported.ui){e.embed.element.setAttribute("tabindex",-1)}}),e.embed.on("bufferstart",()=>{ee.call(e,e.media,"waiting")}),e.embed.on("bufferend",()=>{ee.call(e,e.media,"playing")}),e.embed.on("play",()=>{He.call(e,!0),ee.call(e,e.media,"playing")}),e.embed.on("pause",()=>{He.call(e,!1)}),e.embed.on("timeupdate",t=>{e.media.seeking=!1,p=t.seconds,ee.call(e,e.media,"timeupdate")}),e.embed.on("progress",t=>{e.media.buffered=t.percent,ee.call(e,e.media,"progress"),1===parseInt(t.percent,10)&&ee.call(e,e.media,"canplaythrough"),e.embed.getDuration().then(t=>{t!==e.media.duration&&(e.media.duration=t,ee.call(e,e.media,"durationchange"))})}),e.embed.on("seeked",()=>{e.media.seeking=!1,ee.call(e,e.media,"seeked")}),e.embed.on("ended",()=>{e.media.paused=!0,ee.call(e,e.media,"ended")}),e.embed.on("error",t=>{e.media.error=t,ee.call(e,e.media,"error")}),t.customControls&&setTimeout(()=>Re.build.call(e),0)}};function Ye(e){e&&!this.embed.hasPlayed&&(this.embed.hasPlayed=!0),this.media.paused===e&&(this.media.paused=!e,ee.call(this,this.media,e?"play":"pause"))}function qe(e){return e.noCookie?"https://www.youtube-nocookie.com":"http:"===window.location.protocol?"http://www.youtube.com":void 0}const Ue={setup(){if(B(this.elements.wrapper,this.config.classNames.embed,!0),C.object(window.YT)&&C.function(window.YT.Player))Ue.ready.call(this);else{const e=window.onYouTubeIframeAPIReady;window.onYouTubeIframeAPIReady=(()=>{C.function(e)&&e(),Ue.ready.call(this)}),Ve(this.config.urls.youtube.sdk).catch(e=>{this.debug.warn("YouTube API failed to load",e)})}},getTitle(e){we(de(this.config.urls.youtube.api,e)).then(e=>{if(C.object(e)){const{title:t,height:i,width:s}=e;this.config.title=t,Re.setTitle.call(this),this.embed.ratio=he(s,i)}ce.call(this)}).catch(()=>{ce.call(this)})},ready(){const e=this,t=e.config.youtube,i=e.media&&e.media.getAttribute("id");if(!C.empty(i)&&i.startsWith("youtube-"))return;let s=e.media.getAttribute("src");C.empty(s)&&(s=e.media.getAttribute(this.config.attributes.embed.id));const n=(r=s,C.empty(r)?null:r.match(/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/)?RegExp.$2:r);var r;const a=I("div",{id:`${e.provider}-${Math.floor(1e4*Math.random())}`,"data-poster":t.customControls?e.poster:void 0});if(e.media=R(a,e.media),t.customControls){const t=e=>`https://i.ytimg.com/vi/${n}/${e}default.jpg`;Ne(t("maxres"),121).catch(()=>Ne(t("sd"),121)).catch(()=>Ne(t("hq"))).then(t=>Re.setPoster.call(e,t.src)).then(t=>{t.includes("maxres")||(e.elements.poster.style.backgroundSize="cover")}).catch(()=>{})}e.embed=new window.YT.Player(e.media,{videoId:n,host:qe(t),playerVars:O({},{autoplay:e.config.autoplay?1:0,hl:e.config.hl,controls:e.supported.ui&&t.customControls?0:1,disablekb:1,playsinline:e.config.fullscreen.iosNative?0:1,cc_load_policy:e.captions.active?1:0,cc_lang_pref:e.config.captions.language,widget_referrer:window?window.location.href:null},t),events:{onError(t){if(!e.media.error){const i=t.data,s={2:"The request contains an invalid parameter value. For example, this error occurs if you specify a video ID that does not have 11 characters, or if the video ID contains invalid characters, such as exclamation points or asterisks.",5:"The requested content cannot be played in an HTML5 player or another error related to the HTML5 player has occurred.",100:"The video requested was not found. This error occurs when a video has been removed (for any reason) or has been marked as private.",101:"The owner of the requested video does not allow it to be played in embedded players.",150:"The owner of the requested video does not allow it to be played in embedded players."}[i]||"An unknown error occured";e.media.error={code:i,message:s},ee.call(e,e.media,"error")}},onPlaybackRateChange(t){const i=t.target;e.media.playbackRate=i.getPlaybackRate(),ee.call(e,e.media,"ratechange")},onReady(i){if(C.function(e.media.play))return;const s=i.target;Ue.getTitle.call(e,n),e.media.play=(()=>{Ye.call(e,!0),s.playVideo()}),e.media.pause=(()=>{Ye.call(e,!1),s.pauseVideo()}),e.media.stop=(()=>{s.stopVideo()}),e.media.duration=s.getDuration(),e.media.paused=!0,e.media.currentTime=0,Object.defineProperty(e.media,"currentTime",{get:()=>Number(s.getCurrentTime()),set(t){e.paused&&!e.embed.hasPlayed&&e.embed.mute(),e.media.seeking=!0,ee.call(e,e.media,"seeking"),s.seekTo(t)}}),Object.defineProperty(e.media,"playbackRate",{get:()=>s.getPlaybackRate(),set(e){s.setPlaybackRate(e)}});let{volume:r}=e.config;Object.defineProperty(e.media,"volume",{get:()=>r,set(t){r=t,s.setVolume(100*r),ee.call(e,e.media,"volumechange")}});let{muted:a}=e.config;Object.defineProperty(e.media,"muted",{get:()=>a,set(t){const i=C.boolean(t)?t:a;a=i,s[i?"mute":"unMute"](),s.setVolume(100*r),ee.call(e,e.media,"volumechange")}}),Object.defineProperty(e.media,"currentSrc",{get:()=>s.getVideoUrl()}),Object.defineProperty(e.media,"ended",{get:()=>e.currentTime===e.duration});const o=s.getAvailablePlaybackRates();e.options.speed=o.filter(t=>e.config.speed.options.includes(t)),e.supported.ui&&t.customControls&&e.media.setAttribute("tabindex",-1),ee.call(e,e.media,"timeupdate"),ee.call(e,e.media,"durationchange"),clearInterval(e.timers.buffering),e.timers.buffering=setInterval(()=>{e.media.buffered=s.getVideoLoadedFraction(),(null===e.media.lastBuffered||e.media.lastBuffered<e.media.buffered)&&ee.call(e,e.media,"progress"),e.media.lastBuffered=e.media.buffered,1===e.media.buffered&&(clearInterval(e.timers.buffering),ee.call(e,e.media,"canplaythrough"))},200),t.customControls&&setTimeout(()=>Re.build.call(e),50)},onStateChange(i){const s=i.target;switch(clearInterval(e.timers.playing),e.media.seeking&&[1,2].includes(i.data)&&(e.media.seeking=!1,ee.call(e,e.media,"seeked")),i.data){case-1:ee.call(e,e.media,"timeupdate"),e.media.buffered=s.getVideoLoadedFraction(),ee.call(e,e.media,"progress");break;case 0:Ye.call(e,!1),e.media.loop?(s.stopVideo(),s.playVideo()):ee.call(e,e.media,"ended");break;case 1:t.customControls&&!e.config.autoplay&&e.media.paused&&!e.embed.hasPlayed?e.media.pause():(Ye.call(e,!0),ee.call(e,e.media,"playing"),e.timers.playing=setInterval(()=>{ee.call(e,e.media,"timeupdate")},50),e.media.duration!==s.getDuration()&&(e.media.duration=s.getDuration(),ee.call(e,e.media,"durationchange")));break;case 2:e.muted||e.embed.unMute(),Ye.call(e,!1);break;case 3:ee.call(e,e.media,"waiting")}ee.call(e,e.elements.container,"statechange",!1,{code:i.data})}}})}},Ge={setup(){this.media?(B(this.elements.container,this.config.classNames.type.replace("{0}",this.type),!0),B(this.elements.container,this.config.classNames.provider.replace("{0}",this.provider),!0),this.isEmbed&&B(this.elements.container,this.config.classNames.type.replace("{0}","video"),!0),this.isVideo&&(this.elements.wrapper=I("div",{class:this.config.classNames.video}),D(this.media,this.elements.wrapper),this.elements.poster=I("div",{class:this.config.classNames.poster}),this.elements.wrapper.appendChild(this.elements.poster)),this.isHTML5?ue.setup.call(this):this.isYouTube?Ue.setup.call(this):this.isVimeo&&We.setup.call(this)):this.debug.warn("No media element found!")}},Xe=e=>{e.manager&&e.manager.destroy(),e.elements.displayContainer&&e.elements.displayContainer.destroy(),e.elements.container.remove()};class Ke{constructor(e){t(this,"load",()=>{this.enabled&&(C.object(window.google)&&C.object(window.google.ima)?this.ready():Ve(this.player.config.urls.googleIMA.sdk).then(()=>{this.ready()}).catch(()=>{this.trigger("error",new Error("Google IMA SDK failed to load"))}))}),t(this,"ready",()=>{this.enabled||Xe(this),this.startSafetyTimer(12e3,"ready()"),this.managerPromise.then(()=>{this.clearSafetyTimer("onAdsManagerLoaded()")}),this.listeners(),this.setupIMA()}),t(this,"setupIMA",()=>{this.elements.container=I("div",{class:this.player.config.classNames.ads}),this.player.elements.container.appendChild(this.elements.container),google.ima.settings.setVpaidMode(google.ima.ImaSdkSettings.VpaidMode.ENABLED),google.ima.settings.setLocale(this.player.config.ads.language),google.ima.settings.setDisableCustomPlaybackForIOS10Plus(this.player.config.playsinline),this.elements.displayContainer=new google.ima.AdDisplayContainer(this.elements.container,this.player.media),this.loader=new google.ima.AdsLoader(this.elements.displayContainer),this.loader.addEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,e=>this.onAdsManagerLoaded(e),!1),this.loader.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,e=>this.onAdError(e),!1),this.requestAds()}),t(this,"requestAds",()=>{const{container:e}=this.player.elements;try{const t=new google.ima.AdsRequest;t.adTagUrl=this.tagUrl,t.linearAdSlotWidth=e.offsetWidth,t.linearAdSlotHeight=e.offsetHeight,t.nonLinearAdSlotWidth=e.offsetWidth,t.nonLinearAdSlotHeight=e.offsetHeight,t.forceNonLinearFullSlot=!1,t.setAdWillPlayMuted(!this.player.muted),this.loader.requestAds(t)}catch(e){this.onAdError(e)}}),t(this,"pollCountdown",(e=!1)=>{if(!e)return clearInterval(this.countdownTimer),void this.elements.container.removeAttribute("data-badge-text");this.countdownTimer=setInterval(()=>{const e=Se(Math.max(this.manager.getRemainingTime(),0)),t=`${ye.get("advertisement",this.player.config)} - ${e}`;this.elements.container.setAttribute("data-badge-text",t)},100)}),t(this,"onAdsManagerLoaded",e=>{if(!this.enabled)return;const t=new google.ima.AdsRenderingSettings;t.restoreCustomPlaybackStateOnAdBreakComplete=!0,t.enablePreloading=!0,this.manager=e.getAdsManager(this.player,t),this.cuePoints=this.manager.getCuePoints(),this.manager.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,e=>this.onAdError(e)),Object.keys(google.ima.AdEvent.Type).forEach(e=>{this.manager.addEventListener(google.ima.AdEvent.Type[e],e=>this.onAdEvent(e))}),this.trigger("loaded")}),t(this,"addCuePoints",()=>{C.empty(this.cuePoints)||this.cuePoints.forEach(e=>{if(0!==e&&-1!==e&&e<this.player.duration){const t=this.player.elements.progress;if(C.element(t)){const i=100/this.player.duration*e,s=I("span",{class:this.player.config.classNames.cues});s.style.left=`${i.toString()}%`,t.appendChild(s)}}})}),t(this,"onAdEvent",e=>{const{container:t}=this.player.elements,i=e.getAd(),s=e.getAdData();switch((e=>{ee.call(this.player,this.player.media,`ads${e.replace(/_/g,"").toLowerCase()}`)})(e.type),e.type){case google.ima.AdEvent.Type.LOADED:this.trigger("loaded"),this.pollCountdown(!0),i.isLinear()||(i.width=t.offsetWidth,i.height=t.offsetHeight);break;case google.ima.AdEvent.Type.STARTED:this.manager.setVolume(this.player.volume);break;case google.ima.AdEvent.Type.ALL_ADS_COMPLETED:this.player.ended?this.loadAds():this.loader.contentComplete();break;case google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED:this.pauseContent();break;case google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED:this.pollCountdown(),this.resumeContent();break;case google.ima.AdEvent.Type.LOG:s.adError&&this.player.debug.warn(`Non-fatal ad error: ${s.adError.getMessage()}`)}}),t(this,"onAdError",e=>{this.cancel(),this.player.debug.warn("Ads error",e)}),t(this,"listeners",()=>{const{container:e}=this.player.elements;let t;this.player.on("canplay",()=>{this.addCuePoints()}),this.player.on("ended",()=>{this.loader.contentComplete()}),this.player.on("timeupdate",()=>{t=this.player.currentTime}),this.player.on("seeked",()=>{const e=this.player.currentTime;C.empty(this.cuePoints)||this.cuePoints.forEach((i,s)=>{t<i&&i<e&&(this.manager.discardAdBreak(),this.cuePoints.splice(s,1))})}),window.addEventListener("resize",()=>{this.manager&&this.manager.resize(e.offsetWidth,e.offsetHeight,google.ima.ViewMode.NORMAL)})}),t(this,"play",()=>{const{container:e}=this.player.elements;this.managerPromise||this.resumeContent(),this.managerPromise.then(()=>{this.manager.setVolume(this.player.volume),this.elements.displayContainer.initialize();try{this.initialized||(this.manager.init(e.offsetWidth,e.offsetHeight,google.ima.ViewMode.NORMAL),this.manager.start()),this.initialized=!0}catch(e){this.onAdError(e)}}).catch(()=>{})}),t(this,"resumeContent",()=>{this.elements.container.style.zIndex="",this.playing=!1,te(this.player.media.play())}),t(this,"pauseContent",()=>{this.elements.container.style.zIndex=3,this.playing=!0,this.player.media.pause()}),t(this,"cancel",()=>{this.initialized&&this.resumeContent(),this.trigger("error"),this.loadAds()}),t(this,"loadAds",()=>{this.managerPromise.then(()=>{this.manager&&this.manager.destroy(),this.managerPromise=new Promise(e=>{this.on("loaded",e),this.player.debug.log(this.manager)}),this.initialized=!1,this.requestAds()}).catch(()=>{})}),t(this,"trigger",(e,...t)=>{const i=this.events[e];C.array(i)&&i.forEach(e=>{C.function(e)&&e.apply(this,t)})}),t(this,"on",(e,t)=>(C.array(this.events[e])||(this.events[e]=[]),this.events[e].push(t),this)),t(this,"startSafetyTimer",(e,t)=>{this.player.debug.log(`Safety timer invoked from: ${t}`),this.safetyTimer=setTimeout(()=>{this.cancel(),this.clearSafetyTimer("startSafetyTimer()")},e)}),t(this,"clearSafetyTimer",e=>{C.nullOrUndefined(this.safetyTimer)||(this.player.debug.log(`Safety timer cleared from: ${e}`),clearTimeout(this.safetyTimer),this.safetyTimer=null)}),this.player=e,this.config=e.config.ads,this.playing=!1,this.initialized=!1,this.elements={container:null,displayContainer:null},this.manager=null,this.loader=null,this.cuePoints=null,this.events={},this.safetyTimer=null,this.countdownTimer=null,this.managerPromise=new Promise((e,t)=>{this.on("loaded",e),this.on("error",t)}),this.load()}get enabled(){const{config:e}=this;return this.player.isHTML5&&this.player.isVideo&&e.enabled&&(!C.empty(e.publisherId)||C.url(e.tagUrl))}get tagUrl(){const{config:e}=this;if(C.url(e.tagUrl))return e.tagUrl;return`https://go.aniview.com/api/adserver6/vast/?${Me({AV_PUBLISHERID:"58c25bb0073ef448b1087ad6",AV_CHANNELID:"5a0458dc28a06145e4519d21",AV_URL:window.location.hostname,cb:Date.now(),AV_WIDTH:640,AV_HEIGHT:480,AV_CDIM2:e.publisherId})}`}}function Ze(e=0,t=0,i=255){return Math.min(Math.max(e,t),i)}const Je=e=>{const t=[];return e.split(/\r\n\r\n|\n\n|\r\r/).forEach(e=>{const i={};e.split(/\r\n|\n|\r/).forEach(e=>{if(C.number(i.startTime)){if(!C.empty(e.trim())&&C.empty(i.text)){const t=e.trim().split("#xywh=");[i.text]=t,t[1]&&([i.x,i.y,i.w,i.h]=t[1].split(","))}}else{const t=e.match(/([0-9]{2})?:?([0-9]{2}):([0-9]{2}).([0-9]{2,3})( ?--> ?)([0-9]{2})?:?([0-9]{2}):([0-9]{2}).([0-9]{2,3})/);t&&(i.startTime=60*Number(t[1]||0)*60+60*Number(t[2])+Number(t[3])+Number(`0.${t[4]}`),i.endTime=60*Number(t[6]||0)*60+60*Number(t[7])+Number(t[8])+Number(`0.${t[9]}`))}}),i.text&&t.push(i)}),t},Qe=(e,t)=>{const i={};return e>t.width/t.height?(i.width=t.width,i.height=1/e*t.width):(i.height=t.height,i.width=e*t.height),i};class et{constructor(e){t(this,"load",()=>{this.player.elements.display.seekTooltip&&(this.player.elements.display.seekTooltip.hidden=this.enabled),this.enabled&&this.getThumbnails().then(()=>{this.enabled&&(this.render(),this.determineContainerAutoSizing(),this.loaded=!0)})}),t(this,"getThumbnails",()=>new Promise(e=>{const{src:t}=this.player.config.previewThumbnails;if(C.empty(t))throw new Error("Missing previewThumbnails.src config attribute");const i=()=>{this.thumbnails.sort((e,t)=>e.height-t.height),this.player.debug.log("Preview thumbnails",this.thumbnails),e()};if(C.function(t))t(e=>{this.thumbnails=e,i()});else{const e=(C.string(t)?[t]:t).map(e=>this.getThumbnail(e));Promise.all(e).then(i)}})),t(this,"getThumbnail",e=>new Promise(t=>{we(e).then(i=>{const s={frames:Je(i),height:null,urlPrefix:""};s.frames[0].text.startsWith("/")||s.frames[0].text.startsWith("http://")||s.frames[0].text.startsWith("https://")||(s.urlPrefix=e.substring(0,e.lastIndexOf("/")+1));const n=new Image;n.onload=(()=>{s.height=n.naturalHeight,s.width=n.naturalWidth,this.thumbnails.push(s),t()}),n.src=s.urlPrefix+s.frames[0].text})})),t(this,"startMove",e=>{if(this.loaded&&C.event(e)&&["touchmove","mousemove"].includes(e.type)&&this.player.media.duration){if("touchmove"===e.type)this.seekTime=this.player.media.duration*(this.player.elements.inputs.seek.value/100);else{var t,i;const s=this.player.elements.progress.getBoundingClientRect(),n=100/s.width*(e.pageX-s.left);this.seekTime=this.player.media.duration*(n/100),this.seekTime<0&&(this.seekTime=0),this.seekTime>this.player.media.duration-1&&(this.seekTime=this.player.media.duration-1),this.mousePosX=e.pageX,this.elements.thumb.time.innerText=Se(this.seekTime);const r=null===(t=this.player.config.markers)||void 0===t?void 0:null===(i=t.points)||void 0===i?void 0:i.find(({time:e})=>e===Math.round(this.seekTime));r&&this.elements.thumb.time.insertAdjacentHTML("afterbegin",`${r.label}<br>`)}this.showImageAtCurrentTime()}}),t(this,"endMove",()=>{this.toggleThumbContainer(!1,!0)}),t(this,"startScrubbing",e=>{(C.nullOrUndefined(e.button)||!1===e.button||0===e.button)&&(this.mouseDown=!0,this.player.media.duration&&(this.toggleScrubbingContainer(!0),this.toggleThumbContainer(!1,!0),this.showImageAtCurrentTime()))}),t(this,"endScrubbing",()=>{this.mouseDown=!1,Math.ceil(this.lastTime)===Math.ceil(this.player.media.currentTime)?this.toggleScrubbingContainer(!1):Q.call(this.player,this.player.media,"timeupdate",()=>{this.mouseDown||this.toggleScrubbingContainer(!1)})}),t(this,"listeners",()=>{this.player.on("play",()=>{this.toggleThumbContainer(!1,!0)}),this.player.on("seeked",()=>{this.toggleThumbContainer(!1)}),this.player.on("timeupdate",()=>{this.lastTime=this.player.media.currentTime})}),t(this,"render",()=>{this.elements.thumb.container=I("div",{class:this.player.config.classNames.previewThumbnails.thumbContainer}),this.elements.thumb.imageContainer=I("div",{class:this.player.config.classNames.previewThumbnails.imageContainer}),this.elements.thumb.container.appendChild(this.elements.thumb.imageContainer);const e=I("div",{class:this.player.config.classNames.previewThumbnails.timeContainer});this.elements.thumb.time=I("span",{},"00:00"),e.appendChild(this.elements.thumb.time),this.elements.thumb.imageContainer.appendChild(e),C.element(this.player.elements.progress)&&this.player.elements.progress.appendChild(this.elements.thumb.container),this.elements.scrubbing.container=I("div",{class:this.player.config.classNames.previewThumbnails.scrubbingContainer}),this.player.elements.wrapper.appendChild(this.elements.scrubbing.container)}),t(this,"destroy",()=>{this.elements.thumb.container&&this.elements.thumb.container.remove(),this.elements.scrubbing.container&&this.elements.scrubbing.container.remove()}),t(this,"showImageAtCurrentTime",()=>{this.mouseDown?this.setScrubbingContainerSize():this.setThumbContainerSizeAndPos();const e=this.thumbnails[0].frames.findIndex(e=>this.seekTime>=e.startTime&&this.seekTime<=e.endTime),t=e>=0;let i=0;this.mouseDown||this.toggleThumbContainer(t),t&&(this.thumbnails.forEach((t,s)=>{this.loadedImages.includes(t.frames[e].text)&&(i=s)}),e!==this.showingThumb&&(this.showingThumb=e,this.loadImage(i)))}),t(this,"loadImage",(e=0)=>{const t=this.showingThumb,i=this.thumbnails[e],{urlPrefix:s}=i,n=i.frames[t],r=i.frames[t].text,a=s+r;if(this.currentImageElement&&this.currentImageElement.dataset.filename===r)this.showImage(this.currentImageElement,n,e,t,r,!1),this.currentImageElement.dataset.index=t,this.removeOldImages(this.currentImageElement);else{this.loadingImage&&this.usingSprites&&(this.loadingImage.onload=null);const i=new Image;i.src=a,i.dataset.index=t,i.dataset.filename=r,this.showingThumbFilename=r,this.player.debug.log(`Loading image: ${a}`),i.onload=(()=>this.showImage(i,n,e,t,r,!0)),this.loadingImage=i,this.removeOldImages(i)}}),t(this,"showImage",(e,t,i,s,n,r=!0)=>{this.player.debug.log(`Showing thumb: ${n}. num: ${s}. qual: ${i}. newimg: ${r}`),this.setImageSizeAndOffset(e,t),r&&(this.currentImageContainer.appendChild(e),this.currentImageElement=e,this.loadedImages.includes(n)||this.loadedImages.push(n)),this.preloadNearby(s,!0).then(this.preloadNearby(s,!1)).then(this.getHigherQuality(i,e,t,n))}),t(this,"removeOldImages",e=>{Array.from(this.currentImageContainer.children).forEach(t=>{if("img"!==t.tagName.toLowerCase())return;const i=this.usingSprites?500:1e3;if(t.dataset.index!==e.dataset.index&&!t.dataset.deleting){t.dataset.deleting=!0;const{currentImageContainer:e}=this;setTimeout(()=>{e.removeChild(t),this.player.debug.log(`Removing thumb: ${t.dataset.filename}`)},i)}})}),t(this,"preloadNearby",(e,t=!0)=>new Promise(i=>{setTimeout(()=>{const s=this.thumbnails[0].frames[e].text;if(this.showingThumbFilename===s){let n;n=t?this.thumbnails[0].frames.slice(e):this.thumbnails[0].frames.slice(0,e).reverse();let r=!1;n.forEach(e=>{const t=e.text;if(t!==s&&!this.loadedImages.includes(t)){r=!0,this.player.debug.log(`Preloading thumb filename: ${t}`);const{urlPrefix:e}=this.thumbnails[0],s=e+t,n=new Image;n.src=s,n.onload=(()=>{this.player.debug.log(`Preloaded thumb filename: ${t}`),this.loadedImages.includes(t)||this.loadedImages.push(t),i()})}}),r||i()}},300)})),t(this,"getHigherQuality",(e,t,i,s)=>{if(e<this.thumbnails.length-1){let n=t.naturalHeight;this.usingSprites&&(n=i.h),n<this.thumbContainerHeight&&setTimeout(()=>{this.showingThumbFilename===s&&(this.player.debug.log(`Showing higher quality thumb for: ${s}`),this.loadImage(e+1))},300)}}),t(this,"toggleThumbContainer",(e=!1,t=!1)=>{const i=this.player.config.classNames.previewThumbnails.thumbContainerShown;this.elements.thumb.container.classList.toggle(i,e),!e&&t&&(this.showingThumb=null,this.showingThumbFilename=null)}),t(this,"toggleScrubbingContainer",(e=!1)=>{const t=this.player.config.classNames.previewThumbnails.scrubbingContainerShown;this.elements.scrubbing.container.classList.toggle(t,e),e||(this.showingThumb=null,this.showingThumbFilename=null)}),t(this,"determineContainerAutoSizing",()=>{(this.elements.thumb.imageContainer.clientHeight>20||this.elements.thumb.imageContainer.clientWidth>20)&&(this.sizeSpecifiedInCSS=!0)}),t(this,"setThumbContainerSizeAndPos",()=>{const{imageContainer:e}=this.elements.thumb;if(this.sizeSpecifiedInCSS){if(e.clientHeight>20&&e.clientWidth<20){const t=Math.floor(e.clientHeight*this.thumbAspectRatio);e.style.width=`${t}px`}else if(e.clientHeight<20&&e.clientWidth>20){const t=Math.floor(e.clientWidth/this.thumbAspectRatio);e.style.height=`${t}px`}}else{const t=Math.floor(this.thumbContainerHeight*this.thumbAspectRatio);e.style.height=`${this.thumbContainerHeight}px`,e.style.width=`${t}px`}this.setThumbContainerPos()}),t(this,"setThumbContainerPos",()=>{const e=this.player.elements.progress.getBoundingClientRect(),t=this.player.elements.container.getBoundingClientRect(),{container:i}=this.elements.thumb,s=t.left-e.left+10,n=t.right-e.left-i.clientWidth-10,r=this.mousePosX-e.left-i.clientWidth/2,a=Ze(r,s,n);i.style.left=`${a}px`,i.style.setProperty("--preview-arrow-offset",`${r-a}px`)}),t(this,"setScrubbingContainerSize",()=>{const{width:e,height:t}=Qe(this.thumbAspectRatio,{width:this.player.media.clientWidth,height:this.player.media.clientHeight});this.elements.scrubbing.container.style.width=`${e}px`,this.elements.scrubbing.container.style.height=`${t}px`}),t(this,"setImageSizeAndOffset",(e,t)=>{if(!this.usingSprites)return;const i=this.thumbContainerHeight/t.h;e.style.height=`${e.naturalHeight*i}px`,e.style.width=`${e.naturalWidth*i}px`,e.style.left=`-${t.x*i}px`,e.style.top=`-${t.y*i}px`}),this.player=e,this.thumbnails=[],this.loaded=!1,this.lastMouseMoveTime=Date.now(),this.mouseDown=!1,this.loadedImages=[],this.elements={thumb:{},scrubbing:{}},this.load()}get enabled(){return this.player.isHTML5&&this.player.isVideo&&this.player.config.previewThumbnails.enabled}get currentImageContainer(){return this.mouseDown?this.elements.scrubbing.container:this.elements.thumb.imageContainer}get usingSprites(){return Object.keys(this.thumbnails[0].frames[0]).includes("w")}get thumbAspectRatio(){return this.usingSprites?this.thumbnails[0].frames[0].w/this.thumbnails[0].frames[0].h:this.thumbnails[0].width/this.thumbnails[0].height}get thumbContainerHeight(){if(this.mouseDown){const{height:e}=Qe(this.thumbAspectRatio,{width:this.player.media.clientWidth,height:this.player.media.clientHeight});return e}return this.sizeSpecifiedInCSS?this.elements.thumb.imageContainer.clientHeight:Math.floor(this.player.media.clientWidth/this.thumbAspectRatio/4)}get currentImageElement(){return this.mouseDown?this.currentScrubbingImageElement:this.currentThumbnailImageElement}set currentImageElement(e){this.mouseDown?this.currentScrubbingImageElement=e:this.currentThumbnailImageElement=e}}const tt={insertElements(e,t){C.string(t)?$(e,this.media,{src:t}):C.array(t)&&t.forEach(t=>{$(e,this.media,t)})},change(e){A(e,"sources.length")?(ue.cancelRequests.call(this),this.destroy.call(this,()=>{this.options.quality=[],F(this.media),this.media=null,C.element(this.elements.container)&&this.elements.container.removeAttribute("class");const{sources:t,type:i}=e,[{provider:s=De.html5,src:n}]=t,r="html5"===s?i:"div",a="html5"===s?{}:{src:n};Object.assign(this,{provider:s,type:i,supported:G.check(i,s,this.config.playsinline),media:I(r,a)}),this.elements.container.appendChild(this.media),C.boolean(e.autoplay)&&(this.config.autoplay=e.autoplay),this.isHTML5&&(this.config.crossorigin&&this.media.setAttribute("crossorigin",""),this.config.autoplay&&this.media.setAttribute("autoplay",""),C.empty(e.poster)||(this.poster=e.poster),this.config.loop.active&&this.media.setAttribute("loop",""),this.config.muted&&this.media.setAttribute("muted",""),this.config.playsinline&&this.media.setAttribute("playsinline","")),Re.addStyleHook.call(this),this.isHTML5&&tt.insertElements.call(this,"source",t),this.config.title=e.title,Ge.setup.call(this),this.isHTML5&&Object.keys(e).includes("tracks")&&tt.insertElements.call(this,"track",e.tracks),(this.isHTML5||this.isEmbed&&!this.supported.ui)&&Re.build.call(this),this.isHTML5&&this.media.load(),C.empty(e.previewThumbnails)||(Object.assign(this.config.previewThumbnails,e.previewThumbnails),this.previewThumbnails&&this.previewThumbnails.loaded&&(this.previewThumbnails.destroy(),this.previewThumbnails=null),this.config.previewThumbnails.enabled&&(this.previewThumbnails=new et(this))),this.fullscreen.update()},!0)):this.debug.warn("Invalid source format")}};class it{constructor(e,i){if(t(this,"play",()=>C.function(this.media.play)?(this.ads&&this.ads.enabled&&this.ads.managerPromise.then(()=>this.ads.play()).catch(()=>te(this.media.play())),this.media.play()):null),t(this,"pause",()=>this.playing&&C.function(this.media.pause)?this.media.pause():null),t(this,"togglePlay",e=>{return(C.boolean(e)?e:!this.playing)?this.play():this.pause()}),t(this,"stop",()=>{this.isHTML5?(this.pause(),this.restart()):C.function(this.media.stop)&&this.media.stop()}),t(this,"restart",()=>{this.currentTime=0}),t(this,"rewind",e=>{this.currentTime-=C.number(e)?e:this.config.seekTime}),t(this,"forward",e=>{this.currentTime+=C.number(e)?e:this.config.seekTime}),t(this,"increaseVolume",e=>{const t=this.media.muted?0:this.volume;this.volume=t+(C.number(e)?e:0)}),t(this,"decreaseVolume",e=>{this.increaseVolume(-e)}),t(this,"airplay",()=>{G.airplay&&this.media.webkitShowPlaybackTargetPicker()}),t(this,"toggleControls",e=>{if(this.supported.ui&&!this.isAudio){const t=V(this.elements.container,this.config.classNames.hideControls),i=void 0===e?void 0:!e,s=B(this.elements.container,this.config.classNames.hideControls,i);if(s&&C.array(this.config.controls)&&this.config.controls.includes("settings")&&!C.empty(this.config.settings)&&Ce.toggleMenu.call(this,!1),s!==t){const e=s?"controlshidden":"controlsshown";ee.call(this,this.media,e)}return!s}return!1}),t(this,"on",(e,t)=>{Z.call(this,this.elements.container,e,t)}),t(this,"once",(e,t)=>{Q.call(this,this.elements.container,e,t)}),t(this,"off",(e,t)=>{J(this.elements.container,e,t)}),t(this,"destroy",(e,t=!1)=>{if(!this.ready)return;const i=()=>{document.body.style.overflow="",this.embed=null,t?(Object.keys(this.elements).length&&(F(this.elements.buttons.play),F(this.elements.captions),F(this.elements.controls),F(this.elements.wrapper),this.elements.buttons.play=null,this.elements.captions=null,this.elements.controls=null,this.elements.wrapper=null),C.function(e)&&e()):(function(){this&&this.eventListeners&&(this.eventListeners.forEach(e=>{const{element:t,type:i,callback:s,options:n}=e;t.removeEventListener(i,s,n)}),this.eventListeners=[])}.call(this),ue.cancelRequests.call(this),R(this.elements.original,this.elements.container),ee.call(this,this.elements.original,"destroyed",!0),C.function(e)&&e.call(this.elements.original),this.ready=!1,setTimeout(()=>{this.elements=null,this.media=null},200))};this.stop(),clearTimeout(this.timers.loading),clearTimeout(this.timers.controls),clearTimeout(this.timers.resized),this.isHTML5?(Re.toggleNativeControls.call(this,!0),i()):this.isYouTube?(clearInterval(this.timers.buffering),clearInterval(this.timers.playing),null!==this.embed&&C.function(this.embed.destroy)&&this.embed.destroy(),i()):this.isVimeo&&(null!==this.embed&&this.embed.unload().then(i),setTimeout(i,200))}),t(this,"supports",e=>G.mime.call(this,e)),this.timers={},this.ready=!1,this.loading=!1,this.failed=!1,this.touch=G.touch,this.media=e,C.string(this.media)&&(this.media=document.querySelectorAll(this.media)),(window.jQuery&&this.media instanceof jQuery||C.nodeList(this.media)||C.array(this.media))&&(this.media=this.media[0]),this.config=O({},Ae,it.defaults,i||{},(()=>{try{return JSON.parse(this.media.getAttribute("data-plyr-config"))}catch(e){return{}}})()),this.elements={container:null,fullscreen:null,captions:null,buttons:{},display:{},progress:{},inputs:{},settings:{popup:null,menu:null,panels:{},buttons:{}}},this.captions={active:null,currentTrack:-1,meta:new WeakMap},this.fullscreen={active:!1},this.options={speed:[],quality:[]},this.debug=new $e(this.config.debug),this.debug.log("Config",this.config),this.debug.log("Support",G),C.nullOrUndefined(this.media)||!C.element(this.media))return void this.debug.error("Setup failed: no suitable element passed");if(this.media.plyr)return void this.debug.warn("Target already setup");if(!this.config.enabled)return void this.debug.error("Setup failed: disabled by config");if(!G.check().api)return void this.debug.error("Setup failed: no support");const s=this.media.cloneNode(!0);s.autoplay=!1,this.elements.original=s;const n=this.media.tagName.toLowerCase();let r=null,a=null;switch(n){case"div":if(r=this.media.querySelector("iframe"),C.element(r)){if(a=Te(r.getAttribute("src")),this.provider=function(e){return/^(https?:\/\/)?(www\.)?(youtube\.com|youtube-nocookie\.com|youtu\.?be)\/.+$/.test(e)?De.youtube:/^https?:\/\/player.vimeo.com\/video\/\d{0,9}(?=\b|\/)/.test(e)?De.vimeo:null}(a.toString()),this.elements.container=this.media,this.media=r,this.elements.container.className="",a.search.length){const e=["1","true"];e.includes(a.searchParams.get("autoplay"))&&(this.config.autoplay=!0),e.includes(a.searchParams.get("loop"))&&(this.config.loop.active=!0),this.isYouTube?(this.config.playsinline=e.includes(a.searchParams.get("playsinline")),this.config.youtube.hl=a.searchParams.get("hl")):this.config.playsinline=!0}}else this.provider=this.media.getAttribute(this.config.attributes.embed.provider),this.media.removeAttribute(this.config.attributes.embed.provider);if(C.empty(this.provider)||!Object.values(De).includes(this.provider))return void this.debug.error("Setup failed: Invalid provider");this.type=Le.video;break;case"video":case"audio":this.type=n,this.provider=De.html5,this.media.hasAttribute("crossorigin")&&(this.config.crossorigin=!0),this.media.hasAttribute("autoplay")&&(this.config.autoplay=!0),(this.media.hasAttribute("playsinline")||this.media.hasAttribute("webkit-playsinline"))&&(this.config.playsinline=!0),this.media.hasAttribute("muted")&&(this.config.muted=!0),this.media.hasAttribute("loop")&&(this.config.loop.active=!0);break;default:return void this.debug.error("Setup failed: unsupported type")}this.supported=G.check(this.type,this.provider,this.config.playsinline),this.supported.api?(this.eventListeners=[],this.listeners=new je(this),this.storage=new be(this),this.media.plyr=this,C.element(this.elements.container)||(this.elements.container=I("div",{tabindex:0}),D(this.media,this.elements.container)),Re.migrateStyles.call(this),Re.addStyleHook.call(this),Ge.setup.call(this),this.config.debug&&Z.call(this,this.elements.container,this.config.events.join(" "),e=>{this.debug.log(`event: ${e.type}`)}),this.fullscreen=new Fe(this),(this.isHTML5||this.isEmbed&&!this.supported.ui)&&Re.build.call(this),this.listeners.container(),this.listeners.global(),this.config.ads.enabled&&(this.ads=new Ke(this)),this.isHTML5&&this.config.autoplay&&this.once("canplay",()=>te(this.play())),this.lastSeekTime=0,this.config.previewThumbnails.enabled&&(this.previewThumbnails=new et(this))):this.debug.error("Setup failed: no support")}get isHTML5(){return this.provider===De.html5}get isEmbed(){return this.isYouTube||this.isVimeo}get isYouTube(){return this.provider===De.youtube}get isVimeo(){return this.provider===De.vimeo}get isVideo(){return this.type===Le.video}get isAudio(){return this.type===Le.audio}get playing(){return Boolean(this.ready&&!this.paused&&!this.ended)}get paused(){return Boolean(this.media.paused)}get stopped(){return Boolean(this.paused&&0===this.currentTime)}get ended(){return Boolean(this.media.ended)}set currentTime(e){if(!this.duration)return;const t=C.number(e)&&e>0;this.media.currentTime=t?Math.min(e,this.duration):0,this.debug.log(`Seeking to ${this.currentTime} seconds`)}get currentTime(){return Number(this.media.currentTime)}get buffered(){const{buffered:e}=this.media;return C.number(e)?e:e&&e.length&&this.duration>0?e.end(0)/this.duration:0}get seeking(){return Boolean(this.media.seeking)}get duration(){const e=parseFloat(this.config.duration),t=(this.media||{}).duration,i=C.number(t)&&t!==1/0?t:0;return e||i}set volume(e){let t=e;C.string(t)&&(t=Number(t)),C.number(t)||(t=this.storage.get("volume")),C.number(t)||({volume:t}=this.config),t>1&&(t=1),t<0&&(t=0),this.config.volume=t,this.media.volume=t,!C.empty(e)&&this.muted&&t>0&&(this.muted=!1)}get volume(){return Number(this.media.volume)}set muted(e){let t=e;C.boolean(t)||(t=this.storage.get("muted")),C.boolean(t)||(t=this.config.muted),this.config.muted=t,this.media.muted=t}get muted(){return Boolean(this.media.muted)}get hasAudio(){return!this.isHTML5||(!!this.isAudio||(Boolean(this.media.mozHasAudio)||Boolean(this.media.webkitAudioDecodedByteCount)||Boolean(this.media.audioTracks&&this.media.audioTracks.length)))}set speed(e){let t=null;C.number(e)&&(t=e),C.number(t)||(t=this.storage.get("speed")),C.number(t)||(t=this.config.speed.selected);const{minimumSpeed:i,maximumSpeed:s}=this;t=Ze(t,i,s),this.config.speed.selected=t,setTimeout(()=>{this.media&&(this.media.playbackRate=t)},0)}get speed(){return Number(this.media.playbackRate)}get minimumSpeed(){return this.isYouTube?Math.min(...this.options.speed):this.isVimeo?.5:.0625}get maximumSpeed(){return this.isYouTube?Math.max(...this.options.speed):this.isVimeo?2:16}set quality(e){const t=this.config.quality,i=this.options.quality;if(!i.length)return;let s=[!C.empty(e)&&Number(e),this.storage.get("quality"),t.selected,t.default].find(C.number),n=!0;if(!i.includes(s)){const e=se(i,s);this.debug.warn(`Unsupported quality option: ${s}, using ${e} instead`),s=e,n=!1}t.selected=s,this.media.quality=s,n&&this.storage.set({quality:s})}get quality(){return this.media.quality}set loop(e){const t=C.boolean(e)?e:this.config.loop.active;this.config.loop.active=t,this.media.loop=t}get loop(){return Boolean(this.media.loop)}set source(e){tt.change.call(this,e)}get source(){return this.media.currentSrc}get download(){const{download:e}=this.config.urls;return C.url(e)?e:this.source}set download(e){C.url(e)&&(this.config.urls.download=e,Ce.setDownloadUrl.call(this))}set poster(e){this.isVideo?Re.setPoster.call(this,e,!1).catch(()=>{}):this.debug.warn("Poster can only be set for video")}get poster(){return this.isVideo?this.media.getAttribute("poster")||this.media.getAttribute("data-poster"):null}get ratio(){if(!this.isVideo)return null;const e=oe(le.call(this));return C.array(e)?e.join(":"):e}set ratio(e){this.isVideo?C.string(e)&&ae(e)?(this.config.ratio=oe(e),ce.call(this)):this.debug.error(`Invalid aspect ratio specified (${e})`):this.debug.warn("Aspect ratio can only be set for video")}set autoplay(e){this.config.autoplay=C.boolean(e)?e:this.config.autoplay}get autoplay(){return Boolean(this.config.autoplay)}toggleCaptions(e){Pe.toggle.call(this,e,!1)}set currentTrack(e){Pe.set.call(this,e,!1),Pe.setup.call(this)}get currentTrack(){const{toggled:e,currentTrack:t}=this.captions;return e?t:-1}set language(e){Pe.setLanguage.call(this,e,!1)}get language(){return(Pe.getCurrentTrack.call(this)||{}).language}set pip(e){if(!G.pip)return;const t=C.boolean(e)?e:!this.pip;C.function(this.media.webkitSetPresentationMode)&&this.media.webkitSetPresentationMode(t?Oe.active:Oe.inactive),C.function(this.media.requestPictureInPicture)&&(!this.pip&&t?this.media.requestPictureInPicture():this.pip&&!t&&document.exitPictureInPicture())}get pip(){return G.pip?C.empty(this.media.webkitPresentationMode)?this.media===document.pictureInPictureElement:this.media.webkitPresentationMode===Oe.active:null}setPreviewThumbnails(e){this.previewThumbnails&&this.previewThumbnails.loaded&&(this.previewThumbnails.destroy(),this.previewThumbnails=null),Object.assign(this.config.previewThumbnails,e),this.config.previewThumbnails.enabled&&(this.previewThumbnails=new et(this))}static supported(e,t,i){return G.check(e,t,i)}static loadSprite(e,t){return xe(e,t)}static setup(e,t={}){let i=null;return C.string(e)?i=Array.from(document.querySelectorAll(e)):C.nodeList(e)?i=Array.from(e):C.array(e)&&(i=e.filter(C.element)),C.empty(i)?null:i.map(e=>new it(e,t))}}var st;return it.defaults=(st=Ae,JSON.parse(JSON.stringify(st))),it}),function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.AirDatepicker=t():e.AirDatepicker=t()}(this,function(){return function(){"use strict";var e={d:function(t,i){for(var s in i)e.o(i,s)&&!e.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:i[s]})},o:function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}},t={};e.d(t,{default:function(){return B}});var i={days:"days",months:"months",years:"years",day:"day",month:"month",year:"year",eventChangeViewDate:"changeViewDate",eventChangeCurrentView:"changeCurrentView",eventChangeFocusDate:"changeFocusDate",eventChangeSelectedDate:"changeSelectedDate",eventChangeTime:"changeTime",eventChangeLastSelectedDate:"changeLastSelectedDate",actionSelectDate:"selectDate",actionUnselectDate:"unselectDate",cssClassWeekend:"-weekend-"},s={classes:"",inline:!1,locale:{days:["Воскресенье","Понедельник","Вторник","Среда","Четверг","Пятница","Суббота"],daysShort:["Вос","Пон","Вто","Сре","Чет","Пят","Суб"],daysMin:["Вс","Пн","Вт","Ср","Чт","Пт","Сб"],months:["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],monthsShort:["Янв","Фев","Мар","Апр","Май","Июн","Июл","Авг","Сен","Окт","Ноя","Дек"],today:"Сегодня",clear:"Очистить",dateFormat:"dd.MM.yyyy",timeFormat:"HH:mm",firstDay:1},startDate:new Date,firstDay:"",weekends:[6,0],dateFormat:"",altField:"",altFieldDateFormat:"T",toggleSelected:!0,keyboardNav:!0,selectedDates:!1,container:"",isMobile:!1,visible:!1,position:"bottom left",offset:12,view:i.days,minView:i.days,showOtherMonths:!0,selectOtherMonths:!0,moveToOtherMonthsOnSelect:!0,showOtherYears:!0,selectOtherYears:!0,moveToOtherYearsOnSelect:!0,minDate:"",maxDate:"",disableNavWhenOutOfRange:!0,multipleDates:!1,multipleDatesSeparator:", ",range:!1,dynamicRange:!0,buttons:!1,monthsField:"monthsShort",showEvent:"focus",autoClose:!1,prevHtml:'<svg><path d="M 17,12 l -5,5 l 5,5"></path></svg>',nextHtml:'<svg><path d="M 14,12 l 5,5 l -5,5"></path></svg>',navTitles:{days:"MMMM, <i>yyyy</i>",months:"yyyy",years:"yyyy1 - yyyy2"},timepicker:!1,onlyTimepicker:!1,dateTimeSeparator:" ",timeFormat:"",minHours:0,maxHours:24,minMinutes:0,maxMinutes:59,hoursStep:1,minutesStep:1,onSelect:!1,onChangeViewDate:!1,onChangeView:!1,onRenderCell:!1,onShow:!1,onHide:!1,onClickDayName:!1};function n(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document;return"string"==typeof e?t.querySelector(e):e}function r(){let{tagName:e="div",className:t="",innerHtml:i="",id:s="",attrs:n={}}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=document.createElement(e);if(t&&r.classList.add(...t.split(" ")),s&&(r.id=s),i&&(r.innerHTML=i),n)for(let e in n)r.setAttribute(e,n[e]);return r}function a(e,t){for(let[i,s]of Object.entries(t))e.setAttribute(i,s);return e}function o(e){return new Date(e.getFullYear(),e.getMonth()+1,0).getDate()}function l(e){let t=e.getHours(),i=t%12==0?12:t%12;return{year:e.getFullYear(),month:e.getMonth(),fullMonth:e.getMonth()+1<10?"0"+(e.getMonth()+1):e.getMonth()+1,date:e.getDate(),fullDate:e.getDate()<10?"0"+e.getDate():e.getDate(),day:e.getDay(),hours:t,fullHours:c(t),hours12:i,fullHours12:c(i),minutes:e.getMinutes(),fullMinutes:e.getMinutes()<10?"0"+e.getMinutes():e.getMinutes()}}function c(e){return e<10?"0"+e:e}function h(e){let t=10*Math.floor(e.getFullYear()/10);return[t,t+9]}function u(){let e=[];for(var t=arguments.length,i=new Array(t),s=0;s<t;s++)i[s]=arguments[s];return i.forEach(t=>{if("object"==typeof t)for(let i in t)t[i]&&e.push(i);else t&&e.push(t)}),e.join(" ")}function d(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i.days;if(!e||!t)return!1;let n=l(e),r=l(t);return{[i.days]:n.date===r.date&&n.month===r.month&&n.year===r.year,[i.months]:n.month===r.month&&n.year===r.year,[i.years]:n.year===r.year}[s]}function p(e,t,i){let s=m(e,!1).getTime(),n=m(t,!1).getTime();return i?s>=n:s>n}function f(e,t){return!p(e,t,!0)}function m(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=new Date(e.getTime());return"boolean"!=typeof t||t||function(e){e.setHours(0,0,0,0)}(i),i}function g(e,t,i){e.length?e.forEach(e=>{e.addEventListener(t,i)}):e.addEventListener(t,i)}function v(e,t){return!(!e||e===document||e instanceof DocumentFragment)&&(e.matches(t)?e:v(e.parentNode,t))}function y(e,t,i){return e>i?i:e<t?t:e}function b(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),s=1;s<t;s++)i[s-1]=arguments[s];return i.filter(e=>e).forEach(t=>{for(let[i,s]of Object.entries(t))if(void 0!==s&&"[object Object]"===s.toString()){let t=void 0!==e[i]?e[i].toString():void 0,n=s.toString(),r=Array.isArray(s)?[]:{};e[i]=e[i]?t!==n?r:e[i]:r,b(e[i],s)}else e[i]=s}),e}function w(e){let t=e;return e instanceof Date||(t=new Date(e)),isNaN(t.getTime())&&(console.log('Unable to convert value "'.concat(e,'" to Date object')),t=!1),t}function x(e){let t="\\s|\\.|-|/|\\\\|,|\\$|\\!|\\?|:|;";return new RegExp("(^|>|"+t+")("+e+")($|<|"+t+")","g")}function _(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class k{constructor(){let{type:e,date:t,dp:i,opts:s,body:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_(this,"focus",()=>{this.$cell.classList.add("-focus-"),this.focused=!0}),_(this,"removeFocus",()=>{this.$cell.classList.remove("-focus-"),this.focused=!1}),_(this,"select",()=>{this.$cell.classList.add("-selected-"),this.selected=!0}),_(this,"removeSelect",()=>{this.$cell.classList.remove("-selected-","-range-from-","-range-to-"),this.selected=!1}),_(this,"onChangeSelectedDate",()=>{this.isDisabled||(this._handleSelectedStatus(),this.opts.range&&this._handleRangeStatus())}),_(this,"onChangeFocusDate",e=>{if(!e)return void(this.focused&&this.removeFocus());let t=d(e,this.date,this.type);t?this.focus():!t&&this.focused&&this.removeFocus(),this.opts.range&&this._handleRangeStatus()}),_(this,"render",()=>(this.$cell.innerHTML=this._getHtml(),this.$cell.adpCell=this,this.$cell)),this.type=e,this.singleType=this.type.slice(0,-1),this.date=t,this.dp=i,this.opts=s,this.body=n,this.customData=!1,this.init()}init(){let{range:e,onRenderCell:t}=this.opts;t&&(this.customData=t({date:this.date,cellType:this.singleType,datepicker:this.dp})),this._createElement(),this._bindDatepickerEvents(),this._handleInitialFocusStatus(),this.dp.hasSelectedDates&&(this._handleSelectedStatus(),e&&this._handleRangeStatus())}_bindDatepickerEvents(){this.dp.on(i.eventChangeSelectedDate,this.onChangeSelectedDate),this.dp.on(i.eventChangeFocusDate,this.onChangeFocusDate)}unbindDatepickerEvents(){this.dp.off(i.eventChangeSelectedDate,this.onChangeSelectedDate),this.dp.off(i.eventChangeFocusDate,this.onChangeFocusDate)}_createElement(){let{year:e,month:t,date:i}=l(this.date);this.$cell=r({className:this._getClassName(),attrs:{"data-year":e,"data-month":t,"data-date":i}})}_getClassName(){var e,t;let s=new Date,{selectOtherMonths:n,selectOtherYears:r}=this.opts,{minDate:a,maxDate:o}=this.dp,{day:c}=l(this.date),h=this._isOutOfMinMaxRange(),p=null===(e=this.customData)||void 0===e?void 0:e.disabled,f=u("air-datepicker-cell","-".concat(this.singleType,"-"),{"-current-":d(s,this.date,this.type),"-min-date-":a&&d(a,this.date,this.type),"-max-date-":o&&d(o,this.date,this.type)}),m="";switch(this.type){case i.days:m=u({"-weekend-":this.dp.isWeekend(c),"-other-month-":this.isOtherMonth,"-disabled-":this.isOtherMonth&&!n||h||p});break;case i.months:m=u({"-disabled-":h||p});break;case i.years:m=u({"-other-decade-":this.isOtherDecade,"-disabled-":h||this.isOtherDecade&&!r||p})}return u(f,m,null===(t=this.customData)||void 0===t?void 0:t.classes)}_getHtml(){var e;let{year:t,month:s,date:n}=l(this.date),{showOtherMonths:r,showOtherYears:a}=this.opts;if(null!==(e=this.customData)&&void 0!==e&&e.html)return this.customData.html;switch(this.type){case i.days:return!r&&this.isOtherMonth?"":n;case i.months:return this.dp.locale[this.opts.monthsField][s];case i.years:return!a&&this.isOtherDecade?"":t}}_isOutOfMinMaxRange(){let{minDate:e,maxDate:t}=this.dp,{type:s,date:n}=this,{month:r,year:a,date:o}=l(n),c=s===i.days,h=s===i.years,u=!!e&&new Date(a,h?e.getMonth():r,c?o:e.getDate()),d=!!t&&new Date(a,h?t.getMonth():r,c?o:t.getDate());return e&&t?f(u,e)||p(d,t):e?f(u,e):t?p(d,t):void 0}destroy(){this.unbindDatepickerEvents()}_handleRangeStatus(){let{rangeDateFrom:e,rangeDateTo:t}=this.dp,i=u({"-in-range-":e&&t&&(s=this.date,n=e,r=t,p(s,n)&&f(s,r)),"-range-from-":e&&d(this.date,e,this.type),"-range-to-":t&&d(this.date,t,this.type)});var s,n,r;this.$cell.classList.remove("-range-from-","-range-to-","-in-range-"),i&&this.$cell.classList.add(...i.split(" "))}_handleSelectedStatus(){let e=this.dp._checkIfDateIsSelected(this.date,this.type);e?this.select():!e&&this.selected&&this.removeSelect()}_handleInitialFocusStatus(){d(this.dp.focusDate,this.date,this.type)&&this.focus()}get isDisabled(){return this.$cell.matches(".-disabled-")}get isOtherMonth(){return this.dp.isOtherMonth(this.date)}get isOtherDecade(){return this.dp.isOtherDecade(this.date)}}function E(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}let S={[i.days]:'<div class="air-datepicker-body--day-names"></div>'+'<div class="air-datepicker-body--cells -'.concat(i.days,'-"></div>'),[i.months]:'<div class="air-datepicker-body--cells -'.concat(i.months,'-"></div>'),[i.years]:'<div class="air-datepicker-body--cells -'.concat(i.years,'-"></div>')};class C{constructor(e){let{dp:t,type:s,opts:n}=e;E(this,"handleClick",e=>{let t=e.target.adpCell;if(t.isDisabled)return;if(!this.dp.isMinViewReached)return void this.dp.down();let i=this.dp._checkIfDateIsSelected(t.date,t.type);i?this.dp._handleAlreadySelectedDates(i,t.date):this.dp.selectDate(t.date)}),E(this,"handleDayNameClick",e=>{let t=e.target.getAttribute("data-day-index");this.opts.onClickDayName({dayIndex:Number(t),datepicker:this.dp})}),E(this,"onChangeCurrentView",e=>{e!==this.type?this.hide():(this.show(),this.render())}),E(this,"onMouseOverCell",e=>{let t=v(e.target,".air-datepicker-cell");this.dp.setFocusDate(!!t&&t.adpCell.date)}),E(this,"onMouseOutCell",()=>{this.dp.setFocusDate(!1)}),E(this,"onClickBody",e=>{let{onClickDayName:t}=this.opts,i=e.target;i.closest(".air-datepicker-cell")&&this.handleClick(e),t&&i.closest(".air-datepicker-body--day-name")&&this.handleDayNameClick(e)}),E(this,"onMouseDown",e=>{this.pressed=!0;let t=v(e.target,".air-datepicker-cell"),i=t&&t.adpCell;d(i.date,this.dp.rangeDateFrom)&&(this.rangeFromFocused=!0),d(i.date,this.dp.rangeDateTo)&&(this.rangeToFocused=!0)}),E(this,"onMouseMove",e=>{if(!this.pressed||!this.dp.isMinViewReached)return;e.preventDefault();let t=v(e.target,".air-datepicker-cell"),i=t&&t.adpCell,{selectedDates:s,rangeDateTo:n,rangeDateFrom:r}=this.dp;if(!i||i.isDisabled)return;let{date:a}=i;if(2===s.length){if(this.rangeFromFocused&&!p(a,n)){let{hours:e,minutes:t}=l(r);a.setHours(e),a.setMinutes(t),this.dp.rangeDateFrom=a,this.dp.replaceDate(r,a)}if(this.rangeToFocused&&!f(a,r)){let{hours:e,minutes:t}=l(n);a.setHours(e),a.setMinutes(t),this.dp.rangeDateTo=a,this.dp.replaceDate(n,a)}}}),E(this,"onMouseUp",()=>{this.pressed=!1,this.rangeFromFocused=!1,this.rangeToFocused=!1}),E(this,"onChangeViewDate",(e,t)=>{if(!this.isVisible)return;let s=h(e),n=h(t);switch(this.dp.currentView){case i.days:if(d(e,t,i.months))return;break;case i.months:if(d(e,t,i.years))return;break;case i.years:if(s[0]===n[0]&&s[1]===n[1])return}this.render()}),E(this,"render",()=>{this.destroyCells(),this._generateCells(),this.cells.forEach(e=>{this.$cells.appendChild(e.render())})}),this.dp=t,this.type=s,this.opts=n,this.cells=[],this.$el="",this.pressed=!1,this.isVisible=!0,this.init()}init(){this._buildBaseHtml(),this.type===i.days&&this.renderDayNames(),this.render(),this._bindEvents(),this._bindDatepickerEvents()}_bindEvents(){let{range:e,dynamicRange:t}=this.opts;g(this.$el,"mouseover",this.onMouseOverCell),g(this.$el,"mouseout",this.onMouseOutCell),g(this.$el,"click",this.onClickBody),e&&t&&(g(this.$el,"mousedown",this.onMouseDown),g(this.$el,"mousemove",this.onMouseMove),g(window.document,"mouseup",this.onMouseUp))}_bindDatepickerEvents(){this.dp.on(i.eventChangeViewDate,this.onChangeViewDate),this.dp.on(i.eventChangeCurrentView,this.onChangeCurrentView)}_buildBaseHtml(){this.$el=r({className:"air-datepicker-body -".concat(this.type,"-"),innerHtml:S[this.type]}),this.$names=n(".air-datepicker-body--day-names",this.$el),this.$cells=n(".air-datepicker-body--cells",this.$el)}_getDayNamesHtml(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.dp.locale.firstDay,t="",s=this.dp.isWeekend,{onClickDayName:n}=this.opts,r=e,a=0;for(;a<7;){let e=r%7,o=u("air-datepicker-body--day-name",{[i.cssClassWeekend]:s(e),"-clickable-":!!n}),l=this.dp.locale.daysMin[e];t+='<div class="'.concat(o,"\" data-day-index='").concat(e,"'>").concat(l,"</div>"),a++,r++}return t}_getDaysCells(){let{viewDate:e,locale:{firstDay:t}}=this.dp,i=o(e),{year:s,month:n}=l(e),r=new Date(s,n,1),a=new Date(s,n,i),c=r.getDay()-t,h=6-a.getDay()+t;h=h>6?h-7:h;let u=function(e,t){let{year:i,month:s,date:n}=l(e);return new Date(i,s,n-t)}(r,c=c<0?c+7:c),d=i+c+h,p=u.getDate(),{year:f,month:m}=l(u),g=0;for(;g<d;){let e=new Date(f,m,p+g);this._generateCell(e),g++}}_generateCell(e){let{type:t,dp:i,opts:s}=this,n=new k({type:t,dp:i,opts:s,date:e,body:this});return this.cells.push(n),n}_generateDayCells(){this._getDaysCells()}_generateMonthCells(){let{year:e}=this.dp.parsedViewDate,t=0;for(;t<12;)this.cells.push(this._generateCell(new Date(e,t))),t++}_generateYearCells(){let e=h(this.dp.viewDate),t=e[0]-1,i=e[1]+1,s=t;for(;s<=i;)this.cells.push(this._generateCell(new Date(s,0))),s++}renderDayNames(){this.$names.innerHTML=this._getDayNamesHtml()}_generateCells(){switch(this.type){case i.days:this._generateDayCells();break;case i.months:this._generateMonthCells();break;case i.years:this._generateYearCells()}}show(){this.isVisible=!0,this.$el.classList.remove("-hidden-")}hide(){this.isVisible=!1,this.$el.classList.add("-hidden-")}destroyCells(){this.cells.forEach(e=>e.destroy()),this.cells=[],this.$cells.innerHTML=""}destroy(){this.destroyCells(),this.dp.off(i.eventChangeViewDate,this.onChangeViewDate),this.dp.off(i.eventChangeCurrentView,this.onChangeCurrentView)}}function T(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class M{constructor(e){let{dp:t,opts:i}=e;T(this,"onClickNav",e=>{let t=v(e.target,".air-datepicker-nav--action");if(!t)return;let i=t.dataset.action;this.dp[i]()}),T(this,"onChangeViewDate",()=>{this.render(),this._resetNavStatus(),this.handleNavStatus()}),T(this,"onChangeCurrentView",()=>{this.render(),this._resetNavStatus(),this.handleNavStatus()}),T(this,"onClickNavTitle",()=>{this.dp.isFinalView||this.dp.up()}),T(this,"update",()=>{let{prevHtml:e,nextHtml:t}=this.opts;this.$prev.innerHTML=e,this.$next.innerHTML=t,this._resetNavStatus(),this.render(),this.handleNavStatus()}),T(this,"renderDelay",()=>{setTimeout(this.render)}),T(this,"render",()=>{this.$title.innerHTML=this._getTitle(),function(e,t){for(let i in t)t[i]?e.classList.add(i):e.classList.remove(i)}(this.$title,{"-disabled-":this.dp.isFinalView})}),this.dp=t,this.opts=i,this.init()}init(){this._createElement(),this._buildBaseHtml(),this._defineDOM(),this.render(),this.handleNavStatus(),this._bindEvents(),this._bindDatepickerEvents()}_defineDOM(){this.$title=n(".air-datepicker-nav--title",this.$el),this.$prev=n('[data-action="prev"]',this.$el),this.$next=n('[data-action="next"]',this.$el)}_bindEvents(){this.$el.addEventListener("click",this.onClickNav),this.$title.addEventListener("click",this.onClickNavTitle)}_bindDatepickerEvents(){this.dp.on(i.eventChangeViewDate,this.onChangeViewDate),this.dp.on(i.eventChangeCurrentView,this.onChangeCurrentView),this.isNavIsFunction&&(this.dp.on(i.eventChangeSelectedDate,this.renderDelay),this.dp.opts.timepicker&&this.dp.on(i.eventChangeTime,this.render))}destroy(){this.dp.off(i.eventChangeViewDate,this.onChangeViewDate),this.dp.off(i.eventChangeCurrentView,this.onChangeCurrentView),this.isNavIsFunction&&(this.dp.off(i.eventChangeSelectedDate,this.renderDelay),this.dp.opts.timepicker&&this.dp.off(i.eventChangeTime,this.render))}_createElement(){this.$el=r({tagName:"nav",className:"air-datepicker-nav"})}_getTitle(){let{dp:e,opts:t}=this,i=t.navTitles[e.currentView];return"function"==typeof i?i(e):e.formatDate(e.viewDate,i)}handleNavStatus(){let{disableNavWhenOutOfRange:e}=this.opts,{minDate:t,maxDate:s}=this.dp;if(!t&&!s||!e)return;let{year:n,month:r}=this.dp.parsedViewDate,a=!!t&&l(t),o=!!s&&l(s);switch(this.dp.currentView){case i.days:t&&a.month>=r&&a.year>=n&&this._disableNav("prev"),s&&o.month<=r&&o.year<=n&&this._disableNav("next");break;case i.months:t&&a.year>=n&&this._disableNav("prev"),s&&o.year<=n&&this._disableNav("next");break;case i.years:{let e=h(this.dp.viewDate);t&&a.year>=e[0]&&this._disableNav("prev"),s&&o.year<=e[1]&&this._disableNav("next");break}}}_disableNav(e){n('[data-action="'+e+'"]',this.$el).classList.add("-disabled-")}_resetNavStatus(){!function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),s=1;s<t;s++)i[s-1]=arguments[s];e.length?e.forEach(e=>{e.classList.remove(...i)}):e.classList.remove(...i)}(this.$el.querySelectorAll(".air-datepicker-nav--action"),"-disabled-")}_buildBaseHtml(){let{prevHtml:e,nextHtml:t}=this.opts;this.$el.innerHTML='<div class="air-datepicker-nav--action" data-action="prev">'.concat(e,"</div>")+'<div class="air-datepicker-nav--title"></div>'+'<div class="air-datepicker-nav--action" data-action="next">'.concat(t,"</div>")}get isNavIsFunction(){let{navTitles:e}=this.opts;return Object.keys(e).find(t=>"function"==typeof e[t])}}var P={today:{content:e=>e.locale.today,onClick:e=>e.setViewDate(new Date)},clear:{content:e=>e.locale.clear,onClick:e=>e.clear()}};class A{constructor(e){let{dp:t,opts:i}=e;this.dp=t,this.opts=i,this.init()}init(){this.createElement(),this.render()}createElement(){this.$el=r({className:"air-datepicker-buttons"})}destroy(){this.$el.parentNode.removeChild(this.$el)}clearHtml(){return this.$el.innerHTML="",this}generateButtons(){let{buttons:e}=this.opts;Array.isArray(e)||(e=[e]),e.forEach(e=>{let t=e;"string"==typeof e&&P[e]&&(t=P[e]);let i=this.createButton(t);t.onClick&&this.attachEventToButton(i,t.onClick),this.$el.appendChild(i)})}attachEventToButton(e,t){e.addEventListener("click",()=>{t(this.dp)})}createButton(e){let{content:t,className:i,tagName:s="button",attrs:n={}}=e,a="function"==typeof t?t(this.dp):t;return r({tagName:s,innerHtml:"<span tabindex='-1'>".concat(a,"</span>"),className:u("air-datepicker-button",i),attrs:n})}render(){this.generateButtons()}}function O(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class D{constructor(){let{opts:e,dp:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};O(this,"toggleTimepickerIsActive",e=>{this.dp.timepickerIsActive=e}),O(this,"onChangeSelectedDate",e=>{let{date:t,updateTime:i=!1}=e;t&&(this.setMinMaxTime(t),this.setCurrentTime(!!i&&t),this.addTimeToDate(t))}),O(this,"onChangeLastSelectedDate",e=>{e&&(this.setTime(e),this.render())}),O(this,"onChangeInputRange",e=>{let t=e.target;this[t.getAttribute("name")]=t.value,this.updateText(),this.dp.trigger(i.eventChangeTime,{hours:this.hours,minutes:this.minutes})}),O(this,"onMouseEnterLeave",e=>{let t=e.target.getAttribute("name"),i=this.$minutesText;"hours"===t&&(i=this.$hoursText),i.classList.toggle("-focus-")}),O(this,"onFocus",()=>{this.toggleTimepickerIsActive(!0)}),O(this,"onBlur",()=>{this.toggleTimepickerIsActive(!1)}),this.opts=e,this.dp=t;let{timeFormat:s}=this.dp.locale;s&&(s.match(x("h"))||s.match(x("hh")))&&(this.ampm=!0),this.init()}init(){this.setTime(this.dp.lastSelectedDate||this.dp.viewDate),this.createElement(),this.buildHtml(),this.defineDOM(),this.render(),this.bindDatepickerEvents(),this.bindDOMEvents()}bindDatepickerEvents(){this.dp.on(i.eventChangeSelectedDate,this.onChangeSelectedDate),this.dp.on(i.eventChangeLastSelectedDate,this.onChangeLastSelectedDate)}bindDOMEvents(){let e="input";navigator.userAgent.match(/trident/gi)&&(e="change"),g(this.$ranges,e,this.onChangeInputRange),g(this.$ranges,"mouseenter",this.onMouseEnterLeave),g(this.$ranges,"mouseleave",this.onMouseEnterLeave),g(this.$ranges,"focus",this.onFocus),g(this.$ranges,"mousedown",this.onFocus),g(this.$ranges,"blur",this.onBlur)}createElement(){this.$el=r({className:u("air-datepicker-time",{"-am-pm-":this.dp.ampm})})}destroy(){this.dp.off(i.eventChangeSelectedDate,this.onChangeSelectedDate),this.dp.off(i.eventChangeLastSelectedDate,this.onChangeLastSelectedDate),this.$el.parentNode.removeChild(this.$el)}buildHtml(){let{ampm:e,hours:t,displayHours:i,minutes:s,minHours:n,minMinutes:r,maxHours:a,maxMinutes:o,dayPeriod:l,opts:{hoursStep:h,minutesStep:u}}=this;this.$el.innerHTML='<div class="air-datepicker-time--current">'+'   <span class="air-datepicker-time--current-hours">'.concat(c(i),"</span>")+'   <span class="air-datepicker-time--current-colon">:</span>'+'   <span class="air-datepicker-time--current-minutes">'.concat(c(s),"</span>")+"   ".concat(e?"<span class='air-datepicker-time--current-ampm'>".concat(l,"</span>"):"")+'</div><div class="air-datepicker-time--sliders">   <div class="air-datepicker-time--row">'+'      <input type="range" name="hours" value="'.concat(t,'" min="').concat(n,'" max="').concat(a,'" step="').concat(h,'"/>')+'   </div>   <div class="air-datepicker-time--row">'+'      <input type="range" name="minutes" value="'.concat(s,'" min="').concat(r,'" max="').concat(o,'" step="').concat(u,'"/>')+"   </div></div>"}defineDOM(){let e=e=>n(e,this.$el);this.$ranges=this.$el.querySelectorAll('[type="range"]'),this.$hours=e('[name="hours"]'),this.$minutes=e('[name="minutes"]'),this.$hoursText=e(".air-datepicker-time--current-hours"),this.$minutesText=e(".air-datepicker-time--current-minutes"),this.$ampm=e(".air-datepicker-time--current-ampm")}setTime(e){this.setMinMaxTime(e),this.setCurrentTime(e)}addTimeToDate(e){e&&(e.setHours(this.hours),e.setMinutes(this.minutes))}setMinMaxTime(e){if(this.setMinMaxTimeFromOptions(),e){let{minDate:t,maxDate:i}=this.dp;t&&d(e,t)&&this.setMinTimeFromMinDate(t),i&&d(e,i)&&this.setMaxTimeFromMaxDate(i)}}setCurrentTime(e){let{hours:t,minutes:i}=e?l(e):this;this.hours=y(t,this.minHours,this.maxHours),this.minutes=y(i,this.minMinutes,this.maxMinutes)}setMinMaxTimeFromOptions(){let{minHours:e,minMinutes:t,maxHours:i,maxMinutes:s}=this.opts;this.minHours=y(e,0,23),this.minMinutes=y(t,0,59),this.maxHours=y(i,0,23),this.maxMinutes=y(s,0,59)}setMinTimeFromMinDate(e){let{lastSelectedDate:t}=this.dp;this.minHours=e.getHours(),t&&t.getHours()>e.getHours()?this.minMinutes=this.opts.minMinutes:this.minMinutes=e.getMinutes()}setMaxTimeFromMaxDate(e){let{lastSelectedDate:t}=this.dp;this.maxHours=e.getHours(),t&&t.getHours()<e.getHours()?this.maxMinutes=this.opts.maxMinutes:this.maxMinutes=e.getMinutes()}getDayPeriod(e,t){let i=e,s=Number(e);e instanceof Date&&(i=l(e),s=Number(i.hours));let n="am";if(t||this.ampm){switch(!0){case 12===s:case s>11:n="pm"}s=s%12==0?12:s%12}return{hours:s,dayPeriod:n}}updateSliders(){a(this.$hours,{min:this.minHours,max:this.maxHours}).value=this.hours,a(this.$minutes,{min:this.minMinutes,max:this.maxMinutes}).value=this.minutes}updateText(){this.$hoursText.innerHTML=c(this.displayHours),this.$minutesText.innerHTML=c(this.minutes),this.ampm&&(this.$ampm.innerHTML=this.dayPeriod)}set hours(e){this._hours=e;let{hours:t,dayPeriod:i}=this.getDayPeriod(e);this.displayHours=t,this.dayPeriod=i}get hours(){return this._hours}render(){this.updateSliders(),this.updateText()}}function L(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class I{constructor(e){let{dp:t,opts:i}=e;L(this,"pressedKeys",new Set),L(this,"hotKeys",new Map([[[["Control","ArrowRight"],["Control","ArrowUp"]],e=>e.month++],[[["Control","ArrowLeft"],["Control","ArrowDown"]],e=>e.month--],[[["Shift","ArrowRight"],["Shift","ArrowUp"]],e=>e.year++],[[["Shift","ArrowLeft"],["Shift","ArrowDown"]],e=>e.year--],[[["Alt","ArrowRight"],["Alt","ArrowUp"]],e=>e.year+=10],[[["Alt","ArrowLeft"],["Alt","ArrowDown"]],e=>e.year-=10],[["Control","Shift","ArrowUp"],(e,t)=>t.up()]])),L(this,"handleHotKey",e=>{let t=this.hotKeys.get(e),i=l(this.getInitialFocusDate());t(i,this.dp);let{year:s,month:n,date:r}=i,a=o(new Date(s,n));a<r&&(r=a);let c=this.dp.getClampedDate(new Date(s,n,r));this.dp.setFocusDate(c,{viewDateTransition:!0})}),L(this,"isHotKeyPressed",()=>{let e=!1,t=this.pressedKeys.size,i=e=>this.pressedKeys.has(e);for(let[s]of this.hotKeys){if(e)break;if(Array.isArray(s[0]))s.forEach(n=>{e||t!==n.length||(e=n.every(i)&&s)});else{if(t!==s.length)continue;e=s.every(i)&&s}}return e}),L(this,"isArrow",e=>e>=37&&e<=40),L(this,"onKeyDown",e=>{let{key:t,which:i}=e,{dp:s,dp:{focusDate:n},opts:r}=this;this.registerKey(t);let a=this.isHotKeyPressed();if(a)return e.preventDefault(),void this.handleHotKey(a);if(this.isArrow(i))return e.preventDefault(),void this.focusNextCell(t);if("Enter"===t){if(s.currentView!==r.minView)return void s.down();if(n){let e=s._checkIfDateIsSelected(n);return void(e?s._handleAlreadySelectedDates(e,n):s.selectDate(n))}}"Escape"===t&&this.dp.hide()}),L(this,"onKeyUp",e=>{this.removeKey(e.key)}),this.dp=t,this.opts=i,this.init()}init(){this.bindKeyboardEvents()}bindKeyboardEvents(){let{$el:e}=this.dp;e.addEventListener("keydown",this.onKeyDown),e.addEventListener("keyup",this.onKeyUp)}destroy(){let{$el:e}=this.dp;e.removeEventListener("keydown",this.onKeyDown),e.removeEventListener("keyup",this.onKeyUp),this.hotKeys=null,this.pressedKeys=null}getInitialFocusDate(){let{focusDate:e,currentView:t,selectedDates:s,parsedViewDate:{year:n,month:r}}=this.dp,a=e||s[s.length-1];if(!a)switch(t){case i.days:a=new Date(n,r,(new Date).getDate());break;case i.months:a=new Date(n,r,1);break;case i.years:a=new Date(n,0,1)}return a}focusNextCell(e){let t=this.getInitialFocusDate(),{currentView:s}=this.dp,{days:n,months:r,years:a}=i,o=l(t),c=o.year,h=o.month,u=o.date;switch(e){case"ArrowLeft":s===n&&(u-=1),s===r&&(h-=1),s===a&&(c-=1);break;case"ArrowUp":s===n&&(u-=7),s===r&&(h-=3),s===a&&(c-=4);break;case"ArrowRight":s===n&&(u+=1),s===r&&(h+=1),s===a&&(c+=1);break;case"ArrowDown":s===n&&(u+=7),s===r&&(h+=3),s===a&&(c+=4)}let d=this.dp.getClampedDate(new Date(c,h,u));this.dp.setFocusDate(d,{viewDateTransition:!0})}registerKey(e){this.pressedKeys.add(e)}removeKey(e){this.pressedKeys.delete(e)}}let $={on(e,t){this.__events||(this.__events={}),this.__events[e]?this.__events[e].push(t):this.__events[e]=[t]},off(e,t){this.__events&&this.__events[e]&&(this.__events[e]=this.__events[e].filter(e=>e!==t))},removeAllEvents(){this.__events={}},trigger(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),s=1;s<t;s++)i[s-1]=arguments[s];this.__events&&this.__events[e]&&this.__events[e].forEach(e=>{e(...i)})}};function F(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}let N="",R="",j="",z=!1;class B{constructor(e,t){var a=this;if(F(this,"viewIndexes",[i.days,i.months,i.years]),F(this,"next",()=>{let{year:e,month:t}=this.parsedViewDate;switch(this.currentView){case i.days:this.setViewDate(new Date(e,t+1,1));break;case i.months:this.setViewDate(new Date(e+1,t,1));break;case i.years:this.setViewDate(new Date(e+10,0,1))}}),F(this,"prev",()=>{let{year:e,month:t}=this.parsedViewDate;switch(this.currentView){case i.days:this.setViewDate(new Date(e,t-1,1));break;case i.months:this.setViewDate(new Date(e-1,t,1));break;case i.years:this.setViewDate(new Date(e-10,0,1))}}),F(this,"_finishHide",()=>{this.hideAnimation=!1,this._destroyComponents(),this.$container.removeChild(this.$datepicker)}),F(this,"setPosition",function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if("function"==typeof(e=e||a.opts.position))return void(a.customHide=e({$datepicker:a.$datepicker,$target:a.$el,$pointer:a.$pointer,isViewChange:t,done:a._finishHide}));let i,s,{isMobile:n}=a.opts,r=a.$el.getBoundingClientRect(),o=a.$el.getBoundingClientRect(),l=a.$datepicker.offsetParent,c=a.$el.offsetParent,h=a.$datepicker.getBoundingClientRect(),u=e.split(" "),d=window.scrollY,p=window.scrollX,f=a.opts.offset,m=u[0],g=u[1];if(n)a.$datepicker.style.cssText="left: 50%; top: 50%";else{if(l===c&&l!==document.body&&(o={top:a.$el.offsetTop,left:a.$el.offsetLeft,width:r.width,height:a.$el.offsetHeight},d=0,p=0),l!==c&&l!==document.body){let e=l.getBoundingClientRect();o={top:r.top-e.top,left:r.left-e.left,width:r.width,height:r.height},d=0,p=0}switch(m){case"top":i=o.top-h.height-f;break;case"right":s=o.left+o.width+f;break;case"bottom":i=o.top+o.height+f;break;case"left":s=o.left-h.width-f}switch(g){case"top":i=o.top;break;case"right":s=o.left+o.width-h.width;break;case"bottom":i=o.top+o.height-h.height;break;case"left":s=o.left;break;case"center":/left|right/.test(m)?i=o.top+o.height/2-h.height/2:s=o.left+o.width/2-h.width/2}a.$datepicker.style.cssText="left: ".concat(s+p,"px; top: ").concat(i+d,"px")}}),F(this,"_setInputValue",()=>{let{opts:e,$altField:t,locale:{dateFormat:i}}=this,{altFieldDateFormat:s,altField:n}=e;n&&t&&(t.value=this._getInputValue(s)),this.$el.value=this._getInputValue(i)}),F(this,"_getInputValue",e=>{let{selectedDates:t,opts:i}=this,{multipleDates:s,multipleDatesSeparator:n}=i;if(!t.length)return"";let r="function"==typeof e,a=r?e(s?t:t[0]):t.map(t=>this.formatDate(t,e));return a=r?a:a.join(n)}),F(this,"_checkIfDateIsSelected",function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.days,s=!1;return a.selectedDates.some(i=>{let n=d(e,i,t);return s=n&&i,n}),s}),F(this,"_scheduleCallAfterTransition",e=>{this._cancelScheduledCall(),e&&e(!1),this._onTransitionEnd=(()=>{e&&e(!0)}),this.$datepicker.addEventListener("transitionend",this._onTransitionEnd,{once:!0})}),F(this,"_cancelScheduledCall",()=>{this.$datepicker.removeEventListener("transitionend",this._onTransitionEnd)}),F(this,"setViewDate",e=>{if(!((e=w(e))instanceof Date))return;if(d(e,this.viewDate))return;let t=this.viewDate;this.viewDate=e;let{onChangeViewDate:s}=this.opts;if(s){let{month:e,year:t}=this.parsedViewDate;s({month:e,year:t,decade:this.curDecade})}this.trigger(i.eventChangeViewDate,e,t)}),F(this,"setFocusDate",function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(!e||(e=w(e))instanceof Date)&&(a.focusDate=e,a.opts.range&&e&&a._handleRangeOnFocus(),a.trigger(i.eventChangeFocusDate,e,t))}),F(this,"setCurrentView",e=>{if(this.viewIndexes.includes(e)){if(this.currentView=e,this.elIsInput&&this.visible&&this.setPosition(void 0,!0),this.trigger(i.eventChangeCurrentView,e),!this.views[e]){let t=this.views[e]=new C({dp:this,opts:this.opts,type:e});this.shouldUpdateDOM&&this.$content.appendChild(t.$el)}this.opts.onChangeView&&this.opts.onChangeView(e)}}),F(this,"_updateLastSelectedDate",e=>{this.lastSelectedDate=e,this.trigger(i.eventChangeLastSelectedDate,e)}),F(this,"destroy",()=>{let{showEvent:e,isMobile:t}=this.opts,i=this.$datepicker.parentNode;i&&i.removeChild(this.$datepicker),this.$el.removeEventListener(e,this._onFocus),this.$el.removeEventListener("blur",this._onBlur),window.removeEventListener("resize",this._onResize),t&&this._removeMobileAttributes(),this.keyboardNav&&this.keyboardNav.destroy(),this.views=null,this.nav=null,this.$datepicker=null,this.opts=null,this.$customContainer=null,this.viewDate=null,this.focusDate=null,this.selectedDates=null,this.rangeDateFrom=null,this.rangeDateTo=null}),F(this,"update",e=>{let t=b({},this.opts);b(this.opts,e);let{timepicker:s,buttons:n,range:r,selectedDates:a,isMobile:o}=this.opts,l=this.visible||this.treatAsInline;this._createMinMaxDates(),this._limitViewDateByMaxMinDates(),this._handleLocale(),!t.selectedDates&&a&&this.selectDate(a),e.view&&this.setCurrentView(e.view),this._setInputValue(),t.range&&!r?(this.rangeDateTo=!1,this.rangeDateFrom=!1):!t.range&&r&&this.selectedDates.length&&(this.rangeDateFrom=this.selectedDates[0],this.rangeDateTo=this.selectedDates[1]),t.timepicker&&!s?(l&&this.timepicker.destroy(),this.timepicker=!1,this.$timepicker.parentNode.removeChild(this.$timepicker)):!t.timepicker&&s&&this._addTimepicker(),!t.buttons&&n?this._addButtons():t.buttons&&!n?(this.buttons.destroy(),this.$buttons.parentNode.removeChild(this.$buttons)):l&&t.buttons&&n&&this.buttons.clearHtml().render(),!t.isMobile&&o?(this.treatAsInline||j||this._createMobileOverlay(),this._addMobileAttributes(),this.visible&&this._showMobileOverlay()):t.isMobile&&!o&&(this._removeMobileAttributes(),this.visible&&(j.classList.remove("-active-"),"function"!=typeof this.opts.position&&this.setPosition())),l&&(this.nav.update(),this.views[this.currentView].render(),this.currentView===i.days&&this.views[this.currentView].renderDayNames())}),F(this,"isOtherMonth",e=>{let{month:t}=l(e);return t!==this.parsedViewDate.month}),F(this,"isOtherYear",e=>{let{year:t}=l(e);return t!==this.parsedViewDate.year}),F(this,"isOtherDecade",e=>{let{year:t}=l(e),[i,s]=h(this.viewDate);return t<i||t>s}),F(this,"_onChangeSelectedDate",e=>{let{silent:t}=e;setTimeout(()=>{this._setInputValue(),this.opts.onSelect&&!t&&this._triggerOnSelect()})}),F(this,"_onChangeFocusedDate",function(e){let{viewDateTransition:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e)return;let i=!1;t&&(i=a.isOtherMonth(e)||a.isOtherYear(e)||a.isOtherDecade(e)),i&&a.setViewDate(e)}),F(this,"_onChangeTime",e=>{let{hours:t,minutes:i}=e,s=new Date,{lastSelectedDate:n,opts:{onSelect:r}}=this,a=n;n||(a=s);let o=this.getCell(a,this.currentViewSingular),l=o&&o.adpCell;l&&l.isDisabled||(a.setHours(t),a.setMinutes(i),n?(this._setInputValue(),r&&this._triggerOnSelect()):this.selectDate(a))}),F(this,"_onFocus",e=>{this.visible||this.show()}),F(this,"_onBlur",e=>{this.inFocus||!this.visible||this.opts.isMobile||this.hide()}),F(this,"_onMouseDown",e=>{this.inFocus=!0}),F(this,"_onMouseUp",e=>{this.inFocus=!1,this.$el.focus()}),F(this,"_onResize",()=>{this.visible&&"function"!=typeof this.opts.position&&this.setPosition()}),F(this,"_onClickOverlay",()=>{this.visible&&this.hide()}),F(this,"isWeekend",e=>this.opts.weekends.includes(e)),F(this,"getClampedDate",e=>{let{minDate:t,maxDate:i}=this,s=e;return i&&p(e,i)?s=i:t&&f(e,t)&&(s=t),s}),this.$el=n(e),!this.$el)return;this.$datepicker=r({className:"air-datepicker"}),this.opts=b({},s,t),this.$customContainer=!!this.opts.container&&n(this.opts.container),this.$altField=n(this.opts.altField||!1),N||(N=n("body"));let{view:o,startDate:c}=this.opts;c||(this.opts.startDate=new Date),"INPUT"===this.$el.nodeName&&(this.elIsInput=!0),this.inited=!1,this.visible=!1,this.viewDate=w(this.opts.startDate),this.focusDate=!1,this.initialReadonly=this.$el.getAttribute("readonly"),this.customHide=!1,this.currentView=o,this.selectedDates=[],this.views={},this.keys=[],this.rangeDateFrom="",this.rangeDateTo="",this.timepickerIsActive=!1,this.treatAsInline=this.opts.inline||!this.elIsInput,this.init()}init(){let{opts:e,treatAsInline:t,opts:{inline:i,isMobile:s,selectedDates:n,keyboardNav:a,onlyTimepicker:o}}=this;var l;z||i||!this.elIsInput||(z=!0,R=r({className:l=B.defaultContainerId,id:l}),N.appendChild(R)),!s||j||t||this._createMobileOverlay(),this._handleLocale(),this._bindSubEvents(),this._createMinMaxDates(),this._limitViewDateByMaxMinDates(),this.elIsInput&&(i||this._bindEvents(),a&&!o&&(this.keyboardNav=new I({dp:this,opts:e}))),n&&this.selectDate(n,{silent:!0}),this.opts.visible&&!t&&this.show(),s&&!t&&this.$el.setAttribute("readonly",!0),t&&this._createComponents()}_createMobileOverlay(){j=r({className:"air-datepicker-overlay"}),R.appendChild(j)}_createComponents(){let{opts:e,treatAsInline:t,opts:{inline:i,buttons:s,timepicker:n,position:r,classes:a,onlyTimepicker:o,isMobile:l}}=this;this._buildBaseHtml(),this.elIsInput&&(i||this._setPositionClasses(r)),!i&&this.elIsInput||this.$datepicker.classList.add("-inline-"),a&&this.$datepicker.classList.add(...a.split(" ")),o&&this.$datepicker.classList.add("-only-timepicker-"),l&&!t&&this._addMobileAttributes(),this.views[this.currentView]=new C({dp:this,type:this.currentView,opts:e}),this.nav=new M({dp:this,opts:e}),n&&this._addTimepicker(),s&&this._addButtons(),this.$content.appendChild(this.views[this.currentView].$el),this.$nav.appendChild(this.nav.$el)}_destroyComponents(){for(let e in this.views)this.views[e].destroy();this.views={},this.nav.destroy(),this.timepicker&&this.timepicker.destroy()}_addMobileAttributes(){j.addEventListener("click",this._onClickOverlay),this.$datepicker.classList.add("-is-mobile-"),this.$el.setAttribute("readonly",!0)}_removeMobileAttributes(){j.removeEventListener("click",this._onClickOverlay),this.$datepicker.classList.remove("-is-mobile-"),this.initialReadonly||""===this.initialReadonly||this.$el.removeAttribute("readonly")}_createMinMaxDates(){let{minDate:e,maxDate:t}=this.opts;this.minDate=!!e&&w(e),this.maxDate=!!t&&w(t)}_addTimepicker(){this.$timepicker=r({className:"air-datepicker--time"}),this.$datepicker.appendChild(this.$timepicker),this.timepicker=new D({dp:this,opts:this.opts}),this.$timepicker.appendChild(this.timepicker.$el)}_addButtons(){this.$buttons=r({className:"air-datepicker--buttons"}),this.$datepicker.appendChild(this.$buttons),this.buttons=new A({dp:this,opts:this.opts}),this.$buttons.appendChild(this.buttons.$el)}_bindSubEvents(){this.on(i.eventChangeSelectedDate,this._onChangeSelectedDate),this.on(i.eventChangeFocusDate,this._onChangeFocusedDate),this.on(i.eventChangeTime,this._onChangeTime)}_buildBaseHtml(){let{inline:e}=this.opts;var t,i;this.elIsInput?e?(t=this.$datepicker,(i=this.$el).parentNode.insertBefore(t,i.nextSibling)):this.$container.appendChild(this.$datepicker):this.$el.appendChild(this.$datepicker),this.$datepicker.innerHTML='<i class="air-datepicker--pointer"></i><div class="air-datepicker--navigation"></div><div class="air-datepicker--content"></div>',this.$content=n(".air-datepicker--content",this.$datepicker),this.$pointer=n(".air-datepicker--pointer",this.$datepicker),this.$nav=n(".air-datepicker--navigation",this.$datepicker)}_handleLocale(){let{locale:e,dateFormat:t,firstDay:i,timepicker:s,onlyTimepicker:n,timeFormat:r,dateTimeSeparator:a}=this.opts;var o;this.locale=(o=e,JSON.parse(JSON.stringify(o))),t&&(this.locale.dateFormat=t),void 0!==r&&""!==r&&(this.locale.timeFormat=r);let{timeFormat:l}=this.locale;if(""!==i&&(this.locale.firstDay=i),s&&"function"!=typeof t){let e=l?a:"";this.locale.dateFormat=[this.locale.dateFormat,l||""].join(e)}n&&"function"!=typeof t&&(this.locale.dateFormat=this.locale.timeFormat)}_setPositionClasses(e){if("function"==typeof e)return void this.$datepicker.classList.add("-custom-position-");let t=(e=e.split(" "))[0],i=e[1],s="air-datepicker -".concat(t,"-").concat(i,"- -from-").concat(t,"-");this.$datepicker.classList.add(...s.split(" "))}_bindEvents(){this.$el.addEventListener(this.opts.showEvent,this._onFocus),this.$el.addEventListener("blur",this._onBlur),this.$datepicker.addEventListener("mousedown",this._onMouseDown),this.$datepicker.addEventListener("mouseup",this._onMouseUp),window.addEventListener("resize",this._onResize)}_limitViewDateByMaxMinDates(){let{viewDate:e,minDate:t,maxDate:i}=this;i&&p(e,i)&&this.setViewDate(i),t&&f(e,t)&&this.setViewDate(t)}formatDate(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.viewDate,t=arguments.length>1?arguments[1]:void 0;if(!((e=w(e))instanceof Date))return;let i=t,s=this.locale,n=l(e),r=h(e),a=B.replacer,o="am";this.opts.timepicker&&this.timepicker&&(o=this.timepicker.getDayPeriod(e).dayPeriod);let c={T:e.getTime(),m:n.minutes,mm:n.fullMinutes,h:n.hours12,hh:n.fullHours12,H:n.hours,HH:n.fullHours,aa:o,AA:o.toUpperCase(),E:s.daysShort[n.day],EEEE:s.days[n.day],d:n.date,dd:n.fullDate,M:n.month+1,MM:n.fullMonth,MMM:s.monthsShort[n.month],MMMM:s.months[n.month],yy:n.year.toString().slice(-2),yyyy:n.year,yyyy1:r[0],yyyy2:r[1]};for(let[e,t]of Object.entries(c))i=a(i,x(e),t);return i}down(e){this._handleUpDownActions(e,"down")}up(e){this._handleUpDownActions(e,"up")}selectDate(e){let t,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{currentView:n,parsedViewDate:r,selectedDates:a}=this,{updateTime:o}=s,{moveToOtherMonthsOnSelect:l,moveToOtherYearsOnSelect:c,multipleDates:h,range:u,autoClose:d}=this.opts,f=a.length;if(Array.isArray(e))return e.forEach(e=>{this.selectDate(e,s)}),new Promise(e=>{setTimeout(e)});if((e=w(e))instanceof Date){if(n===i.days&&e.getMonth()!==r.month&&l&&(t=new Date(e.getFullYear(),e.getMonth(),1)),n===i.years&&e.getFullYear()!==r.year&&c&&(t=new Date(e.getFullYear(),0,1)),t&&this.setViewDate(t),h&&!u){if(f===h)return;this._checkIfDateIsSelected(e)||a.push(e)}else if(u)switch(f){case 1:a.push(e),this.rangeDateTo||(this.rangeDateTo=e),p(this.rangeDateFrom,this.rangeDateTo)&&(this.rangeDateTo=this.rangeDateFrom,this.rangeDateFrom=e),this.selectedDates=[this.rangeDateFrom,this.rangeDateTo];break;case 2:this.selectedDates=[e],this.rangeDateFrom=e,this.rangeDateTo="";break;default:this.selectedDates=[e],this.rangeDateFrom=e}else this.selectedDates=[e];return this.trigger(i.eventChangeSelectedDate,{action:i.actionSelectDate,silent:null==s?void 0:s.silent,date:e,updateTime:o}),this._updateLastSelectedDate(e),d&&!this.timepickerIsActive&&this.visible&&(h||u?u&&1===f&&this.hide():this.hide()),new Promise(e=>{setTimeout(e)})}}unselectDate(e){let t=this.selectedDates,s=this;if((e=w(e))instanceof Date)return t.some((n,r)=>{if(d(n,e))return t.splice(r,1),s.selectedDates.length?s._updateLastSelectedDate(s.selectedDates[s.selectedDates.length-1]):(s.rangeDateFrom="",s.rangeDateTo="",s._updateLastSelectedDate(!1)),this.trigger(i.eventChangeSelectedDate,{action:i.actionUnselectDate,date:e}),!0})}replaceDate(e,t){let s=this.selectedDates.find(t=>d(t,e,this.currentView)),n=this.selectedDates.indexOf(s);n<0||d(this.selectedDates[n],t,this.currentView)||(this.selectedDates[n]=t,this.trigger(i.eventChangeSelectedDate,{action:i.actionSelectDate,date:t,updateTime:!0}),this._updateLastSelectedDate(t))}clear(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.selectedDates=[],this.rangeDateFrom=!1,this.rangeDateTo=!1,this.trigger(i.eventChangeSelectedDate,{action:i.actionUnselectDate,silent:e.silent}),new Promise(e=>{setTimeout(e)})}show(){let{onShow:e,isMobile:t}=this.opts;this._cancelScheduledCall(),this.visible||this.hideAnimation||this._createComponents(),this.setPosition(this.opts.position),this.$datepicker.classList.add("-active-"),this.visible=!0,e&&this._scheduleCallAfterTransition(e),t&&this._showMobileOverlay()}hide(){let{onHide:e,isMobile:t}=this.opts,i=this._hasTransition();this.visible=!1,this.hideAnimation=!0,this.$datepicker.classList.remove("-active-"),this.customHide&&this.customHide(),this.elIsInput&&this.$el.blur(),this._scheduleCallAfterTransition(t=>{!this.customHide&&(t&&i||!t&&!i)&&this._finishHide(),e&&e(t)}),t&&j.classList.remove("-active-")}_triggerOnSelect(){let e=[],t=[],{selectedDates:i,locale:s,opts:{onSelect:n,multipleDates:r,range:a}}=this,o=r||a,l="function"==typeof s.dateFormat;i.length&&(e=i.map(m),t=l?r?s.dateFormat(e):e.map(e=>s.dateFormat(e)):e.map(e=>this.formatDate(e,s.dateFormat))),n({date:o?e:e[0],formattedDate:o?t:t[0],datepicker:this})}_handleAlreadySelectedDates(e,t){let{range:i,toggleSelected:s}=this.opts;i?s?this.unselectDate(t):2!==this.selectedDates.length&&this.selectDate(t):s&&this.unselectDate(t),s||this._updateLastSelectedDate(e)}_handleUpDownActions(e,t){if(!((e=w(e||this.focusDate||this.viewDate))instanceof Date))return;let i="up"===t?this.viewIndex+1:this.viewIndex-1;i>2&&(i=2),i<0&&(i=0),this.setViewDate(new Date(e.getFullYear(),e.getMonth(),1)),this.setCurrentView(this.viewIndexes[i])}_handleRangeOnFocus(){1===this.selectedDates.length&&(p(this.selectedDates[0],this.focusDate)?(this.rangeDateTo=this.selectedDates[0],this.rangeDateFrom=this.focusDate):(this.rangeDateTo=this.focusDate,this.rangeDateFrom=this.selectedDates[0]))}getCell(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.day;if(!((e=w(e))instanceof Date))return;let{year:s,month:n,date:r}=l(e),a='[data-year="'.concat(s,'"]'),o='[data-month="'.concat(n,'"]'),c='[data-date="'.concat(r,'"]'),h={[i.day]:"".concat(a).concat(o).concat(c),[i.month]:"".concat(a).concat(o),[i.year]:"".concat(a)};return this.views[this.currentView].$el.querySelector(h[t])}_showMobileOverlay(){j.classList.add("-active-")}_hasTransition(){return window.getComputedStyle(this.$datepicker).getPropertyValue("transition-duration").split(", ").reduce((e,t)=>parseFloat(t)+e,0)>0}get shouldUpdateDOM(){return this.visible||this.treatAsInline}get parsedViewDate(){return l(this.viewDate)}get currentViewSingular(){return this.currentView.slice(0,-1)}get curDecade(){return h(this.viewDate)}get viewIndex(){return this.viewIndexes.indexOf(this.currentView)}get isFinalView(){return this.currentView===i.years}get hasSelectedDates(){return this.selectedDates.length>0}get isMinViewReached(){return this.currentView===this.opts.minView||this.currentView===i.days}get $container(){return this.$customContainer||R}static replacer(e,t,i){return e.replace(t,function(e,t,s,n){return t+i+n})}}var V;return F(B,"defaults",s),F(B,"version","3.2.1"),F(B,"defaultContainerId","air-datepicker-global-container"),V=B.prototype,Object.assign(V,$),t.default}()});var markerClusterer=function(e){"use strict";function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var i=0;i<t.length;i++){var s=t[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}function s(e,t,s){return t&&i(e.prototype,t),s&&i(e,s),e}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}function r(e){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function o(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var i,s=r(e);if(t){var n=r(this).constructor;i=Reflect.construct(s,arguments,n)}else i=s.apply(this,arguments);return function(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}(this,i)}}function l(e){return function(e){if(Array.isArray(e))return h(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||c(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){if(e){if("string"==typeof e)return h(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?h(e,t):void 0}}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,s=new Array(t);i<t;i++)s[i]=e[i];return s}var u="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},d=function(e){return e&&e.Math==Math&&e},p=d("object"==typeof globalThis&&globalThis)||d("object"==typeof window&&window)||d("object"==typeof self&&self)||d("object"==typeof u&&u)||function(){return this}()||Function("return this")(),f={},m=function(e){try{return!!e()}catch(e){return!0}},g=!m(function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}),v=!m(function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")}),y=v,b=Function.prototype.call,w=y?b.bind(b):function(){return b.apply(b,arguments)},x={},_={}.propertyIsEnumerable,k=Object.getOwnPropertyDescriptor,E=k&&!_.call({1:2},1);x.f=E?function(e){var t=k(this,e);return!!t&&t.enumerable}:_;var S,C,T=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}},M=v,P=Function.prototype,A=P.bind,O=P.call,D=M&&A.bind(O,O),L=M?function(e){return e&&D(e)}:function(e){return e&&function(){return O.apply(e,arguments)}},I=L,$=I({}.toString),F=I("".slice),N=function(e){return F($(e),8,-1)},R=m,j=N,z=Object,B=L("".split),V=R(function(){return!z("z").propertyIsEnumerable(0)})?function(e){return"String"==j(e)?B(e,""):z(e)}:z,H=TypeError,W=function(e){if(null==e)throw H("Can't call method on "+e);return e},Y=V,q=W,U=function(e){return Y(q(e))},G=function(e){return"function"==typeof e},X=G,K=function(e){return"object"==typeof e?null!==e:X(e)},Z=p,J=G,Q=function(e,t){return arguments.length<2?function(e){return J(e)?e:void 0}(Z[e]):Z[e]&&Z[e][t]},ee=L({}.isPrototypeOf),te=p,ie=Q("navigator","userAgent")||"",se=te.process,ne=te.Deno,re=se&&se.versions||ne&&ne.version,ae=re&&re.v8;ae&&(C=(S=ae.split("."))[0]>0&&S[0]<4?1:+(S[0]+S[1])),!C&&ie&&(!(S=ie.match(/Edge\/(\d+)/))||S[1]>=74)&&(S=ie.match(/Chrome\/(\d+)/))&&(C=+S[1]);var oe=C,le=oe,ce=m,he=!!Object.getOwnPropertySymbols&&!ce(function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&le&&le<41}),ue=he&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,de=Q,pe=G,fe=ee,me=Object,ge=ue?function(e){return"symbol"==typeof e}:function(e){var t=de("Symbol");return pe(t)&&fe(t.prototype,me(e))},ve=String,ye=function(e){try{return ve(e)}catch(e){return"Object"}},be=G,we=ye,xe=TypeError,_e=function(e){if(be(e))return e;throw xe(we(e)+" is not a function")},ke=_e,Ee=w,Se=G,Ce=K,Te=TypeError,Me={exports:{}},Pe=p,Ae=Object.defineProperty,Oe=function(e,t){try{Ae(Pe,e,{value:t,configurable:!0,writable:!0})}catch(i){Pe[e]=t}return t},De=Oe,Le="__core-js_shared__",Ie=p[Le]||De(Le,{}),$e=Ie;(Me.exports=function(e,t){return $e[e]||($e[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.24.1",mode:"global",copyright:"© 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.24.1/LICENSE",source:"https://github.com/zloirock/core-js"});var Fe=W,Ne=Object,Re=function(e){return Ne(Fe(e))},je=Re,ze=L({}.hasOwnProperty),Be=Object.hasOwn||function(e,t){return ze(je(e),t)},Ve=L,He=0,We=Math.random(),Ye=Ve(1..toString),qe=function(e){return"Symbol("+(void 0===e?"":e)+")_"+Ye(++He+We,36)},Ue=p,Ge=Me.exports,Xe=Be,Ke=qe,Ze=he,Je=ue,Qe=Ge("wks"),et=Ue.Symbol,tt=et&&et.for,it=Je?et:et&&et.withoutSetter||Ke,st=function(e){if(!Xe(Qe,e)||!Ze&&"string"!=typeof Qe[e]){var t="Symbol."+e;Ze&&Xe(et,e)?Qe[e]=et[e]:Qe[e]=Je&&tt?tt(t):it(t)}return Qe[e]},nt=w,rt=K,at=ge,ot=TypeError,lt=st("toPrimitive"),ct=function(e,t){if(!rt(e)||at(e))return e;var i,s=function(e,t){var i=e[t];return null==i?void 0:ke(i)}(e,lt);if(s){if(void 0===t&&(t="default"),i=nt(s,e,t),!rt(i)||at(i))return i;throw ot("Can't convert object to primitive value")}return void 0===t&&(t="number"),function(e,t){var i,s;if("string"===t&&Se(i=e.toString)&&!Ce(s=Ee(i,e)))return s;if(Se(i=e.valueOf)&&!Ce(s=Ee(i,e)))return s;if("string"!==t&&Se(i=e.toString)&&!Ce(s=Ee(i,e)))return s;throw Te("Can't convert object to primitive value")}(e,t)},ht=ct,ut=ge,dt=function(e){var t=ht(e,"string");return ut(t)?t:t+""},pt=K,ft=p.document,mt=pt(ft)&&pt(ft.createElement),gt=function(e){return mt?ft.createElement(e):{}},vt=gt,yt=!g&&!m(function(){return 7!=Object.defineProperty(vt("div"),"a",{get:function(){return 7}}).a}),bt=g,wt=w,xt=x,_t=T,kt=U,Et=dt,St=Be,Ct=yt,Tt=Object.getOwnPropertyDescriptor;f.f=bt?Tt:function(e,t){if(e=kt(e),t=Et(t),Ct)try{return Tt(e,t)}catch(e){}if(St(e,t))return _t(!wt(xt.f,e,t),e[t])};var Mt={},Pt=g&&m(function(){return 42!=Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype}),At=K,Ot=String,Dt=TypeError,Lt=function(e){if(At(e))return e;throw Dt(Ot(e)+" is not an object")},It=g,$t=yt,Ft=Pt,Nt=Lt,Rt=dt,jt=TypeError,zt=Object.defineProperty,Bt=Object.getOwnPropertyDescriptor;Mt.f=It?Ft?function(e,t,i){if(Nt(e),t=Rt(t),Nt(i),"function"==typeof e&&"prototype"===t&&"value"in i&&"writable"in i&&!i.writable){var s=Bt(e,t);s&&s.writable&&(e[t]=i.value,i={configurable:"configurable"in i?i.configurable:s.configurable,enumerable:"enumerable"in i?i.enumerable:s.enumerable,writable:!1})}return zt(e,t,i)}:zt:function(e,t,i){if(Nt(e),t=Rt(t),Nt(i),$t)try{return zt(e,t,i)}catch(e){}if("get"in i||"set"in i)throw jt("Accessors not supported");return"value"in i&&(e[t]=i.value),e};var Vt=Mt,Ht=T,Wt=g?function(e,t,i){return Vt.f(e,t,Ht(1,i))}:function(e,t,i){return e[t]=i,e},Yt={exports:{}},qt=g,Ut=Be,Gt=Function.prototype,Xt=qt&&Object.getOwnPropertyDescriptor,Kt=Ut(Gt,"name"),Zt={EXISTS:Kt,PROPER:Kt&&"something"===function(){}.name,CONFIGURABLE:Kt&&(!qt||qt&&Xt(Gt,"name").configurable)},Jt=G,Qt=Ie,ei=L(Function.toString);Jt(Qt.inspectSource)||(Qt.inspectSource=function(e){return ei(e)});var ti,ii,si,ni=Qt.inspectSource,ri=G,ai=ni,oi=p.WeakMap,li=ri(oi)&&/native code/.test(ai(oi)),ci=Me.exports,hi=qe,ui=ci("keys"),di=function(e){return ui[e]||(ui[e]=hi(e))},pi={},fi=li,mi=p,gi=L,vi=K,yi=Wt,bi=Be,wi=Ie,xi=di,_i=pi,ki="Object already initialized",Ei=mi.TypeError,Si=mi.WeakMap;if(fi||wi.state){var Ci=wi.state||(wi.state=new Si),Ti=gi(Ci.get),Mi=gi(Ci.has),Pi=gi(Ci.set);ti=function(e,t){if(Mi(Ci,e))throw new Ei(ki);return t.facade=e,Pi(Ci,e,t),t},ii=function(e){return Ti(Ci,e)||{}},si=function(e){return Mi(Ci,e)}}else{var Ai=xi("state");_i[Ai]=!0,ti=function(e,t){if(bi(e,Ai))throw new Ei(ki);return t.facade=e,yi(e,Ai,t),t},ii=function(e){return bi(e,Ai)?e[Ai]:{}},si=function(e){return bi(e,Ai)}}var Oi={set:ti,get:ii,has:si,enforce:function(e){return si(e)?ii(e):ti(e,{})},getterFor:function(e){return function(t){var i;if(!vi(t)||(i=ii(t)).type!==e)throw Ei("Incompatible receiver, "+e+" required");return i}}},Di=m,Li=G,Ii=Be,$i=g,Fi=Zt.CONFIGURABLE,Ni=ni,Ri=Oi.enforce,ji=Oi.get,zi=Object.defineProperty,Bi=$i&&!Di(function(){return 8!==zi(function(){},"length",{value:8}).length}),Vi=String(String).split("String"),Hi=Yt.exports=function(e,t,i){"Symbol("===String(t).slice(0,7)&&(t="["+String(t).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),i&&i.getter&&(t="get "+t),i&&i.setter&&(t="set "+t),(!Ii(e,"name")||Fi&&e.name!==t)&&($i?zi(e,"name",{value:t,configurable:!0}):e.name=t),Bi&&i&&Ii(i,"arity")&&e.length!==i.arity&&zi(e,"length",{value:i.arity});try{i&&Ii(i,"constructor")&&i.constructor?$i&&zi(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch(e){}var s=Ri(e);return Ii(s,"source")||(s.source=Vi.join("string"==typeof t?t:"")),e};Function.prototype.toString=Hi(function(){return Li(this)&&ji(this).source||Ni(this)},"toString");var Wi=G,Yi=Mt,qi=Yt.exports,Ui=Oe,Gi=function(e,t,i,s){s||(s={});var n=s.enumerable,r=void 0!==s.name?s.name:t;if(Wi(i)&&qi(i,r,s),s.global)n?e[t]=i:Ui(t,i);else{try{s.unsafe?e[t]&&(n=!0):delete e[t]}catch(e){}n?e[t]=i:Yi.f(e,t,{value:i,enumerable:!1,configurable:!s.nonConfigurable,writable:!s.nonWritable})}return e},Xi={},Ki=Math.ceil,Zi=Math.floor,Ji=Math.trunc||function(e){var t=+e;return(t>0?Zi:Ki)(t)},Qi=function(e){var t=+e;return t!=t||0===t?0:Ji(t)},es=Qi,ts=Math.max,is=Math.min,ss=function(e,t){var i=es(e);return i<0?ts(i+t,0):is(i,t)},ns=Qi,rs=Math.min,as=function(e){return function(e){return e>0?rs(ns(e),9007199254740991):0}(e.length)},os=U,ls=ss,cs=as,hs=function(e){return function(t,i,s){var n,r=os(t),a=cs(r),o=ls(s,a);if(e&&i!=i){for(;a>o;)if((n=r[o++])!=n)return!0}else for(;a>o;o++)if((e||o in r)&&r[o]===i)return e||o||0;return!e&&-1}},us={includes:hs(!0),indexOf:hs(!1)},ds=Be,ps=U,fs=us.indexOf,ms=pi,gs=L([].push),vs=function(e,t){var i,s=ps(e),n=0,r=[];for(i in s)!ds(ms,i)&&ds(s,i)&&gs(r,i);for(;t.length>n;)ds(s,i=t[n++])&&(~fs(r,i)||gs(r,i));return r},ys=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],bs=vs,ws=ys.concat("length","prototype");Xi.f=Object.getOwnPropertyNames||function(e){return bs(e,ws)};var xs={};xs.f=Object.getOwnPropertySymbols;var _s=Q,ks=Xi,Es=xs,Ss=Lt,Cs=L([].concat),Ts=_s("Reflect","ownKeys")||function(e){var t=ks.f(Ss(e)),i=Es.f;return i?Cs(t,i(e)):t},Ms=Be,Ps=Ts,As=f,Os=Mt,Ds=m,Ls=G,Is=/#|\.prototype\./,$s=function(e,t){var i=Ns[Fs(e)];return i==js||i!=Rs&&(Ls(t)?Ds(t):!!t)},Fs=$s.normalize=function(e){return String(e).replace(Is,".").toLowerCase()},Ns=$s.data={},Rs=$s.NATIVE="N",js=$s.POLYFILL="P",zs=$s,Bs=p,Vs=f.f,Hs=Wt,Ws=Gi,Ys=Oe,qs=function(e,t,i){for(var s=Ps(t),n=Os.f,r=As.f,a=0;a<s.length;a++){var o=s[a];Ms(e,o)||i&&Ms(i,o)||n(e,o,r(t,o))}},Us=zs,Gs=function(e,t){var i,s,n,r,a,o=e.target,l=e.global,c=e.stat;if(i=l?Bs:c?Bs[o]||Ys(o,{}):(Bs[o]||{}).prototype)for(s in t){if(r=t[s],n=e.dontCallGetSet?(a=Vs(i,s))&&a.value:i[s],!Us(l?s:o+(c?".":"#")+s,e.forced)&&void 0!==n){if(typeof r==typeof n)continue;qs(r,n)}(e.sham||n&&n.sham)&&Hs(r,"sham",!0),Ws(i,s,r,e)}},Xs=_e,Ks=v,Zs=L(L.bind),Js=N,Qs=Array.isArray||function(e){return"Array"==Js(e)},en={};en[st("toStringTag")]="z";var tn="[object z]"===String(en),sn=tn,nn=G,rn=N,an=st("toStringTag"),on=Object,ln="Arguments"==rn(function(){return arguments}()),cn=sn?rn:function(e){var t,i,s;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(i=function(e,t){try{return e[t]}catch(e){}}(t=on(e),an))?i:ln?rn(t):"Object"==(s=rn(t))&&nn(t.callee)?"Arguments":s},hn=L,un=m,dn=G,pn=cn,fn=ni,mn=function(){},gn=[],vn=Q("Reflect","construct"),yn=/^\s*(?:class|function)\b/,bn=hn(yn.exec),wn=!yn.exec(mn),xn=function(e){if(!dn(e))return!1;try{return vn(mn,gn,e),!0}catch(e){return!1}},_n=function(e){if(!dn(e))return!1;switch(pn(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return wn||!!bn(yn,fn(e))}catch(e){return!0}};_n.sham=!0;var kn=!vn||un(function(){var e;return xn(xn.call)||!xn(Object)||!xn(function(){e=!0})||e})?_n:xn,En=Qs,Sn=kn,Cn=K,Tn=st("species"),Mn=Array,Pn=function(e,t){return new(function(e){var t;return En(e)&&(t=e.constructor,(Sn(t)&&(t===Mn||En(t.prototype))||Cn(t)&&null===(t=t[Tn]))&&(t=void 0)),void 0===t?Mn:t}(e))(0===t?0:t)},An=V,On=Re,Dn=as,Ln=Pn,In=L([].push),$n=function(e){var t=1==e,i=2==e,s=3==e,n=4==e,r=6==e,a=7==e,o=5==e||r;return function(l,c,h,u){for(var d,p,f=On(l),m=An(f),g=function(e,t){return Xs(e),void 0===t?e:Ks?Zs(e,t):function(){return e.apply(t,arguments)}}(c,h),v=Dn(m),y=0,b=u||Ln,w=t?b(l,v):i||a?b(l,0):void 0;v>y;y++)if((o||y in m)&&(p=g(d=m[y],y,f),e))if(t)w[y]=p;else if(p)switch(e){case 3:return!0;case 5:return d;case 6:return y;case 2:In(w,d)}else switch(e){case 4:return!1;case 7:In(w,d)}return r?-1:s||n?n:w}},Fn={forEach:$n(0),map:$n(1),filter:$n(2),some:$n(3),every:$n(4),find:$n(5),findIndex:$n(6),filterReject:$n(7)},Nn=m,Rn=oe,jn=st("species"),zn=function(e){return Rn>=51||!Nn(function(){var t=[];return(t.constructor={})[jn]=function(){return{foo:1}},1!==t[e](Boolean).foo})},Bn=Fn.map;function Vn(e,t){var i={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(i[s]=e[s]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(s=Object.getOwnPropertySymbols(e);n<s.length;n++)t.indexOf(s[n])<0&&Object.prototype.propertyIsEnumerable.call(e,s[n])&&(i[s[n]]=e[s[n]])}return i}Gs({target:"Array",proto:!0,forced:!zn("map")},{map:function(e){return Bn(this,e,arguments.length>1?arguments[1]:void 0)}});var Hn=_e,Wn=Re,Yn=V,qn=as,Un=TypeError,Gn=function(e){return function(t,i,s,n){Hn(i);var r=Wn(t),a=Yn(r),o=qn(r),l=e?o-1:0,c=e?-1:1;if(s<2)for(;;){if(l in a){n=a[l],l+=c;break}if(l+=c,e?l<0:o<=l)throw Un("Reduce of empty array with no initial value")}for(;e?l>=0:o>l;l+=c)l in a&&(n=i(n,a[l],l,r));return n}},Xn={left:Gn(!1),right:Gn(!0)},Kn=m,Zn=function(e,t){var i=[][e];return!!i&&Kn(function(){i.call(null,t||function(){return 1},1)})},Jn="process"==N(p.process),Qn=Xn.left,er=oe,tr=Jn;Gs({target:"Array",proto:!0,forced:!Zn("reduce")||!tr&&er>79&&er<83},{reduce:function(e){var t=arguments.length;return Qn(this,e,t,t>1?arguments[1]:void 0)}});var ir=cn,sr=tn?{}.toString:function(){return"[object "+ir(this)+"]"};tn||Gi(Object.prototype,"toString",sr,{unsafe:!0});var nr=Fn.filter;Gs({target:"Array",proto:!0,forced:!zn("filter")},{filter:function(e){return nr(this,e,arguments.length>1?arguments[1]:void 0)}});var rr=function(){function e(i){var s=i.markers,n=i.position;t(this,e),this.markers=s,n&&(n instanceof google.maps.LatLng?this._position=n:this._position=new google.maps.LatLng(n))}return s(e,[{key:"bounds",get:function(){if(0!==this.markers.length||this._position)return this.markers.reduce(function(e,t){return e.extend(t.getPosition())},new google.maps.LatLngBounds(this._position,this._position))}},{key:"position",get:function(){return this._position||this.bounds.getCenter()}},{key:"count",get:function(){return this.markers.filter(function(e){return e.getVisible()}).length}},{key:"push",value:function(e){this.markers.push(e)}},{key:"delete",value:function(){this.marker&&(this.marker.setMap(null),delete this.marker),this.markers.length=0}}]),e}(),ar=function(e,t,i,s){var n=or(e.getBounds(),t,s);return i.filter(function(e){return n.contains(e.getPosition())})},or=function(e,t,i){var s=cr(e,t),n=s.northEast,r=s.southWest,a=hr({northEast:n,southWest:r},i);return ur(a,t)},lr=function(e,t){var i=(t.lat-e.lat)*Math.PI/180,s=(t.lng-e.lng)*Math.PI/180,n=Math.sin(i/2)*Math.sin(i/2)+Math.cos(e.lat*Math.PI/180)*Math.cos(t.lat*Math.PI/180)*Math.sin(s/2)*Math.sin(s/2);return 2*Math.atan2(Math.sqrt(n),Math.sqrt(1-n))*6371},cr=function(e,t){return{northEast:t.fromLatLngToDivPixel(e.getNorthEast()),southWest:t.fromLatLngToDivPixel(e.getSouthWest())}},hr=function(e,t){var i=e.northEast,s=e.southWest;return i.x+=t,i.y-=t,s.x-=t,s.y+=t,{northEast:i,southWest:s}},ur=function(e,t){var i=e.northEast,s=e.southWest,n=new google.maps.LatLngBounds;return n.extend(t.fromDivPixelToLatLng(i)),n.extend(t.fromDivPixelToLatLng(s)),n},dr=function(){function e(i){var s=i.maxZoom,n=void 0===s?16:s;t(this,e),this.maxZoom=n}return s(e,[{key:"noop",value:function(e){var t=e.markers;return fr(t)}}]),e}(),pr=function(e){n(r,dr);var i=o(r);function r(e){var s;t(this,r);var n=e.viewportPadding,a=void 0===n?60:n,o=Vn(e,["viewportPadding"]);return(s=i.call(this,o)).viewportPadding=60,s.viewportPadding=a,s}return s(r,[{key:"calculate",value:function(e){var t=e.markers,i=e.map,s=e.mapCanvasProjection;return i.getZoom()>=this.maxZoom?{clusters:this.noop({markers:t,map:i,mapCanvasProjection:s}),changed:!1}:{clusters:this.cluster({markers:ar(i,s,t,this.viewportPadding),map:i,mapCanvasProjection:s})}}}]),r}(),fr=function(e){return e.map(function(e){return new rr({position:e.getPosition(),markers:[e]})})},mr=gt("span").classList,gr=mr&&mr.constructor&&mr.constructor.prototype,vr=gr===Object.prototype?void 0:gr,yr=Fn.forEach,br=p,wr={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},xr=vr,_r=Zn("forEach")?[].forEach:function(e){return yr(this,e,arguments.length>1?arguments[1]:void 0)},kr=Wt,Er=function(e){if(e&&e.forEach!==_r)try{kr(e,"forEach",_r)}catch(t){e.forEach=_r}};for(var Sr in wr)wr[Sr]&&Er(br[Sr]&&br[Sr].prototype);Er(xr);var Cr=w;Gs({target:"URL",proto:!0,enumerable:!0},{toJSON:function(){return Cr(URL.prototype.toString,this)}});var Tr=function e(t,i){if(t===i)return!0;if(t&&i&&"object"==typeof t&&"object"==typeof i){if(t.constructor!==i.constructor)return!1;var s,n,r;if(Array.isArray(t)){if((s=t.length)!=i.length)return!1;for(n=s;0!=n--;)if(!e(t[n],i[n]))return!1;return!0}if(t.constructor===RegExp)return t.source===i.source&&t.flags===i.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===i.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===i.toString();if((s=(r=Object.keys(t)).length)!==Object.keys(i).length)return!1;for(n=s;0!=n--;)if(!Object.prototype.hasOwnProperty.call(i,r[n]))return!1;for(n=s;0!=n--;){var a=r[n];if(!e(t[a],i[a]))return!1}return!0}return t!=t&&i!=i},Mr=function(e){n(r,pr);var i=o(r);function r(e){var s;t(this,r);var n=e.maxDistance,a=void 0===n?4e4:n,o=e.gridSize,l=void 0===o?40:o,c=Vn(e,["maxDistance","gridSize"]);return(s=i.call(this,c)).clusters=[],s.maxDistance=a,s.gridSize=l,s.state={zoom:null},s}return s(r,[{key:"calculate",value:function(e){var t=e.markers,i=e.map,s=e.mapCanvasProjection,n={zoom:i.getZoom()},r=!1;return this.state.zoom>this.maxZoom&&n.zoom>this.maxZoom||(r=!Tr(this.state,n)),this.state=n,i.getZoom()>=this.maxZoom?{clusters:this.noop({markers:t,map:i,mapCanvasProjection:s}),changed:r}:{clusters:this.cluster({markers:ar(i,s,t,this.viewportPadding),map:i,mapCanvasProjection:s})}}},{key:"cluster",value:function(e){var t=this,i=e.markers,s=e.map,n=e.mapCanvasProjection;return this.clusters=[],i.forEach(function(e){t.addToClosestCluster(e,s,n)}),this.clusters}},{key:"addToClosestCluster",value:function(e,t,i){for(var s=this.maxDistance,n=null,r=0;r<this.clusters.length;r++){var a=this.clusters[r],o=lr(a.bounds.getCenter().toJSON(),e.getPosition().toJSON());o<s&&(s=o,n=a)}if(n&&or(n.bounds,i,this.gridSize).contains(e.getPosition()))n.push(e);else{var l=new rr({markers:[e]});this.clusters.push(l)}}}]),r}(),Pr=function(e){n(r,dr);var i=o(r);function r(e){t(this,r);var s=Vn(e,[]);return i.call(this,s)}return s(r,[{key:"calculate",value:function(e){var t=e.markers,i=e.map,s=e.mapCanvasProjection;return{clusters:this.cluster({markers:t,map:i,mapCanvasProjection:s}),changed:!1}}},{key:"cluster",value:function(e){return this.noop(e)}}]),r}(),Ar=vs,Or=ys,Dr=Object.keys||function(e){return Ar(e,Or)},Lr=g,Ir=L,$r=w,Fr=m,Nr=Dr,Rr=xs,jr=x,zr=Re,Br=V,Vr=Object.assign,Hr=Object.defineProperty,Wr=Ir([].concat),Yr=!Vr||Fr(function(){if(Lr&&1!==Vr({b:1},Vr(Hr({},"a",{enumerable:!0,get:function(){Hr(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},i=Symbol(),s="abcdefghijklmnopqrst";return e[i]=7,s.split("").forEach(function(e){t[e]=e}),7!=Vr({},e)[i]||Nr(Vr({},t)).join("")!=s})?function(e,t){for(var i=zr(e),s=arguments.length,n=1,r=Rr.f,a=jr.f;s>n;)for(var o,l=Br(arguments[n++]),c=r?Wr(Nr(l),r(l)):Nr(l),h=c.length,u=0;h>u;)o=c[u++],Lr&&!$r(a,l,o)||(i[o]=l[o]);return i}:Vr;Gs({target:"Object",stat:!0,arity:2,forced:Object.assign!==Yr},{assign:Yr});var qr={exports:{}};qr.exports=function(){function e(i,s,n,r,a,o){if(!(a-r<=n)){var l=r+a>>1;t(i,s,l,r,a,o%2),e(i,s,n,r,l-1,o+1),e(i,s,n,l+1,a,o+1)}}function t(e,s,n,r,a,o){for(;a>r;){if(a-r>600){var l=a-r+1,c=n-r+1,h=Math.log(l),u=.5*Math.exp(2*h/3),d=.5*Math.sqrt(h*u*(l-u)/l)*(c-l/2<0?-1:1);t(e,s,n,Math.max(r,Math.floor(n-c*u/l+d)),Math.min(a,Math.floor(n+(l-c)*u/l+d)),o)}var p=s[2*n+o],f=r,m=a;for(i(e,s,r,n),s[2*a+o]>p&&i(e,s,r,a);f<m;){for(i(e,s,f,m),f++,m--;s[2*f+o]<p;)f++;for(;s[2*m+o]>p;)m--}s[2*r+o]===p?i(e,s,r,m):i(e,s,++m,a),m<=n&&(r=m+1),n<=m&&(a=m-1)}}function i(e,t,i,n){s(e,i,n),s(t,2*i,2*n),s(t,2*i+1,2*n+1)}function s(e,t,i){var s=e[t];e[t]=e[i],e[i]=s}function n(e,t,i,s){var n=e-i,r=t-s;return n*n+r*r}var r=function(e){return e[0]},a=function(e){return e[1]},o=function(t,i,s,n,o){void 0===i&&(i=r),void 0===s&&(s=a),void 0===n&&(n=64),void 0===o&&(o=Float64Array),this.nodeSize=n,this.points=t;for(var l=t.length<65536?Uint16Array:Uint32Array,c=this.ids=new l(t.length),h=this.coords=new o(2*t.length),u=0;u<t.length;u++)c[u]=u,h[2*u]=i(t[u]),h[2*u+1]=s(t[u]);e(c,h,n,0,c.length-1,0)};return o.prototype.range=function(e,t,i,s){return function(e,t,i,s,n,r,a){for(var o,l,c=[0,e.length-1,0],h=[];c.length;){var u=c.pop(),d=c.pop(),p=c.pop();if(d-p<=a)for(var f=p;f<=d;f++)o=t[2*f],l=t[2*f+1],o>=i&&o<=n&&l>=s&&l<=r&&h.push(e[f]);else{var m=Math.floor((p+d)/2);o=t[2*m],l=t[2*m+1],o>=i&&o<=n&&l>=s&&l<=r&&h.push(e[m]);var g=(u+1)%2;(0===u?i<=o:s<=l)&&(c.push(p),c.push(m-1),c.push(g)),(0===u?n>=o:r>=l)&&(c.push(m+1),c.push(d),c.push(g))}}return h}(this.ids,this.coords,e,t,i,s,this.nodeSize)},o.prototype.within=function(e,t,i){return function(e,t,i,s,r,a){for(var o=[0,e.length-1,0],l=[],c=r*r;o.length;){var h=o.pop(),u=o.pop(),d=o.pop();if(u-d<=a)for(var p=d;p<=u;p++)n(t[2*p],t[2*p+1],i,s)<=c&&l.push(e[p]);else{var f=Math.floor((d+u)/2),m=t[2*f],g=t[2*f+1];n(m,g,i,s)<=c&&l.push(e[f]);var v=(h+1)%2;(0===h?i-r<=m:s-r<=g)&&(o.push(d),o.push(f-1),o.push(v)),(0===h?i+r>=m:s+r>=g)&&(o.push(f+1),o.push(u),o.push(v))}}return l}(this.ids,this.coords,e,t,i,this.nodeSize)},o}();var Ur=qr.exports;const Gr={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:e=>e},Xr=Math.fround||(Kr=new Float32Array(1),e=>(Kr[0]=+e,Kr[0]));var Kr;class Zr{constructor(e){this.options=ra(Object.create(Gr),e),this.trees=new Array(this.options.maxZoom+1)}load(e){const{log:t,minZoom:i,maxZoom:s,nodeSize:n}=this.options;t&&console.time("total time");const r=`prepare ${e.length} points`;t&&console.time(r),this.points=e;let a=[];for(let t=0;t<e.length;t++)e[t].geometry&&a.push(Qr(e[t],t));this.trees[s+1]=new Ur(a,aa,oa,n,Float32Array),t&&console.timeEnd(r);for(let e=s;e>=i;e--){const i=+Date.now();a=this._cluster(a,e),this.trees[e]=new Ur(a,aa,oa,n,Float32Array),t&&console.log("z%d: %d clusters in %dms",e,a.length,+Date.now()-i)}return t&&console.timeEnd("total time"),this}getClusters(e,t){let i=((e[0]+180)%360+360)%360-180;const s=Math.max(-90,Math.min(90,e[1]));let n=180===e[2]?180:((e[2]+180)%360+360)%360-180;const r=Math.max(-90,Math.min(90,e[3]));if(e[2]-e[0]>=360)i=-180,n=180;else if(i>n){const e=this.getClusters([i,s,180,r],t),a=this.getClusters([-180,s,n,r],t);return e.concat(a)}const a=this.trees[this._limitZoom(t)],o=a.range(ia(i),sa(r),ia(n),sa(s)),l=[];for(const e of o){const t=a.points[e];l.push(t.numPoints?ea(t):this.points[t.index])}return l}getChildren(e){const t=this._getOriginId(e),i=this._getOriginZoom(e),s="No cluster with the specified id.",n=this.trees[i];if(!n)throw new Error(s);const r=n.points[t];if(!r)throw new Error(s);const a=this.options.radius/(this.options.extent*Math.pow(2,i-1)),o=n.within(r.x,r.y,a),l=[];for(const t of o){const i=n.points[t];i.parentId===e&&l.push(i.numPoints?ea(i):this.points[i.index])}if(0===l.length)throw new Error(s);return l}getLeaves(e,t,i){t=t||10,i=i||0;const s=[];return this._appendLeaves(s,e,t,i,0),s}getTile(e,t,i){const s=this.trees[this._limitZoom(e)],n=Math.pow(2,e),{extent:r,radius:a}=this.options,o=a/r,l=(i-o)/n,c=(i+1+o)/n,h={features:[]};return this._addTileFeatures(s.range((t-o)/n,l,(t+1+o)/n,c),s.points,t,i,n,h),0===t&&this._addTileFeatures(s.range(1-o/n,l,1,c),s.points,n,i,n,h),t===n-1&&this._addTileFeatures(s.range(0,l,o/n,c),s.points,-1,i,n,h),h.features.length?h:null}getClusterExpansionZoom(e){let t=this._getOriginZoom(e)-1;for(;t<=this.options.maxZoom;){const i=this.getChildren(e);if(t++,1!==i.length)break;e=i[0].properties.cluster_id}return t}_appendLeaves(e,t,i,s,n){const r=this.getChildren(t);for(const t of r){const r=t.properties;if(r&&r.cluster?n+r.point_count<=s?n+=r.point_count:n=this._appendLeaves(e,r.cluster_id,i,s,n):n<s?n++:e.push(t),e.length===i)break}return n}_addTileFeatures(e,t,i,s,n,r){for(const a of e){const e=t[a],o=e.numPoints;let l,c,h;if(o)l=ta(e),c=e.x,h=e.y;else{const t=this.points[e.index];l=t.properties,c=ia(t.geometry.coordinates[0]),h=sa(t.geometry.coordinates[1])}const u={type:1,geometry:[[Math.round(this.options.extent*(c*n-i)),Math.round(this.options.extent*(h*n-s))]],tags:l};let d;o?d=e.id:this.options.generateId?d=e.index:this.points[e.index].id&&(d=this.points[e.index].id),void 0!==d&&(u.id=d),r.features.push(u)}}_limitZoom(e){return Math.max(this.options.minZoom,Math.min(Math.floor(+e),this.options.maxZoom+1))}_cluster(e,t){const i=[],{radius:s,extent:n,reduce:r,minPoints:a}=this.options,o=s/(n*Math.pow(2,t));for(let s=0;s<e.length;s++){const n=e[s];if(n.zoom<=t)continue;n.zoom=t;const l=this.trees[t+1],c=l.within(n.x,n.y,o),h=n.numPoints||1;let u=h;for(const e of c){const i=l.points[e];i.zoom>t&&(u+=i.numPoints||1)}if(u>h&&u>=a){let e=n.x*h,a=n.y*h,o=r&&h>1?this._map(n,!0):null;const d=(s<<5)+(t+1)+this.points.length;for(const i of c){const s=l.points[i];if(s.zoom<=t)continue;s.zoom=t;const c=s.numPoints||1;e+=s.x*c,a+=s.y*c,s.parentId=d,r&&(o||(o=this._map(n,!0)),r(o,this._map(s)))}n.parentId=d,i.push(Jr(e/u,a/u,d,u,o))}else if(i.push(n),u>1)for(const e of c){const s=l.points[e];s.zoom<=t||(s.zoom=t,i.push(s))}}return i}_getOriginId(e){return e-this.points.length>>5}_getOriginZoom(e){return(e-this.points.length)%32}_map(e,t){if(e.numPoints)return t?ra({},e.properties):e.properties;const i=this.points[e.index].properties,s=this.options.map(i);return t&&s===i?ra({},s):s}}function Jr(e,t,i,s,n){return{x:Xr(e),y:Xr(t),zoom:1/0,id:i,parentId:-1,numPoints:s,properties:n}}function Qr(e,t){const[i,s]=e.geometry.coordinates;return{x:Xr(ia(i)),y:Xr(sa(s)),zoom:1/0,index:t,parentId:-1}}function ea(e){return{type:"Feature",id:e.id,properties:ta(e),geometry:{type:"Point",coordinates:[(t=e.x,360*(t-.5)),na(e.y)]}};var t}function ta(e){const t=e.numPoints,i=t>=1e4?`${Math.round(t/1e3)}k`:t>=1e3?Math.round(t/100)/10+"k":t;return ra(ra({},e.properties),{cluster:!0,cluster_id:e.id,point_count:t,point_count_abbreviated:i})}function ia(e){return e/360+.5}function sa(e){const t=Math.sin(e*Math.PI/180),i=.5-.25*Math.log((1+t)/(1-t))/Math.PI;return i<0?0:i>1?1:i}function na(e){const t=(180-360*e)*Math.PI/180;return 360*Math.atan(Math.exp(t))/Math.PI-90}function ra(e,t){for(const i in t)e[i]=t[i];return e}function aa(e){return e.x}function oa(e){return e.y}var la=function(e){n(r,dr);var i=o(r);function r(e){var s;t(this,r);var n=e.maxZoom,a=e.radius,o=void 0===a?60:a,l=Vn(e,["maxZoom","radius"]);return(s=i.call(this,{maxZoom:n})).superCluster=new Zr(Object.assign({maxZoom:s.maxZoom,radius:o},l)),s.state={zoom:null},s}return s(r,[{key:"calculate",value:function(e){var t=!1;if(!Tr(e.markers,this.markers)){t=!0,this.markers=l(e.markers);var i=this.markers.map(function(e){return{type:"Feature",geometry:{type:"Point",coordinates:[e.getPosition().lng(),e.getPosition().lat()]},properties:{marker:e}}});this.superCluster.load(i)}var s={zoom:e.map.getZoom()};return t||this.state.zoom>this.maxZoom&&s.zoom>this.maxZoom||(t=t||!Tr(this.state,s)),this.state=s,t&&(this.clusters=this.cluster(e)),{clusters:this.clusters,changed:t}}},{key:"cluster",value:function(e){var t=e.map;return this.superCluster.getClusters([-180,-90,180,90],Math.round(t.getZoom())).map(this.transformCluster.bind(this))}},{key:"transformCluster",value:function(e){var t=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var i=[],s=!0,n=!1,r=void 0;try{for(var a,o=e[Symbol.iterator]();!(s=(a=o.next()).done)&&(i.push(a.value),!t||i.length!==t);s=!0);}catch(e){n=!0,r=e}finally{try{s||null==o.return||o.return()}finally{if(n)throw r}}return i}}(e,t)||c(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e.geometry.coordinates,2),i=t[0],s=t[1],n=e.properties;if(n.cluster)return new rr({markers:this.superCluster.getLeaves(n.cluster_id,1/0).map(function(e){return e.properties.marker}),position:new google.maps.LatLng({lat:s,lng:i})});var r=n.marker;return new rr({markers:[r],position:r.getPosition()})}}]),r}(),ca={},ha=g,ua=Pt,da=Mt,pa=Lt,fa=U,ma=Dr;ca.f=ha&&!ua?Object.defineProperties:function(e,t){pa(e);for(var i,s=fa(t),n=ma(t),r=n.length,a=0;r>a;)da.f(e,i=n[a++],s[i]);return e};var ga,va=Q("document","documentElement"),ya=Lt,ba=ca,wa=ys,xa=pi,_a=va,ka=gt,Ea=di("IE_PROTO"),Sa=function(){},Ca=function(e){return"<script>"+e+"<\/script>"},Ta=function(e){e.write(Ca("")),e.close();var t=e.parentWindow.Object;return e=null,t},Ma=function(){try{ga=new ActiveXObject("htmlfile")}catch(e){}var e,t;Ma="undefined"!=typeof document?document.domain&&ga?Ta(ga):((t=ka("iframe")).style.display="none",_a.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(Ca("document.F=Object")),e.close(),e.F):Ta(ga);for(var i=wa.length;i--;)delete Ma.prototype[wa[i]];return Ma()};xa[Ea]=!0;var Pa=st,Aa=Object.create||function(e,t){var i;return null!==e?(Sa.prototype=ya(e),i=new Sa,Sa.prototype=null,i[Ea]=e):i=Ma(),void 0===t?i:ba.f(i,t)},Oa=Mt.f,Da=Pa("unscopables"),La=Array.prototype;null==La[Da]&&Oa(La,Da,{configurable:!0,value:Aa(null)});var Ia=us.includes;Gs({target:"Array",proto:!0,forced:m(function(){return!Array(1).includes()})},{includes:function(e){return Ia(this,e,arguments.length>1?arguments[1]:void 0)}}),function(e){La[Da][e]=!0}("includes");var $a=K,Fa=N,Na=st("match"),Ra=TypeError,ja=cn,za=String,Ba=function(e){if("Symbol"===ja(e))throw TypeError("Cannot convert a Symbol value to a string");return za(e)},Va=st("match"),Ha=Gs,Wa=function(e){if(function(e){var t;return $a(e)&&(void 0!==(t=e[Na])?!!t:"RegExp"==Fa(e))}(e))throw Ra("The method doesn't accept regular expressions");return e},Ya=W,qa=Ba,Ua=L("".indexOf);Ha({target:"String",proto:!0,forced:!function(e){var t=/./;try{"/./"[e](t)}catch(i){try{return t[Va]=!1,"/./"[e](t)}catch(e){}}return!1}("includes")},{includes:function(e){return!!~Ua(qa(Ya(this)),qa(Wa(e)),arguments.length>1?arguments[1]:void 0)}});var Ga=Gs,Xa=us.indexOf,Ka=Zn,Za=L([].indexOf),Ja=!!Za&&1/Za([1],1,-0)<0,Qa=Ka("indexOf");Ga({target:"Array",proto:!0,forced:Ja||!Qa},{indexOf:function(e){var t=arguments.length>1?arguments[1]:void 0;return Ja?Za(this,e,t)||0:Xa(this,e,t)}});var eo=TypeError,to=dt,io=Mt,so=T,no=ye,ro=TypeError,ao=Gs,oo=Re,lo=ss,co=Qi,ho=as,uo=Pn,po=function(e,t,i){var s=to(t);s in e?io.f(e,s,so(0,i)):e[s]=i},fo=function(e,t){if(!delete e[t])throw ro("Cannot delete property "+no(t)+" of "+no(e))},mo=zn("splice"),go=Math.max,vo=Math.min;ao({target:"Array",proto:!0,forced:!mo},{splice:function(e,t){var i,s,n,r,a,o,l=oo(this),c=ho(l),h=lo(e,c),u=arguments.length;for(0===u?i=s=0:1===u?(i=0,s=c-h):(i=u-2,s=vo(go(co(t),0),c-h)),function(e){if(e>9007199254740991)throw eo("Maximum allowed index exceeded")}(c+i-s),n=uo(l,s),r=0;r<s;r++)(a=h+r)in l&&po(n,r,l[a]);if(n.length=s,i<s){for(r=h;r<c-s;r++)o=r+i,(a=r+s)in l?l[o]=l[a]:fo(l,o);for(r=c;r>c-s+i;r--)fo(l,r-1)}else if(i>s)for(r=c-s;r>h;r--)o=r+i-1,(a=r+s-1)in l?l[o]=l[a]:fo(l,o);for(r=0;r<i;r++)l[r+h]=arguments[r+2];return l.length=c-s+i,n}});var yo=G,bo=String,wo=TypeError,xo=L,_o=Lt,ko=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,i={};try{(e=xo(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(i,[]),t=i instanceof Array}catch(e){}return function(i,s){return _o(i),function(e){if("object"==typeof e||yo(e))return e;throw wo("Can't set "+bo(e)+" as a prototype")}(s),t?e(i,s):i.__proto__=s,i}}():void 0),Eo=G,So=K,Co=ko,To=L(1..valueOf),Mo=W,Po=Ba,Ao=L("".replace),Oo="[\t\n\v\f\r                　\u2028\u2029\ufeff]",Do=RegExp("^"+Oo+Oo+"*"),Lo=RegExp(Oo+Oo+"*$"),Io=function(e){return function(t){var i=Po(Mo(t));return 1&e&&(i=Ao(i,Do,"")),2&e&&(i=Ao(i,Lo,"")),i}},$o={start:Io(1),end:Io(2),trim:Io(3)},Fo=g,No=p,Ro=L,jo=zs,zo=Gi,Bo=Be,Vo=ee,Ho=ge,Wo=ct,Yo=m,qo=Xi.f,Uo=f.f,Go=Mt.f,Xo=To,Ko=$o.trim,Zo=No.Number,Jo=Zo.prototype,Qo=No.TypeError,el=Ro("".slice),tl=Ro("".charCodeAt),il=function(e){var t,i,s,n,r,a,o,l,c=Wo(e,"number");if(Ho(c))throw Qo("Cannot convert a Symbol value to a number");if("string"==typeof c&&c.length>2)if(c=Ko(c),43===(t=tl(c,0))||45===t){if(88===(i=tl(c,2))||120===i)return NaN}else if(48===t){switch(tl(c,1)){case 66:case 98:s=2,n=49;break;case 79:case 111:s=8,n=55;break;default:return+c}for(a=(r=el(c,2)).length,o=0;o<a;o++)if((l=tl(r,o))<48||l>n)return NaN;return parseInt(r,s)}return+c};if(jo("Number",!Zo(" 0o1")||!Zo("0b1")||Zo("+0x1"))){for(var sl,nl=function(e){var t=arguments.length<1?0:Zo(function(e){var t=Wo(e,"number");return"bigint"==typeof t?t:il(t)}(e)),i=this;return Vo(Jo,i)&&Yo(function(){Xo(i)})?function(e,t,i){var s,n;return Co&&Eo(s=t.constructor)&&s!==i&&So(n=s.prototype)&&n!==i.prototype&&Co(e,n),e}(Object(t),i,nl):t},rl=Fo?qo(Zo):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),al=0;rl.length>al;al++)Bo(Zo,sl=rl[al])&&!Bo(nl,sl)&&Go(nl,sl,Uo(Zo,sl));nl.prototype=Jo,Jo.constructor=nl,zo(No,"Number",nl,{constructor:!0})}var ol,ll=s(function e(i,s){t(this,e),this.markers={sum:i.length};var n=s.map(function(e){return e.count}),r=n.reduce(function(e,t){return e+t},0);this.clusters={count:s.length,markers:{mean:r/s.length,sum:r,min:Math.min.apply(Math,l(n)),max:Math.max.apply(Math,l(n))}}}),cl=function(){function e(){t(this,e)}return s(e,[{key:"render",value:function(e,t){var i=e.count,s=e.position,n=i>Math.max(10,t.clusters.markers.mean)?"#ff0000":"#0000ff",r=window.btoa('\n  <svg fill="'.concat(n,'" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 240 240">\n    <circle cx="120" cy="120" opacity=".6" r="70" />\n    <circle cx="120" cy="120" opacity=".3" r="90" />\n    <circle cx="120" cy="120" opacity=".2" r="110" />\n  </svg>'));return new google.maps.Marker({position:s,icon:{url:"data:image/svg+xml;base64,".concat(r),scaledSize:new google.maps.Size(45,45)},label:{text:String(i),color:"rgba(255,255,255,0.9)",fontSize:"12px"},title:"Cluster of ".concat(i," markers"),zIndex:Number(google.maps.Marker.MAX_ZINDEX)+i})}}]),e}(),hl=s(function e(){t(this,e),function(e,t){for(var i in t.prototype)e.prototype[i]=t.prototype[i]}(e,google.maps.OverlayView)});e.MarkerClustererEvents=void 0,(ol=e.MarkerClustererEvents||(e.MarkerClustererEvents={})).CLUSTERING_BEGIN="clusteringbegin",ol.CLUSTERING_END="clusteringend",ol.CLUSTER_CLICK="click";var ul=function(e,t,i){i.fitBounds(t.bounds)},dl=function(i){n(a,hl);var r=o(a);function a(e){var i,s=e.map,n=e.markers,o=void 0===n?[]:n,c=e.algorithm,h=void 0===c?new la({}):c,u=e.renderer,d=void 0===u?new cl:u,p=e.onClusterClick,f=void 0===p?ul:p;return t(this,a),(i=r.call(this)).markers=l(o),i.clusters=[],i.algorithm=h,i.renderer=d,i.onClusterClick=f,s&&i.setMap(s),i}return s(a,[{key:"addMarker",value:function(e,t){this.markers.includes(e)||(this.markers.push(e),t||this.render())}},{key:"addMarkers",value:function(e,t){var i=this;e.forEach(function(e){i.addMarker(e,!0)}),t||this.render()}},{key:"removeMarker",value:function(e,t){var i=this.markers.indexOf(e);return-1!==i&&(e.setMap(null),this.markers.splice(i,1),t||this.render(),!0)}},{key:"removeMarkers",value:function(e,t){var i=this,s=!1;return e.forEach(function(e){s=i.removeMarker(e,!0)||s}),s&&!t&&this.render(),s}},{key:"clearMarkers",value:function(e){this.markers.length=0,e||this.render()}},{key:"render",value:function(){var t=this.getMap();if(t instanceof google.maps.Map&&this.getProjection()){google.maps.event.trigger(this,e.MarkerClustererEvents.CLUSTERING_BEGIN,this);var i=this.algorithm.calculate({markers:this.markers,map:t,mapCanvasProjection:this.getProjection()}),s=i.clusters,n=i.changed;(n||null==n)&&(this.reset(),this.clusters=s,this.renderClusters()),google.maps.event.trigger(this,e.MarkerClustererEvents.CLUSTERING_END,this)}}},{key:"onAdd",value:function(){this.idleListener=this.getMap().addListener("idle",this.render.bind(this)),this.render()}},{key:"onRemove",value:function(){google.maps.event.removeListener(this.idleListener),this.reset()}},{key:"reset",value:function(){this.markers.forEach(function(e){return e.setMap(null)}),this.clusters.forEach(function(e){return e.delete()}),this.clusters=[]}},{key:"renderClusters",value:function(){var t=this,i=new ll(this.markers,this.clusters),s=this.getMap();this.clusters.forEach(function(n){1===n.markers.length?n.marker=n.markers[0]:(n.marker=t.renderer.render(n,i),t.onClusterClick&&n.marker.addListener("click",function(i){google.maps.event.trigger(t,e.MarkerClustererEvents.CLUSTER_CLICK,n),t.onClusterClick(i,n,s)})),n.marker.setMap(s)})}}]),a}();return e.AbstractAlgorithm=dr,e.AbstractViewportAlgorithm=pr,e.Cluster=rr,e.ClusterStats=ll,e.DefaultRenderer=cl,e.GridAlgorithm=Mr,e.MarkerClusterer=dl,e.NoopAlgorithm=Pr,e.SuperClusterAlgorithm=la,e.defaultOnClusterClickHandler=ul,e.distanceBetweenPoints=lr,e.extendBoundsToPaddedViewport=or,e.extendPixelBounds=hr,e.filterMarkersToPaddedViewport=ar,e.noop=fr,e.pixelBoundsToLatLngBounds=ur,Object.defineProperty(e,"__esModule",{value:!0}),e}({});!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).Chart=t()}(this,function(){"use strict";function e(){}const t=function(){let e=0;return function(){return e++}}();function i(e){return null==e}function s(e){if(Array.isArray&&Array.isArray(e))return!0;const t=Object.prototype.toString.call(e);return"[object"===t.slice(0,7)&&"Array]"===t.slice(-6)}function n(e){return null!==e&&"[object Object]"===Object.prototype.toString.call(e)}const r=e=>("number"==typeof e||e instanceof Number)&&isFinite(+e);function a(e,t){return r(e)?e:t}function o(e,t){return void 0===e?t:e}const l=(e,t)=>"string"==typeof e&&e.endsWith("%")?parseFloat(e)/100:e/t,c=(e,t)=>"string"==typeof e&&e.endsWith("%")?parseFloat(e)/100*t:+e;function h(e,t,i){if(e&&"function"==typeof e.call)return e.apply(i,t)}function u(e,t,i,r){let a,o,l;if(s(e))if(o=e.length,r)for(a=o-1;a>=0;a--)t.call(i,e[a],a);else for(a=0;a<o;a++)t.call(i,e[a],a);else if(n(e))for(o=(l=Object.keys(e)).length,a=0;a<o;a++)t.call(i,e[l[a]],l[a])}function d(e,t){let i,s,n,r;if(!e||!t||e.length!==t.length)return!1;for(i=0,s=e.length;i<s;++i)if(n=e[i],r=t[i],n.datasetIndex!==r.datasetIndex||n.index!==r.index)return!1;return!0}function p(e){if(s(e))return e.map(p);if(n(e)){const t=Object.create(null),i=Object.keys(e),s=i.length;let n=0;for(;n<s;++n)t[i[n]]=p(e[i[n]]);return t}return e}function f(e){return-1===["__proto__","prototype","constructor"].indexOf(e)}function m(e,t,i,s){if(!f(e))return;const r=t[e],a=i[e];n(r)&&n(a)?g(r,a,s):t[e]=p(a)}function g(e,t,i){const r=s(t)?t:[t],a=r.length;if(!n(e))return e;const o=(i=i||{}).merger||m;for(let s=0;s<a;++s){if(!n(t=r[s]))continue;const a=Object.keys(t);for(let s=0,n=a.length;s<n;++s)o(a[s],e,t,i)}return e}function v(e,t){return g(e,t,{merger:y})}function y(e,t,i){if(!f(e))return;const s=t[e],r=i[e];n(s)&&n(r)?v(s,r):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=p(r))}const b={"":e=>e,x:e=>e.x,y:e=>e.y};function w(e,t){return(b[t]||(b[t]=function(e){const t=x(e);return e=>{for(const i of t){if(""===i)break;e=e&&e[i]}return e}}(t)))(e)}function x(e){const t=e.split("."),i=[];let s="";for(const e of t)(s+=e).endsWith("\\")?s=s.slice(0,-1)+".":(i.push(s),s="");return i}function _(e){return e.charAt(0).toUpperCase()+e.slice(1)}const k=e=>void 0!==e,E=e=>"function"==typeof e,S=(e,t)=>{if(e.size!==t.size)return!1;for(const i of e)if(!t.has(i))return!1;return!0};function C(e){return"mouseup"===e.type||"click"===e.type||"contextmenu"===e.type}const T=Math.PI,M=2*T,P=M+T,A=Number.POSITIVE_INFINITY,O=T/180,D=T/2,L=T/4,I=2*T/3,$=Math.log10,F=Math.sign;function N(e){const t=Math.round(e);e=z(e,t,e/1e3)?t:e;const i=Math.pow(10,Math.floor($(e))),s=e/i;return(s<=1?1:s<=2?2:s<=5?5:10)*i}function R(e){const t=[],i=Math.sqrt(e);let s;for(s=1;s<i;s++)e%s==0&&(t.push(s),t.push(e/s));return i===(0|i)&&t.push(i),t.sort((e,t)=>e-t).pop(),t}function j(e){return!isNaN(parseFloat(e))&&isFinite(e)}function z(e,t,i){return Math.abs(e-t)<i}function B(e,t){const i=Math.round(e);return i-t<=e&&i+t>=e}function V(e,t,i){let s,n,r;for(s=0,n=e.length;s<n;s++)r=e[s][i],isNaN(r)||(t.min=Math.min(t.min,r),t.max=Math.max(t.max,r))}function H(e){return e*(T/180)}function W(e){return e*(180/T)}function Y(e){if(!r(e))return;let t=1,i=0;for(;Math.round(e*t)/t!==e;)t*=10,i++;return i}function q(e,t){const i=t.x-e.x,s=t.y-e.y,n=Math.sqrt(i*i+s*s);let r=Math.atan2(s,i);return r<-.5*T&&(r+=M),{angle:r,distance:n}}function U(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function G(e,t){return(e-t+P)%M-T}function X(e){return(e%M+M)%M}function K(e,t,i,s){const n=X(e),r=X(t),a=X(i),o=X(r-n),l=X(a-n),c=X(n-r),h=X(n-a);return n===r||n===a||s&&r===a||o>l&&c<h}function Z(e,t,i){return Math.max(t,Math.min(i,e))}function J(e){return Z(e,-32768,32767)}function Q(e,t,i,s=1e-6){return e>=Math.min(t,i)-s&&e<=Math.max(t,i)+s}function ee(e,t,i){i=i||(i=>e[i]<t);let s,n=e.length-1,r=0;for(;n-r>1;)i(s=r+n>>1)?r=s:n=s;return{lo:r,hi:n}}const te=(e,t,i,s)=>ee(e,i,s?s=>e[s][t]<=i:s=>e[s][t]<i),ie=(e,t,i)=>ee(e,i,s=>e[s][t]>=i);function se(e,t,i){let s=0,n=e.length;for(;s<n&&e[s]<t;)s++;for(;n>s&&e[n-1]>i;)n--;return s>0||n<e.length?e.slice(s,n):e}const ne=["push","pop","shift","splice","unshift"];function re(e,t){e._chartjs?e._chartjs.listeners.push(t):(Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),ne.forEach(t=>{const i="_onData"+_(t),s=e[t];Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value(...t){const n=s.apply(this,t);return e._chartjs.listeners.forEach(e=>{"function"==typeof e[i]&&e[i](...t)}),n}})}))}function ae(e,t){const i=e._chartjs;if(!i)return;const s=i.listeners,n=s.indexOf(t);-1!==n&&s.splice(n,1),s.length>0||(ne.forEach(t=>{delete e[t]}),delete e._chartjs)}function oe(e){const t=new Set;let i,s;for(i=0,s=e.length;i<s;++i)t.add(e[i]);return t.size===s?e:Array.from(t)}const le="undefined"==typeof window?function(e){return e()}:window.requestAnimationFrame;function ce(e,t,i){const s=i||(e=>Array.prototype.slice.call(e));let n=!1,r=[];return function(...i){r=s(i),n||(n=!0,le.call(window,()=>{n=!1,e.apply(t,r)}))}}function he(e,t){let i;return function(...s){return t?(clearTimeout(i),i=setTimeout(e,t,s)):e.apply(this,s),t}}const ue=e=>"start"===e?"left":"end"===e?"right":"center",de=(e,t,i)=>"start"===e?t:"end"===e?i:(t+i)/2,pe=(e,t,i,s)=>{return e===(s?"left":"right")?i:"center"===e?(t+i)/2:t};function fe(e,t,i){const s=t.length;let n=0,r=s;if(e._sorted){const{iScale:a,_parsed:o}=e,l=a.axis,{min:c,max:h,minDefined:u,maxDefined:d}=a.getUserBounds();u&&(n=Z(Math.min(te(o,a.axis,c).lo,i?s:te(t,l,a.getPixelForValue(c)).lo),0,s-1)),r=d?Z(Math.max(te(o,a.axis,h,!0).hi+1,i?0:te(t,l,a.getPixelForValue(h),!0).hi+1),n,s)-n:s-n}return{start:n,count:r}}function me(e){const{xScale:t,yScale:i,_scaleRanges:s}=e,n={xmin:t.min,xmax:t.max,ymin:i.min,ymax:i.max};if(!s)return e._scaleRanges=n,!0;const r=s.xmin!==t.min||s.xmax!==t.max||s.ymin!==i.min||s.ymax!==i.max;return Object.assign(s,n),r}var ge=new class{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,i,s){const n=t.listeners[s],r=t.duration;n.forEach(s=>s({chart:e,initial:t.initial,numSteps:r,currentStep:Math.min(i-t.start,r)}))}_refresh(){this._request||(this._running=!0,this._request=le.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let t=0;this._charts.forEach((i,s)=>{if(!i.running||!i.items.length)return;const n=i.items;let r,a=n.length-1,o=!1;for(;a>=0;--a)(r=n[a])._active?(r._total>i.duration&&(i.duration=r._total),r.tick(e),o=!0):(n[a]=n[n.length-1],n.pop());o&&(s.draw(),this._notify(s,i,e,"progress")),n.length||(i.running=!1,this._notify(s,i,e,"complete"),i.initial=!1),t+=n.length}),this._lastDate=e,0===t&&(this._running=!1)}_getAnims(e){const t=this._charts;let i=t.get(e);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,i)),i}listen(e,t,i){this._getAnims(e).listeners[t].push(i)}add(e,t){t&&t.length&&this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){const t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce((e,t)=>Math.max(e,t._duration),0),this._refresh())}running(e){if(!this._running)return!1;const t=this._charts.get(e);return!!(t&&t.running&&t.items.length)}stop(e){const t=this._charts.get(e);if(!t||!t.items.length)return;const i=t.items;let s=i.length-1;for(;s>=0;--s)i[s].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}};function ve(e){return e+.5|0}const ye=(e,t,i)=>Math.max(Math.min(e,i),t);function be(e){return ye(ve(2.55*e),0,255)}function we(e){return ye(ve(255*e),0,255)}function xe(e){return ye(ve(e/2.55)/100,0,1)}function _e(e){return ye(ve(100*e),0,100)}const ke={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Ee=[..."0123456789ABCDEF"],Se=e=>Ee[15&e],Ce=e=>Ee[(240&e)>>4]+Ee[15&e],Te=e=>(240&e)>>4==(15&e),Me=e=>Te(e.r)&&Te(e.g)&&Te(e.b)&&Te(e.a);const Pe=(e,t)=>e<255?t(e):"";const Ae=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Oe(e,t,i){const s=t*Math.min(i,1-i),n=(t,n=(t+e/30)%12)=>i-s*Math.max(Math.min(n-3,9-n,1),-1);return[n(0),n(8),n(4)]}function De(e,t,i){const s=(s,n=(s+e/60)%6)=>i-i*t*Math.max(Math.min(n,4-n,1),0);return[s(5),s(3),s(1)]}function Le(e,t,i){const s=Oe(e,1,.5);let n;for(t+i>1&&(t*=n=1/(t+i),i*=n),n=0;n<3;n++)s[n]*=1-t-i,s[n]+=t;return s}function Ie(e){const t=e.r/255,i=e.g/255,s=e.b/255,n=Math.max(t,i,s),r=Math.min(t,i,s),a=(n+r)/2;let o,l,c;return n!==r&&(c=n-r,l=a>.5?c/(2-n-r):c/(n+r),o=60*(o=function(e,t,i,s,n){return e===n?(t-i)/s+(t<i?6:0):t===n?(i-e)/s+2:(e-t)/s+4}(t,i,s,c,n))+.5),[0|o,l||0,a]}function $e(e,t,i,s){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,i,s)).map(we)}function Fe(e,t,i){return $e(Oe,e,t,i)}function Ne(e){return(e%360+360)%360}function Re(e){const t=Ae.exec(e);let i,s=255;if(!t)return;t[5]!==i&&(s=t[6]?be(+t[5]):we(+t[5]));const n=Ne(+t[2]),r=+t[3]/100,a=+t[4]/100;return{r:(i="hwb"===t[1]?function(e,t,i){return $e(Le,e,t,i)}(n,r,a):"hsv"===t[1]?function(e,t,i){return $e(De,e,t,i)}(n,r,a):Fe(n,r,a))[0],g:i[1],b:i[2],a:s}}const je={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},ze={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};let Be;function Ve(e){Be||((Be=function(){const e={},t=Object.keys(ze),i=Object.keys(je);let s,n,r,a,o;for(s=0;s<t.length;s++){for(a=o=t[s],n=0;n<i.length;n++)r=i[n],o=o.replace(r,je[r]);r=parseInt(ze[a],16),e[o]=[r>>16&255,r>>8&255,255&r]}return e}()).transparent=[0,0,0,0]);const t=Be[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:4===t.length?t[3]:255}}const He=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;const We=e=>e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055,Ye=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function qe(e,t,i){if(e){let s=Ie(e);s[t]=Math.max(0,Math.min(s[t]+s[t]*i,0===t?360:1)),s=Fe(s),e.r=s[0],e.g=s[1],e.b=s[2]}}function Ue(e,t){return e?Object.assign(t||{},e):e}function Ge(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=we(e[3]))):(t=Ue(e,{r:0,g:0,b:0,a:1})).a=we(t.a),t}function Xe(e){return"r"===e.charAt(0)?function(e){const t=He.exec(e);let i,s,n,r=255;if(t){if(t[7]!==i){const e=+t[7];r=t[8]?be(e):ye(255*e,0,255)}return i=+t[1],s=+t[3],n=+t[5],{r:i=255&(t[2]?be(i):ye(i,0,255)),g:s=255&(t[4]?be(s):ye(s,0,255)),b:n=255&(t[6]?be(n):ye(n,0,255)),a:r}}}(e):Re(e)}class Ke{constructor(e){if(e instanceof Ke)return e;const t=typeof e;let i;var s,n,r;"object"===t?i=Ge(e):"string"===t&&(r=(s=e).length,"#"===s[0]&&(4===r||5===r?n={r:255&17*ke[s[1]],g:255&17*ke[s[2]],b:255&17*ke[s[3]],a:5===r?17*ke[s[4]]:255}:7!==r&&9!==r||(n={r:ke[s[1]]<<4|ke[s[2]],g:ke[s[3]]<<4|ke[s[4]],b:ke[s[5]]<<4|ke[s[6]],a:9===r?ke[s[7]]<<4|ke[s[8]]:255})),i=n||Ve(e)||Xe(e)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var e=Ue(this._rgb);return e&&(e.a=xe(e.a)),e}set rgb(e){this._rgb=Ge(e)}rgbString(){return this._valid?(e=this._rgb)&&(e.a<255?`rgba(${e.r}, ${e.g}, ${e.b}, ${xe(e.a)})`:`rgb(${e.r}, ${e.g}, ${e.b})`):void 0;var e}hexString(){return this._valid?(e=this._rgb,t=Me(e)?Se:Ce,e?"#"+t(e.r)+t(e.g)+t(e.b)+Pe(e.a,t):void 0):void 0;var e,t}hslString(){return this._valid?function(e){if(!e)return;const t=Ie(e),i=t[0],s=_e(t[1]),n=_e(t[2]);return e.a<255?`hsla(${i}, ${s}%, ${n}%, ${xe(e.a)})`:`hsl(${i}, ${s}%, ${n}%)`}(this._rgb):void 0}mix(e,t){if(e){const i=this.rgb,s=e.rgb;let n;const r=t===n?.5:t,a=2*r-1,o=i.a-s.a,l=((a*o==-1?a:(a+o)/(1+a*o))+1)/2;n=1-l,i.r=255&l*i.r+n*s.r+.5,i.g=255&l*i.g+n*s.g+.5,i.b=255&l*i.b+n*s.b+.5,i.a=r*i.a+(1-r)*s.a,this.rgb=i}return this}interpolate(e,t){return e&&(this._rgb=function(e,t,i){const s=Ye(xe(e.r)),n=Ye(xe(e.g)),r=Ye(xe(e.b));return{r:we(We(s+i*(Ye(xe(t.r))-s))),g:we(We(n+i*(Ye(xe(t.g))-n))),b:we(We(r+i*(Ye(xe(t.b))-r))),a:e.a+i*(t.a-e.a)}}(this._rgb,e._rgb,t)),this}clone(){return new Ke(this.rgb)}alpha(e){return this._rgb.a=we(e),this}clearer(e){return this._rgb.a*=1-e,this}greyscale(){const e=this._rgb,t=ve(.3*e.r+.59*e.g+.11*e.b);return e.r=e.g=e.b=t,this}opaquer(e){return this._rgb.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return qe(this._rgb,2,e),this}darken(e){return qe(this._rgb,2,-e),this}saturate(e){return qe(this._rgb,1,e),this}desaturate(e){return qe(this._rgb,1,-e),this}rotate(e){return function(e,t){var i=Ie(e);i[0]=Ne(i[0]+t),i=Fe(i),e.r=i[0],e.g=i[1],e.b=i[2]}(this._rgb,e),this}}function Ze(e){return new Ke(e)}function Je(e){if(e&&"object"==typeof e){const t=e.toString();return"[object CanvasPattern]"===t||"[object CanvasGradient]"===t}return!1}function Qe(e){return Je(e)?e:Ze(e)}function et(e){return Je(e)?e:Ze(e).saturate(.5).darken(.1).hexString()}const tt=Object.create(null),it=Object.create(null);function st(e,t){if(!t)return e;const i=t.split(".");for(let t=0,s=i.length;t<s;++t){const s=i[t];e=e[s]||(e[s]=Object.create(null))}return e}function nt(e,t,i){return"string"==typeof t?g(st(e,t),i):g(st(e,""),t)}var rt=new class{constructor(e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=(e=>e.chart.platform.getDevicePixelRatio()),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=((e,t)=>et(t.backgroundColor)),this.hoverBorderColor=((e,t)=>et(t.borderColor)),this.hoverColor=((e,t)=>et(t.color)),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e)}set(e,t){return nt(this,e,t)}get(e){return st(this,e)}describe(e,t){return nt(it,e,t)}override(e,t){return nt(tt,e,t)}route(e,t,i,s){const r=st(this,e),a=st(this,i),l="_"+t;Object.defineProperties(r,{[l]:{value:r[t],writable:!0},[t]:{enumerable:!0,get(){const e=this[l],t=a[s];return n(e)?Object.assign({},t,e):o(e,t)},set(e){this[l]=e}}})}}({_scriptable:e=>!e.startsWith("on"),_indexable:e=>"events"!==e,hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}});function at(){return"undefined"!=typeof window&&"undefined"!=typeof document}function ot(e){let t=e.parentNode;return t&&"[object ShadowRoot]"===t.toString()&&(t=t.host),t}function lt(e,t,i){let s;return"string"==typeof e?(s=parseInt(e,10),-1!==e.indexOf("%")&&(s=s/100*t.parentNode[i])):s=e,s}const ct=e=>window.getComputedStyle(e,null);function ht(e,t){return ct(e).getPropertyValue(t)}const ut=["top","right","bottom","left"];function dt(e,t,i){const s={};i=i?"-"+i:"";for(let n=0;n<4;n++){const r=ut[n];s[r]=parseFloat(e[t+"-"+r+i])||0}return s.width=s.left+s.right,s.height=s.top+s.bottom,s}const pt=(e,t,i)=>(e>0||t>0)&&(!i||!i.shadowRoot);function ft(e,t){if("native"in e)return e;const{canvas:i,currentDevicePixelRatio:s}=t,n=ct(i),r="border-box"===n.boxSizing,a=dt(n,"padding"),o=dt(n,"border","width"),{x:l,y:c,box:h}=function(e,t){const i=e.touches,s=i&&i.length?i[0]:e,{offsetX:n,offsetY:r}=s;let a,o,l=!1;if(pt(n,r,e.target))a=n,o=r;else{const e=t.getBoundingClientRect();a=s.clientX-e.left,o=s.clientY-e.top,l=!0}return{x:a,y:o,box:l}}(e,i),u=a.left+(h&&o.left),d=a.top+(h&&o.top);let{width:p,height:f}=t;return r&&(p-=a.width+o.width,f-=a.height+o.height),{x:Math.round((l-u)/p*i.width/s),y:Math.round((c-d)/f*i.height/s)}}const mt=e=>Math.round(10*e)/10;function gt(e,t,i,s){const n=ct(e),r=dt(n,"margin"),a=lt(n.maxWidth,e,"clientWidth")||A,o=lt(n.maxHeight,e,"clientHeight")||A,l=function(e,t,i){let s,n;if(void 0===t||void 0===i){const r=ot(e);if(r){const e=r.getBoundingClientRect(),a=ct(r),o=dt(a,"border","width"),l=dt(a,"padding");t=e.width-l.width-o.width,i=e.height-l.height-o.height,s=lt(a.maxWidth,r,"clientWidth"),n=lt(a.maxHeight,r,"clientHeight")}else t=e.clientWidth,i=e.clientHeight}return{width:t,height:i,maxWidth:s||A,maxHeight:n||A}}(e,t,i);let{width:c,height:h}=l;if("content-box"===n.boxSizing){const e=dt(n,"border","width"),t=dt(n,"padding");c-=t.width+e.width,h-=t.height+e.height}return c=Math.max(0,c-r.width),h=Math.max(0,s?Math.floor(c/s):h-r.height),c=mt(Math.min(c,a,l.maxWidth)),h=mt(Math.min(h,o,l.maxHeight)),c&&!h&&(h=mt(c/2)),{width:c,height:h}}function vt(e,t,i){const s=t||1,n=Math.floor(e.height*s),r=Math.floor(e.width*s);e.height=n/s,e.width=r/s;const a=e.canvas;return a.style&&(i||!a.style.height&&!a.style.width)&&(a.style.height=`${e.height}px`,a.style.width=`${e.width}px`),(e.currentDevicePixelRatio!==s||a.height!==n||a.width!==r)&&(e.currentDevicePixelRatio=s,a.height=n,a.width=r,e.ctx.setTransform(s,0,0,s,0,0),!0)}const yt=function(){let e=!1;try{const t={get passive(){return e=!0,!1}};window.addEventListener("test",null,t),window.removeEventListener("test",null,t)}catch(e){}return e}();function bt(e,t){const i=ht(e,t),s=i&&i.match(/^(\d+)(\.\d+)?px$/);return s?+s[1]:void 0}function wt(e){return!e||i(e.size)||i(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}function xt(e,t,i,s,n){let r=t[n];return r||(r=t[n]=e.measureText(n).width,i.push(n)),r>s&&(s=r),s}function _t(e,t,i,n){let r=(n=n||{}).data=n.data||{},a=n.garbageCollect=n.garbageCollect||[];n.font!==t&&(r=n.data={},a=n.garbageCollect=[],n.font=t),e.save(),e.font=t;let o=0;const l=i.length;let c,h,u,d,p;for(c=0;c<l;c++)if(null!=(d=i[c])&&!0!==s(d))o=xt(e,r,a,o,d);else if(s(d))for(h=0,u=d.length;h<u;h++)null==(p=d[h])||s(p)||(o=xt(e,r,a,o,p));e.restore();const f=a.length/2;if(f>i.length){for(c=0;c<f;c++)delete r[a[c]];a.splice(0,f)}return o}function kt(e,t,i){const s=e.currentDevicePixelRatio,n=0!==i?Math.max(i/2,.5):0;return Math.round((t-n)*s)/s+n}function Et(e,t){(t=t||e.getContext("2d")).save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore()}function St(e,t,i,s){Ct(e,t,i,s,null)}function Ct(e,t,i,s,n){let r,a,o,l,c,h;const u=t.pointStyle,d=t.rotation,p=t.radius;let f=(d||0)*O;if(u&&"object"==typeof u&&("[object HTMLImageElement]"===(r=u.toString())||"[object HTMLCanvasElement]"===r))return e.save(),e.translate(i,s),e.rotate(f),e.drawImage(u,-u.width/2,-u.height/2,u.width,u.height),void e.restore();if(!(isNaN(p)||p<=0)){switch(e.beginPath(),u){default:n?e.ellipse(i,s,n/2,p,0,0,M):e.arc(i,s,p,0,M),e.closePath();break;case"triangle":e.moveTo(i+Math.sin(f)*p,s-Math.cos(f)*p),f+=I,e.lineTo(i+Math.sin(f)*p,s-Math.cos(f)*p),f+=I,e.lineTo(i+Math.sin(f)*p,s-Math.cos(f)*p),e.closePath();break;case"rectRounded":l=p-(c=.516*p),a=Math.cos(f+L)*l,o=Math.sin(f+L)*l,e.arc(i-a,s-o,c,f-T,f-D),e.arc(i+o,s-a,c,f-D,f),e.arc(i+a,s+o,c,f,f+D),e.arc(i-o,s+a,c,f+D,f+T),e.closePath();break;case"rect":if(!d){l=Math.SQRT1_2*p,h=n?n/2:l,e.rect(i-h,s-l,2*h,2*l);break}f+=L;case"rectRot":a=Math.cos(f)*p,o=Math.sin(f)*p,e.moveTo(i-a,s-o),e.lineTo(i+o,s-a),e.lineTo(i+a,s+o),e.lineTo(i-o,s+a),e.closePath();break;case"crossRot":f+=L;case"cross":a=Math.cos(f)*p,o=Math.sin(f)*p,e.moveTo(i-a,s-o),e.lineTo(i+a,s+o),e.moveTo(i+o,s-a),e.lineTo(i-o,s+a);break;case"star":a=Math.cos(f)*p,o=Math.sin(f)*p,e.moveTo(i-a,s-o),e.lineTo(i+a,s+o),e.moveTo(i+o,s-a),e.lineTo(i-o,s+a),f+=L,a=Math.cos(f)*p,o=Math.sin(f)*p,e.moveTo(i-a,s-o),e.lineTo(i+a,s+o),e.moveTo(i+o,s-a),e.lineTo(i-o,s+a);break;case"line":a=n?n/2:Math.cos(f)*p,o=Math.sin(f)*p,e.moveTo(i-a,s-o),e.lineTo(i+a,s+o);break;case"dash":e.moveTo(i,s),e.lineTo(i+Math.cos(f)*p,s+Math.sin(f)*p)}e.fill(),t.borderWidth>0&&e.stroke()}}function Tt(e,t,i){return i=i||.5,!t||e&&e.x>t.left-i&&e.x<t.right+i&&e.y>t.top-i&&e.y<t.bottom+i}function Mt(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function Pt(e){e.restore()}function At(e,t,i,s,n){if(!t)return e.lineTo(i.x,i.y);if("middle"===n){const s=(t.x+i.x)/2;e.lineTo(s,t.y),e.lineTo(s,i.y)}else"after"===n!=!!s?e.lineTo(t.x,i.y):e.lineTo(i.x,t.y);e.lineTo(i.x,i.y)}function Ot(e,t,i,s){if(!t)return e.lineTo(i.x,i.y);e.bezierCurveTo(s?t.cp1x:t.cp2x,s?t.cp1y:t.cp2y,s?i.cp2x:i.cp1x,s?i.cp2y:i.cp1y,i.x,i.y)}function Dt(e,t,n,r,a,o={}){const l=s(t)?t:[t],c=o.strokeWidth>0&&""!==o.strokeColor;let h,u;for(e.save(),e.font=a.string,function(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]);i(t.rotation)||e.rotate(t.rotation);t.color&&(e.fillStyle=t.color);t.textAlign&&(e.textAlign=t.textAlign);t.textBaseline&&(e.textBaseline=t.textBaseline)}(e,o),h=0;h<l.length;++h)u=l[h],c&&(o.strokeColor&&(e.strokeStyle=o.strokeColor),i(o.strokeWidth)||(e.lineWidth=o.strokeWidth),e.strokeText(u,n,r,o.maxWidth)),e.fillText(u,n,r,o.maxWidth),Lt(e,n,r,u,o),r+=a.lineHeight;e.restore()}function Lt(e,t,i,s,n){if(n.strikethrough||n.underline){const r=e.measureText(s),a=t-r.actualBoundingBoxLeft,o=t+r.actualBoundingBoxRight,l=i-r.actualBoundingBoxAscent,c=i+r.actualBoundingBoxDescent,h=n.strikethrough?(l+c)/2:c;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=n.decorationWidth||2,e.moveTo(a,h),e.lineTo(o,h),e.stroke()}}function It(e,t){const{x:i,y:s,w:n,h:r,radius:a}=t;e.arc(i+a.topLeft,s+a.topLeft,a.topLeft,-D,T,!0),e.lineTo(i,s+r-a.bottomLeft),e.arc(i+a.bottomLeft,s+r-a.bottomLeft,a.bottomLeft,T,D,!0),e.lineTo(i+n-a.bottomRight,s+r),e.arc(i+n-a.bottomRight,s+r-a.bottomRight,a.bottomRight,D,0,!0),e.lineTo(i+n,s+a.topRight),e.arc(i+n-a.topRight,s+a.topRight,a.topRight,0,-D,!0),e.lineTo(i+a.topLeft,s)}function $t(e,t=[""],i=e,s,n=(()=>e[0])){return k(s)||(s=qt("_fallback",e)),new Proxy({[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:i,_fallback:s,_getTarget:n,override:n=>$t([n,...e],t,i,s)},{deleteProperty:(t,i)=>(delete t[i],delete t._keys,delete e[0][i],!0),get:(i,s)=>zt(i,s,()=>(function(e,t,i,s){let n;for(const r of t)if(n=qt(Rt(r,e),i),k(n))return jt(e,n)?Wt(i,s,e,n):n})(s,t,e,i)),getOwnPropertyDescriptor:(e,t)=>Reflect.getOwnPropertyDescriptor(e._scopes[0],t),getPrototypeOf:()=>Reflect.getPrototypeOf(e[0]),has:(e,t)=>Ut(e).includes(t),ownKeys:e=>Ut(e),set(e,t,i){const s=e._storage||(e._storage=n());return e[t]=s[t]=i,delete e._keys,!0}})}function Ft(e,t,i,r){const a={_cacheable:!1,_proxy:e,_context:t,_subProxy:i,_stack:new Set,_descriptors:Nt(e,r),setContext:t=>Ft(e,t,i,r),override:s=>Ft(e.override(s),t,i,r)};return new Proxy(a,{deleteProperty:(t,i)=>(delete t[i],delete e[i],!0),get:(e,t,i)=>zt(e,t,()=>(function(e,t,i){const{_proxy:r,_context:a,_subProxy:o,_descriptors:l}=e;let c=r[t];E(c)&&l.isScriptable(t)&&(c=function(e,t,i,s){const{_proxy:n,_context:r,_subProxy:a,_stack:o}=i;if(o.has(e))throw new Error("Recursion detected: "+Array.from(o).join("->")+"->"+e);o.add(e),t=t(r,a||s),o.delete(e),jt(e,t)&&(t=Wt(n._scopes,n,e,t));return t}(t,c,e,i));s(c)&&c.length&&(c=function(e,t,i,s){const{_proxy:r,_context:a,_subProxy:o,_descriptors:l}=i;if(k(a.index)&&s(e))t=t[a.index%t.length];else if(n(t[0])){const i=t,s=r._scopes.filter(e=>e!==i);t=[];for(const n of i){const i=Wt(s,r,e,n);t.push(Ft(i,a,o&&o[e],l))}}return t}(t,c,e,l.isIndexable));jt(t,c)&&(c=Ft(c,a,o&&o[t],l));return c})(e,t,i)),getOwnPropertyDescriptor:(t,i)=>t._descriptors.allKeys?Reflect.has(e,i)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,i),getPrototypeOf:()=>Reflect.getPrototypeOf(e),has:(t,i)=>Reflect.has(e,i),ownKeys:()=>Reflect.ownKeys(e),set:(t,i,s)=>(e[i]=s,delete t[i],!0)})}function Nt(e,t={scriptable:!0,indexable:!0}){const{_scriptable:i=t.scriptable,_indexable:s=t.indexable,_allKeys:n=t.allKeys}=e;return{allKeys:n,scriptable:i,indexable:s,isScriptable:E(i)?i:()=>i,isIndexable:E(s)?s:()=>s}}const Rt=(e,t)=>e?e+_(t):t,jt=(e,t)=>n(t)&&"adapters"!==e&&(null===Object.getPrototypeOf(t)||t.constructor===Object);function zt(e,t,i){if(Object.prototype.hasOwnProperty.call(e,t))return e[t];const s=i();return e[t]=s,s}function Bt(e,t,i){return E(e)?e(t,i):e}const Vt=(e,t)=>!0===e?t:"string"==typeof e?w(t,e):void 0;function Ht(e,t,i,s,n){for(const r of t){const t=Vt(i,r);if(t){e.add(t);const r=Bt(t._fallback,i,n);if(k(r)&&r!==i&&r!==s)return r}else if(!1===t&&k(s)&&i!==s)return null}return!1}function Wt(e,t,i,r){const a=t._rootScopes,o=Bt(t._fallback,i,r),l=[...e,...a],c=new Set;c.add(r);let h=Yt(c,l,i,o||i,r);return null!==h&&((!k(o)||o===i||null!==(h=Yt(c,l,o,h,r)))&&$t(Array.from(c),[""],a,o,()=>(function(e,t,i){const r=e._getTarget();t in r||(r[t]={});const a=r[t];if(s(a)&&n(i))return i;return a})(t,i,r)))}function Yt(e,t,i,s,n){for(;i;)i=Ht(e,t,i,s,n);return i}function qt(e,t){for(const i of t){if(!i)continue;const t=i[e];if(k(t))return t}}function Ut(e){let t=e._keys;return t||(t=e._keys=function(e){const t=new Set;for(const i of e)for(const e of Object.keys(i).filter(e=>!e.startsWith("_")))t.add(e);return Array.from(t)}(e._scopes)),t}function Gt(e,t,i,s){const{iScale:n}=e,{key:r="r"}=this._parsing,a=new Array(s);let o,l,c,h;for(o=0,l=s;o<l;++o)h=t[c=o+i],a[o]={r:n.parse(w(h,r),c)};return a}const Xt=Number.EPSILON||1e-14,Kt=(e,t)=>t<e.length&&!e[t].skip&&e[t],Zt=e=>"x"===e?"y":"x";function Jt(e,t,i,s){const n=e.skip?t:e,r=t,a=i.skip?t:i,o=U(r,n),l=U(a,r);let c=o/(o+l),h=l/(o+l);const u=s*(c=isNaN(c)?0:c),d=s*(h=isNaN(h)?0:h);return{previous:{x:r.x-u*(a.x-n.x),y:r.y-u*(a.y-n.y)},next:{x:r.x+d*(a.x-n.x),y:r.y+d*(a.y-n.y)}}}function Qt(e,t="x"){const i=Zt(t),s=e.length,n=Array(s).fill(0),r=Array(s);let a,o,l,c=Kt(e,0);for(a=0;a<s;++a)if(o=l,l=c,c=Kt(e,a+1),l){if(c){const e=c[t]-l[t];n[a]=0!==e?(c[i]-l[i])/e:0}r[a]=o?c?F(n[a-1])!==F(n[a])?0:(n[a-1]+n[a])/2:n[a-1]:n[a]}!function(e,t,i){const s=e.length;let n,r,a,o,l,c=Kt(e,0);for(let h=0;h<s-1;++h)l=c,c=Kt(e,h+1),l&&c&&(z(t[h],0,Xt)?i[h]=i[h+1]=0:(n=i[h]/t[h],r=i[h+1]/t[h],(o=Math.pow(n,2)+Math.pow(r,2))<=9||(a=3/Math.sqrt(o),i[h]=n*a*t[h],i[h+1]=r*a*t[h])))}(e,n,r),function(e,t,i="x"){const s=Zt(i),n=e.length;let r,a,o,l=Kt(e,0);for(let c=0;c<n;++c){if(a=o,o=l,l=Kt(e,c+1),!o)continue;const n=o[i],h=o[s];a&&(r=(n-a[i])/3,o[`cp1${i}`]=n-r,o[`cp1${s}`]=h-r*t[c]),l&&(r=(l[i]-n)/3,o[`cp2${i}`]=n+r,o[`cp2${s}`]=h+r*t[c])}}(e,r,t)}function ei(e,t,i){return Math.max(Math.min(e,i),t)}function ti(e,t,i,s,n){let r,a,o,l;if(t.spanGaps&&(e=e.filter(e=>!e.skip)),"monotone"===t.cubicInterpolationMode)Qt(e,n);else{let i=s?e[e.length-1]:e[0];for(r=0,a=e.length;r<a;++r)l=Jt(i,o=e[r],e[Math.min(r+1,a-(s?0:1))%a],t.tension),o.cp1x=l.previous.x,o.cp1y=l.previous.y,o.cp2x=l.next.x,o.cp2y=l.next.y,i=o}t.capBezierPoints&&function(e,t){let i,s,n,r,a,o=Tt(e[0],t);for(i=0,s=e.length;i<s;++i)a=r,r=o,o=i<s-1&&Tt(e[i+1],t),r&&(n=e[i],a&&(n.cp1x=ei(n.cp1x,t.left,t.right),n.cp1y=ei(n.cp1y,t.top,t.bottom)),o&&(n.cp2x=ei(n.cp2x,t.left,t.right),n.cp2y=ei(n.cp2y,t.top,t.bottom)))}(e,i)}const ii=e=>0===e||1===e,si=(e,t,i)=>-Math.pow(2,10*(e-=1))*Math.sin((e-t)*M/i),ni=(e,t,i)=>Math.pow(2,-10*e)*Math.sin((e-t)*M/i)+1,ri={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>1-Math.cos(e*D),easeOutSine:e=>Math.sin(e*D),easeInOutSine:e=>-.5*(Math.cos(T*e)-1),easeInExpo:e=>0===e?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>1===e?1:1-Math.pow(2,-10*e),easeInOutExpo:e=>ii(e)?e:e<.5?.5*Math.pow(2,10*(2*e-1)):.5*(2-Math.pow(2,-10*(2*e-1))),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>ii(e)?e:si(e,.075,.3),easeOutElastic:e=>ii(e)?e:ni(e,.075,.3),easeInOutElastic:e=>ii(e)?e:e<.5?.5*si(2*e,.1125,.45):.5+.5*ni(2*e-1,.1125,.45),easeInBack(e){const t=1.70158;return e*e*((t+1)*e-t)},easeOutBack(e){const t=1.70158;return(e-=1)*e*((t+1)*e+t)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?e*e*((1+(t*=1.525))*e-t)*.5:.5*((e-=2)*e*((1+(t*=1.525))*e+t)+2)},easeInBounce:e=>1-ri.easeOutBounce(1-e),easeOutBounce(e){const t=7.5625,i=2.75;return e<1/i?t*e*e:e<2/i?t*(e-=1.5/i)*e+.75:e<2.5/i?t*(e-=2.25/i)*e+.9375:t*(e-=2.625/i)*e+.984375},easeInOutBounce:e=>e<.5?.5*ri.easeInBounce(2*e):.5*ri.easeOutBounce(2*e-1)+.5};function ai(e,t,i,s){return{x:e.x+i*(t.x-e.x),y:e.y+i*(t.y-e.y)}}function oi(e,t,i,s){return{x:e.x+i*(t.x-e.x),y:"middle"===s?i<.5?e.y:t.y:"after"===s?i<1?e.y:t.y:i>0?t.y:e.y}}function li(e,t,i,s){const n={x:e.cp2x,y:e.cp2y},r={x:t.cp1x,y:t.cp1y},a=ai(e,n,i),o=ai(n,r,i),l=ai(r,t,i),c=ai(a,o,i),h=ai(o,l,i);return ai(c,h,i)}const ci=new Map;function hi(e,t,i){return function(e,t){t=t||{};const i=e+JSON.stringify(t);let s=ci.get(i);return s||(s=new Intl.NumberFormat(e,t),ci.set(i,s)),s}(t,i).format(e)}const ui=new RegExp(/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/),di=new RegExp(/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/);function pi(e,t){const i=(""+e).match(ui);if(!i||"normal"===i[1])return 1.2*t;switch(e=+i[2],i[3]){case"px":return e;case"%":e/=100}return t*e}const fi=e=>+e||0;function mi(e,t){const i={},s=n(t),r=s?Object.keys(t):t,a=n(e)?s?i=>o(e[i],e[t[i]]):t=>e[t]:()=>e;for(const e of r)i[e]=fi(a(e));return i}function gi(e){return mi(e,{top:"y",right:"x",bottom:"y",left:"x"})}function vi(e){return mi(e,["topLeft","topRight","bottomLeft","bottomRight"])}function yi(e){const t=gi(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function bi(e,t){e=e||{},t=t||rt.font;let i=o(e.size,t.size);"string"==typeof i&&(i=parseInt(i,10));let s=o(e.style,t.style);s&&!(""+s).match(di)&&(console.warn('Invalid font style specified: "'+s+'"'),s="");const n={family:o(e.family,t.family),lineHeight:pi(o(e.lineHeight,t.lineHeight),i),size:i,style:s,weight:o(e.weight,t.weight),string:""};return n.string=wt(n),n}function wi(e,t,i,n){let r,a,o,l=!0;for(r=0,a=e.length;r<a;++r)if(void 0!==(o=e[r])&&(void 0!==t&&"function"==typeof o&&(o=o(t),l=!1),void 0!==i&&s(o)&&(o=o[i%o.length],l=!1),void 0!==o))return n&&!l&&(n.cacheable=!1),o}function xi(e,t,i){const{min:s,max:n}=e,r=c(t,(n-s)/2),a=(e,t)=>i&&0===e?0:e+t;return{min:a(s,-Math.abs(r)),max:a(n,r)}}function _i(e,t){return Object.assign(Object.create(e),t)}const ki=function(e,t){return{x:i=>e+e+t-i,setWidth(e){t=e},textAlign:e=>"center"===e?e:"right"===e?"left":"right",xPlus:(e,t)=>e-t,leftForLtr:(e,t)=>e-t}},Ei=function(){return{x:e=>e,setWidth(e){},textAlign:e=>e,xPlus:(e,t)=>e+t,leftForLtr:(e,t)=>e}};function Si(e,t,i){return e?ki(t,i):Ei()}function Ci(e,t){let i,s;"ltr"!==t&&"rtl"!==t||(s=[(i=e.canvas.style).getPropertyValue("direction"),i.getPropertyPriority("direction")],i.setProperty("direction",t,"important"),e.prevTextDirection=s)}function Ti(e,t){void 0!==t&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function Mi(e){return"angle"===e?{between:K,compare:G,normalize:X}:{between:Q,compare:(e,t)=>e-t,normalize:e=>e}}function Pi({start:e,end:t,count:i,loop:s,style:n}){return{start:e%i,end:t%i,loop:s&&(t-e+1)%i==0,style:n}}function Ai(e,t,i){if(!i)return[e];const{property:s,start:n,end:r}=i,a=t.length,{compare:o,between:l,normalize:c}=Mi(s),{start:h,end:u,loop:d,style:p}=function(e,t,i){const{property:s,start:n,end:r}=i,{between:a,normalize:o}=Mi(s),l=t.length;let c,h,{start:u,end:d,loop:p}=e;if(p){for(u+=l,d+=l,c=0,h=l;c<h&&a(o(t[u%l][s]),n,r);++c)u--,d--;u%=l,d%=l}return d<u&&(d+=l),{start:u,end:d,loop:p,style:e.style}}(e,t,i),f=[];let m,g,v,y=!1,b=null;const w=()=>y||(()=>l(n,v,m)&&0!==o(n,v))(),x=()=>!y||(()=>0===o(r,m)||l(r,v,m))();for(let e=h,i=h;e<=u;++e)(g=t[e%a]).skip||(m=c(g[s]))!==v&&(y=l(m,n,r),null===b&&w()&&(b=0===o(m,n)?e:i),null!==b&&x()&&(f.push(Pi({start:b,end:e,loop:d,count:a,style:p})),b=null),i=e,v=m);return null!==b&&f.push(Pi({start:b,end:u,loop:d,count:a,style:p})),f}function Oi(e,t){const i=[],s=e.segments;for(let n=0;n<s.length;n++){const r=Ai(s[n],e.points,t);r.length&&i.push(...r)}return i}function Di(e,t){const i=e.points,s=e.options.spanGaps,n=i.length;if(!n)return[];const r=!!e._loop,{start:a,end:o}=function(e,t,i,s){let n=0,r=t-1;if(i&&!s)for(;n<t&&!e[n].skip;)n++;for(;n<t&&e[n].skip;)n++;for(n%=t,i&&(r+=n);r>n&&e[r%t].skip;)r--;return{start:n,end:r%=t}}(i,n,r,s);return Li(e,!0===s?[{start:a,end:o,loop:r}]:function(e,t,i,s){const n=e.length,r=[];let a,o=t,l=e[t];for(a=t+1;a<=i;++a){const i=e[a%n];i.skip||i.stop?l.skip||(s=!1,r.push({start:t%n,end:(a-1)%n,loop:s}),t=o=i.stop?a:null):(o=a,l.skip&&(t=a)),l=i}return null!==o&&r.push({start:t%n,end:o%n,loop:s}),r}(i,a,o<a?o+n:o,!!e._fullLoop&&0===a&&o===n-1),i,t)}function Li(e,t,i,s){return s&&s.setContext&&i?function(e,t,i,s){const n=e._chart.getContext(),r=Ii(e.options),{_datasetIndex:a,options:{spanGaps:o}}=e,l=i.length,c=[];let h=r,u=t[0].start,d=u;function p(e,t,s,n){const r=o?-1:1;if(e!==t){for(e+=l;i[e%l].skip;)e-=r;for(;i[t%l].skip;)t+=r;e%l!=t%l&&(c.push({start:e%l,end:t%l,loop:s,style:n}),h=n,u=t%l)}}for(const e of t){u=o?u:e.start;let t,r=i[u%l];for(d=u+1;d<=e.end;d++){const o=i[d%l];$i(t=Ii(s.setContext(_i(n,{type:"segment",p0:r,p1:o,p0DataIndex:(d-1)%l,p1DataIndex:d%l,datasetIndex:a}))),h)&&p(u,d-1,e.loop,h),r=o,h=t}u<d-1&&p(u,d-1,e.loop,h)}return c}(e,t,i,s):t}function Ii(e){return{backgroundColor:e.backgroundColor,borderCapStyle:e.borderCapStyle,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderJoinStyle:e.borderJoinStyle,borderWidth:e.borderWidth,borderColor:e.borderColor}}function $i(e,t){return t&&JSON.stringify(e)!==JSON.stringify(t)}var Fi=Object.freeze({__proto__:null,easingEffects:ri,isPatternOrGradient:Je,color:Qe,getHoverColor:et,noop:e,uid:t,isNullOrUndef:i,isArray:s,isObject:n,isFinite:r,finiteOrDefault:a,valueOrDefault:o,toPercentage:l,toDimension:c,callback:h,each:u,_elementsEqual:d,clone:p,_merger:m,merge:g,mergeIf:v,_mergerIf:y,_deprecated:function(e,t,i,s){void 0!==t&&console.warn(e+': "'+i+'" is deprecated. Please use "'+s+'" instead')},resolveObjectKey:w,_splitKey:x,_capitalize:_,defined:k,isFunction:E,setsEqual:S,_isClickEvent:C,toFontString:wt,_measureText:xt,_longestText:_t,_alignPixel:kt,clearCanvas:Et,drawPoint:St,drawPointLegend:Ct,_isPointInArea:Tt,clipArea:Mt,unclipArea:Pt,_steppedLineTo:At,_bezierCurveTo:Ot,renderText:Dt,addRoundedRectPath:It,_lookup:ee,_lookupByKey:te,_rlookupByKey:ie,_filterBetween:se,listenArrayEvents:re,unlistenArrayEvents:ae,_arrayUnique:oe,_createResolver:$t,_attachContext:Ft,_descriptors:Nt,_parseObjectDataRadialScale:Gt,splineCurve:Jt,splineCurveMonotone:Qt,_updateBezierControlPoints:ti,_isDomSupported:at,_getParentNode:ot,getStyle:ht,getRelativePosition:ft,getMaximumSize:gt,retinaScale:vt,supportsEventListenerOptions:yt,readUsedSize:bt,fontString:function(e,t,i){return t+" "+e+"px "+i},requestAnimFrame:le,throttled:ce,debounce:he,_toLeftRightCenter:ue,_alignStartEnd:de,_textX:pe,_getStartAndCountOfVisiblePoints:fe,_scaleRangesChanged:me,_pointInLine:ai,_steppedInterpolation:oi,_bezierInterpolation:li,formatNumber:hi,toLineHeight:pi,_readValueToProps:mi,toTRBL:gi,toTRBLCorners:vi,toPadding:yi,toFont:bi,resolve:wi,_addGrace:xi,createContext:_i,PI:T,TAU:M,PITAU:P,INFINITY:A,RAD_PER_DEG:O,HALF_PI:D,QUARTER_PI:L,TWO_THIRDS_PI:I,log10:$,sign:F,niceNum:N,_factorize:R,isNumber:j,almostEquals:z,almostWhole:B,_setMinAndMaxByKey:V,toRadians:H,toDegrees:W,_decimalPlaces:Y,getAngleFromPoint:q,distanceBetweenPoints:U,_angleDiff:G,_normalizeAngle:X,_angleBetween:K,_limitValue:Z,_int16Range:J,_isBetween:Q,getRtlAdapter:Si,overrideTextDirection:Ci,restoreTextDirection:Ti,_boundSegment:Ai,_boundSegments:Oi,_computeSegments:Di});function Ni(e,t,i,s){const{controller:n,data:r,_sorted:a}=e,o=n._cachedMeta.iScale;if(o&&t===o.axis&&"r"!==t&&a&&r.length){const e=o._reversePixels?ie:te;if(!s)return e(r,t,i);if(n._sharedOptions){const s=r[0],n="function"==typeof s.getRange&&s.getRange(t);if(n){const s=e(r,t,i-n),a=e(r,t,i+n);return{lo:s.lo,hi:a.hi}}}}return{lo:0,hi:r.length-1}}function Ri(e,t,i,s,n){const r=e.getSortedVisibleDatasetMetas(),a=i[t];for(let e=0,i=r.length;e<i;++e){const{index:i,data:o}=r[e],{lo:l,hi:c}=Ni(r[e],t,a,n);for(let e=l;e<=c;++e){const t=o[e];t.skip||s(t,i,e)}}}function ji(e,t,i,s,n){const r=[];if(!n&&!e.isPointInArea(t))return r;return Ri(e,i,t,function(i,a,o){(n||Tt(i,e.chartArea,0))&&i.inRange(t.x,t.y,s)&&r.push({element:i,datasetIndex:a,index:o})},!0),r}function zi(e,t,i,s,n,r){let a=[];const o=function(e){const t=-1!==e.indexOf("x"),i=-1!==e.indexOf("y");return function(e,s){const n=t?Math.abs(e.x-s.x):0,r=i?Math.abs(e.y-s.y):0;return Math.sqrt(Math.pow(n,2)+Math.pow(r,2))}}(i);let l=Number.POSITIVE_INFINITY;return Ri(e,i,t,function(i,c,h){const u=i.inRange(t.x,t.y,n);if(s&&!u)return;const d=i.getCenterPoint(n);if(!r&&!e.isPointInArea(d)&&!u)return;const p=o(t,d);p<l?(a=[{element:i,datasetIndex:c,index:h}],l=p):p===l&&a.push({element:i,datasetIndex:c,index:h})}),a}function Bi(e,t,i,s,n,r){return r||e.isPointInArea(t)?"r"!==i||s?zi(e,t,i,s,n,r):function(e,t,i,s){let n=[];return Ri(e,i,t,function(e,i,r){const{startAngle:a,endAngle:o}=e.getProps(["startAngle","endAngle"],s),{angle:l}=q(e,{x:t.x,y:t.y});K(l,a,o)&&n.push({element:e,datasetIndex:i,index:r})}),n}(e,t,i,n):[]}function Vi(e,t,i,s,n){const r=[],a="x"===i?"inXRange":"inYRange";let o=!1;return Ri(e,i,t,(e,s,l)=>{e[a](t[i],n)&&(r.push({element:e,datasetIndex:s,index:l}),o=o||e.inRange(t.x,t.y,n))}),s&&!o?[]:r}var Hi={evaluateInteractionItems:Ri,modes:{index(e,t,i,s){const n=ft(t,e),r=i.axis||"x",a=i.includeInvisible||!1,o=i.intersect?ji(e,n,r,s,a):Bi(e,n,r,!1,s,a),l=[];return o.length?(e.getSortedVisibleDatasetMetas().forEach(e=>{const t=o[0].index,i=e.data[t];i&&!i.skip&&l.push({element:i,datasetIndex:e.index,index:t})}),l):[]},dataset(e,t,i,s){const n=ft(t,e),r=i.axis||"xy",a=i.includeInvisible||!1;let o=i.intersect?ji(e,n,r,s,a):Bi(e,n,r,!1,s,a);if(o.length>0){const t=o[0].datasetIndex,i=e.getDatasetMeta(t).data;o=[];for(let e=0;e<i.length;++e)o.push({element:i[e],datasetIndex:t,index:e})}return o},point:(e,t,i,s)=>ji(e,ft(t,e),i.axis||"xy",s,i.includeInvisible||!1),nearest(e,t,i,s){const n=ft(t,e),r=i.axis||"xy",a=i.includeInvisible||!1;return Bi(e,n,r,i.intersect,s,a)},x:(e,t,i,s)=>Vi(e,ft(t,e),"x",i.intersect,s),y:(e,t,i,s)=>Vi(e,ft(t,e),"y",i.intersect,s)}};const Wi=["left","top","right","bottom"];function Yi(e,t){return e.filter(e=>e.pos===t)}function qi(e,t){return e.filter(e=>-1===Wi.indexOf(e.pos)&&e.box.axis===t)}function Ui(e,t){return e.sort((e,i)=>{const s=t?i:e,n=t?e:i;return s.weight===n.weight?s.index-n.index:s.weight-n.weight})}function Gi(e,t){const i=function(e){const t={};for(const i of e){const{stack:e,pos:s,stackWeight:n}=i;if(!e||!Wi.includes(s))continue;const r=t[e]||(t[e]={count:0,placed:0,weight:0,size:0});r.count++,r.weight+=n}return t}(e),{vBoxMaxWidth:s,hBoxMaxHeight:n}=t;let r,a,o;for(r=0,a=e.length;r<a;++r){o=e[r];const{fullSize:a}=o.box,l=i[o.stack],c=l&&o.stackWeight/l.weight;o.horizontal?(o.width=c?c*s:a&&t.availableWidth,o.height=n):(o.width=s,o.height=c?c*n:a&&t.availableHeight)}return i}function Xi(e,t,i,s){return Math.max(e[i],t[i])+Math.max(e[s],t[s])}function Ki(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function Zi(e,t,i,s){const{pos:r,box:a}=i,o=e.maxPadding;if(!n(r)){i.size&&(e[r]-=i.size);const t=s[i.stack]||{size:0,count:1};t.size=Math.max(t.size,i.horizontal?a.height:a.width),i.size=t.size/t.count,e[r]+=i.size}a.getPadding&&Ki(o,a.getPadding());const l=Math.max(0,t.outerWidth-Xi(o,e,"left","right")),c=Math.max(0,t.outerHeight-Xi(o,e,"top","bottom")),h=l!==e.w,u=c!==e.h;return e.w=l,e.h=c,i.horizontal?{same:h,other:u}:{same:u,other:h}}function Ji(e,t){const i=t.maxPadding;function s(e){const s={left:0,top:0,right:0,bottom:0};return e.forEach(e=>{s[e]=Math.max(t[e],i[e])}),s}return s(e?["left","right"]:["top","bottom"])}function Qi(e,t,i,s){const n=[];let r,a,o,l,c,h;for(r=0,a=e.length,c=0;r<a;++r){(l=(o=e[r]).box).update(o.width||t.w,o.height||t.h,Ji(o.horizontal,t));const{same:a,other:u}=Zi(t,i,o,s);c|=a&&n.length,h=h||u,l.fullSize||n.push(o)}return c&&Qi(n,t,i,s)||h}function es(e,t,i,s,n){e.top=i,e.left=t,e.right=t+s,e.bottom=i+n,e.width=s,e.height=n}function ts(e,t,i,s){const n=i.padding;let{x:r,y:a}=t;for(const o of e){const e=o.box,l=s[o.stack]||{count:1,placed:0,weight:1},c=o.stackWeight/l.weight||1;if(o.horizontal){const s=t.w*c,r=l.size||e.height;k(l.start)&&(a=l.start),e.fullSize?es(e,n.left,a,i.outerWidth-n.right-n.left,r):es(e,t.left+l.placed,a,s,r),l.start=a,l.placed+=s,a=e.bottom}else{const s=t.h*c,a=l.size||e.width;k(l.start)&&(r=l.start),e.fullSize?es(e,r,n.top,a,i.outerHeight-n.bottom-n.top):es(e,r,t.top+l.placed,a,s),l.start=r,l.placed+=s,r=e.right}}t.x=r,t.y=a}rt.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}});var is={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},e.boxes.push(t)},removeBox(e,t){const i=e.boxes?e.boxes.indexOf(t):-1;-1!==i&&e.boxes.splice(i,1)},configure(e,t,i){t.fullSize=i.fullSize,t.position=i.position,t.weight=i.weight},update(e,t,i,s){if(!e)return;const n=yi(e.options.layout.padding),r=Math.max(t-n.width,0),a=Math.max(i-n.height,0),o=function(e){const t=function(e){const t=[];let i,s,n,r,a,o;for(i=0,s=(e||[]).length;i<s;++i)n=e[i],({position:r,options:{stack:a,stackWeight:o=1}}=n),t.push({index:i,box:n,pos:r,horizontal:n.isHorizontal(),weight:n.weight,stack:a&&r+a,stackWeight:o});return t}(e),i=Ui(t.filter(e=>e.box.fullSize),!0),s=Ui(Yi(t,"left"),!0),n=Ui(Yi(t,"right")),r=Ui(Yi(t,"top"),!0),a=Ui(Yi(t,"bottom")),o=qi(t,"x"),l=qi(t,"y");return{fullSize:i,leftAndTop:s.concat(r),rightAndBottom:n.concat(l).concat(a).concat(o),chartArea:Yi(t,"chartArea"),vertical:s.concat(n).concat(l),horizontal:r.concat(a).concat(o)}}(e.boxes),l=o.vertical,c=o.horizontal;u(e.boxes,e=>{"function"==typeof e.beforeLayout&&e.beforeLayout()});const h=l.reduce((e,t)=>t.box.options&&!1===t.box.options.display?e:e+1,0)||1,d=Object.freeze({outerWidth:t,outerHeight:i,padding:n,availableWidth:r,availableHeight:a,vBoxMaxWidth:r/2/h,hBoxMaxHeight:a/2}),p=Object.assign({},n);Ki(p,yi(s));const f=Object.assign({maxPadding:p,w:r,h:a,x:n.left,y:n.top},n),m=Gi(l.concat(c),d);Qi(o.fullSize,f,d,m),Qi(l,f,d,m),Qi(c,f,d,m)&&Qi(l,f,d,m),function(e){const t=e.maxPadding;function i(i){const s=Math.max(t[i]-e[i],0);return e[i]+=s,s}e.y+=i("top"),e.x+=i("left"),i("right"),i("bottom")}(f),ts(o.leftAndTop,f,d,m),f.x+=f.w,f.y+=f.h,ts(o.rightAndBottom,f,d,m),e.chartArea={left:f.left,top:f.top,right:f.left+f.w,bottom:f.top+f.h,height:f.h,width:f.w},u(o.chartArea,t=>{const i=t.box;Object.assign(i,e.chartArea),i.update(f.w,f.h,{left:0,top:0,right:0,bottom:0})})}};class ss{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,i){}removeEventListener(e,t,i){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,i,s){return t=Math.max(0,t||e.width),i=i||e.height,{width:t,height:Math.max(0,s?Math.floor(t/s):i)}}isAttached(e){return!0}updateConfig(e){}}class ns extends ss{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const rs="$chartjs",as={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},os=e=>null===e||""===e;const ls=!!yt&&{passive:!0};function cs(e,t,i){e.canvas.removeEventListener(t,i,ls)}function hs(e,t){for(const i of e)if(i===t||i.contains(t))return!0}function us(e,t,i){const s=e.canvas,n=new MutationObserver(e=>{let t=!1;for(const i of e)t=(t=t||hs(i.addedNodes,s))&&!hs(i.removedNodes,s);t&&i()});return n.observe(document,{childList:!0,subtree:!0}),n}function ds(e,t,i){const s=e.canvas,n=new MutationObserver(e=>{let t=!1;for(const i of e)t=(t=t||hs(i.removedNodes,s))&&!hs(i.addedNodes,s);t&&i()});return n.observe(document,{childList:!0,subtree:!0}),n}const ps=new Map;let fs=0;function ms(){const e=window.devicePixelRatio;e!==fs&&(fs=e,ps.forEach((t,i)=>{i.currentDevicePixelRatio!==e&&t()}))}function gs(e,t,i){const s=e.canvas,n=s&&ot(s);if(!n)return;const r=ce((e,t)=>{const s=n.clientWidth;i(e,t),s<n.clientWidth&&i()},window),a=new ResizeObserver(e=>{const t=e[0],i=t.contentRect.width,s=t.contentRect.height;0===i&&0===s||r(i,s)});return a.observe(n),function(e,t){ps.size||window.addEventListener("resize",ms),ps.set(e,t)}(e,r),a}function vs(e,t,i){i&&i.disconnect(),"resize"===t&&function(e){ps.delete(e),ps.size||window.removeEventListener("resize",ms)}(e)}function ys(e,t,i){const s=e.canvas,n=ce(t=>{null!==e.ctx&&i(function(e,t){const i=as[e.type]||e.type,{x:s,y:n}=ft(e,t);return{type:i,chart:t,native:e,x:void 0!==s?s:null,y:void 0!==n?n:null}}(t,e))},e,e=>{const t=e[0];return[t,t.offsetX,t.offsetY]});return function(e,t,i){e.addEventListener(t,i,ls)}(s,t,n),n}class bs extends ss{acquireContext(e,t){const i=e&&e.getContext&&e.getContext("2d");return i&&i.canvas===e?(function(e,t){const i=e.style,s=e.getAttribute("height"),n=e.getAttribute("width");if(e[rs]={initial:{height:s,width:n,style:{display:i.display,height:i.height,width:i.width}}},i.display=i.display||"block",i.boxSizing=i.boxSizing||"border-box",os(n)){const t=bt(e,"width");void 0!==t&&(e.width=t)}if(os(s))if(""===e.style.height)e.height=e.width/(t||2);else{const t=bt(e,"height");void 0!==t&&(e.height=t)}}(e,t),i):null}releaseContext(e){const t=e.canvas;if(!t[rs])return!1;const s=t[rs].initial;["height","width"].forEach(e=>{const n=s[e];i(n)?t.removeAttribute(e):t.setAttribute(e,n)});const n=s.style||{};return Object.keys(n).forEach(e=>{t.style[e]=n[e]}),t.width=t.width,delete t[rs],!0}addEventListener(e,t,i){this.removeEventListener(e,t);const s=e.$proxies||(e.$proxies={}),n={attach:us,detach:ds,resize:gs}[t]||ys;s[t]=n(e,t,i)}removeEventListener(e,t){const i=e.$proxies||(e.$proxies={}),s=i[t];s&&(({attach:vs,detach:vs,resize:vs}[t]||cs)(e,t,s),i[t]=void 0)}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,i,s){return gt(e,t,i,s)}isAttached(e){const t=ot(e);return!(!t||!t.isConnected)}}function ws(e){return!at()||"undefined"!=typeof OffscreenCanvas&&e instanceof OffscreenCanvas?ns:bs}var xs=Object.freeze({__proto__:null,_detectPlatform:ws,BasePlatform:ss,BasicPlatform:ns,DomPlatform:bs});const _s={boolean:(e,t,i)=>i>.5?t:e,color(e,t,i){const s=Qe(e||"transparent"),n=s.valid&&Qe(t||"transparent");return n&&n.valid?n.mix(s,i).hexString():t},number:(e,t,i)=>e+(t-e)*i};class ks{constructor(e,t,i,s){const n=t[i];s=wi([e.to,s,n,e.from]);const r=wi([e.from,n,s]);this._active=!0,this._fn=e.fn||_s[e.type||typeof r],this._easing=ri[e.easing]||ri.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=i,this._from=r,this._to=s,this._promises=void 0}active(){return this._active}update(e,t,i){if(this._active){this._notify(!1);const s=this._target[this._prop],n=i-this._start,r=this._duration-n;this._start=i,this._duration=Math.floor(Math.max(r,e.duration)),this._total+=n,this._loop=!!e.loop,this._to=wi([e.to,t,s,e.from]),this._from=wi([e.from,s,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const t=e-this._start,i=this._duration,s=this._prop,n=this._from,r=this._loop,a=this._to;let o;if(this._active=n!==a&&(r||t<i),!this._active)return this._target[s]=a,void this._notify(!0);t<0?this._target[s]=n:(o=t/i%2,o=r&&o>1?2-o:o,o=this._easing(Math.min(1,Math.max(0,o))),this._target[s]=this._fn(n,a,o))}wait(){const e=this._promises||(this._promises=[]);return new Promise((t,i)=>{e.push({res:t,rej:i})})}_notify(e){const t=e?"res":"rej",i=this._promises||[];for(let e=0;e<i.length;e++)i[e][t]()}}rt.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0});const Es=Object.keys(rt.animation);rt.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>"onProgress"!==e&&"onComplete"!==e&&"fn"!==e}),rt.set("animations",{colors:{type:"color",properties:["color","borderColor","backgroundColor"]},numbers:{type:"number",properties:["x","y","borderWidth","radius","tension"]}}),rt.describe("animations",{_fallback:"animation"}),rt.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>0|e}}}});class Ss{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!n(e))return;const t=this._properties;Object.getOwnPropertyNames(e).forEach(i=>{const r=e[i];if(!n(r))return;const a={};for(const e of Es)a[e]=r[e];(s(r.properties)&&r.properties||[i]).forEach(e=>{e!==i&&t.has(e)||t.set(e,a)})})}_animateOptions(e,t){const i=t.options,s=function(e,t){if(!t)return;let i=e.options;if(!i)return void(e.options=t);i.$shared&&(e.options=i=Object.assign({},i,{$shared:!1,$animations:{}}));return i}(e,i);if(!s)return[];const n=this._createAnimations(s,i);return i.$shared&&function(e,t){const i=[],s=Object.keys(t);for(let t=0;t<s.length;t++){const n=e[s[t]];n&&n.active()&&i.push(n.wait())}return Promise.all(i)}(e.options.$animations,i).then(()=>{e.options=i},()=>{}),n}_createAnimations(e,t){const i=this._properties,s=[],n=e.$animations||(e.$animations={}),r=Object.keys(t),a=Date.now();let o;for(o=r.length-1;o>=0;--o){const l=r[o];if("$"===l.charAt(0))continue;if("options"===l){s.push(...this._animateOptions(e,t));continue}const c=t[l];let h=n[l];const u=i.get(l);if(h){if(u&&h.active()){h.update(u,c,a);continue}h.cancel()}u&&u.duration?(n[l]=h=new ks(u,e,l,c),s.push(h)):e[l]=c}return s}update(e,t){if(0===this._properties.size)return void Object.assign(e,t);const i=this._createAnimations(e,t);return i.length?(ge.add(this._chart,i),!0):void 0}}function Cs(e,t){const i=e&&e.options||{},s=i.reverse,n=void 0===i.min?t:0,r=void 0===i.max?t:0;return{start:s?r:n,end:s?n:r}}function Ts(e,t){const i=[],s=e._getSortedDatasetMetas(t);let n,r;for(n=0,r=s.length;n<r;++n)i.push(s[n].index);return i}function Ms(e,t,i,s={}){const n=e.keys,a="single"===s.mode;let o,l,c,h;if(null!==t){for(o=0,l=n.length;o<l;++o){if((c=+n[o])===i){if(s.all)continue;break}h=e.values[c],r(h)&&(a||0===t||F(t)===F(h))&&(t+=h)}return t}}function Ps(e,t){const i=e&&e.options.stacked;return i||void 0===i&&void 0!==t.stack}function As(e,t,i){const s=e[t]||(e[t]={});return s[i]||(s[i]={})}function Os(e,t,i,s){for(const n of t.getMatchingVisibleMetas(s).reverse()){const t=e[n.index];if(i&&t>0||!i&&t<0)return n.index}return null}function Ds(e,t){const{chart:i,_cachedMeta:s}=e,n=i._stacks||(i._stacks={}),{iScale:r,vScale:a,index:o}=s,l=r.axis,c=a.axis,h=function(e,t,i){return`${e.id}.${t.id}.${i.stack||i.type}`}(r,a,s),u=t.length;let d;for(let e=0;e<u;++e){const i=t[e],{[l]:r,[c]:u}=i;(d=(i._stacks||(i._stacks={}))[c]=As(n,h,r))[o]=u,d._top=Os(d,a,!0,s.type),d._bottom=Os(d,a,!1,s.type)}}function Ls(e,t){const i=e.scales;return Object.keys(i).filter(e=>i[e].axis===t).shift()}function Is(e,t){const i=e.controller.index,s=e.vScale&&e.vScale.axis;if(s){t=t||e._parsed;for(const e of t){const t=e._stacks;if(!t||void 0===t[s]||void 0===t[s][i])return;delete t[s][i]}}}const $s=e=>"reset"===e||"none"===e,Fs=(e,t)=>t?e:Object.assign({},e),Ns=(e,t,i)=>e&&!t.hidden&&t._stacked&&{keys:Ts(i,!0),values:null};class Rs{constructor(e,t){this.chart=e,this._ctx=e.ctx,this.index=t,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=Ps(e.vScale,e),this.addElements()}updateIndex(e){this.index!==e&&Is(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,t=this._cachedMeta,i=this.getDataset(),s=(e,t,i,s)=>"x"===e?t:"r"===e?s:i,n=t.xAxisID=o(i.xAxisID,Ls(e,"x")),r=t.yAxisID=o(i.yAxisID,Ls(e,"y")),a=t.rAxisID=o(i.rAxisID,Ls(e,"r")),l=t.indexAxis,c=t.iAxisID=s(l,n,r,a),h=t.vAxisID=s(l,r,n,a);t.xScale=this.getScaleForId(n),t.yScale=this.getScaleForId(r),t.rScale=this.getScaleForId(a),t.iScale=this.getScaleForId(c),t.vScale=this.getScaleForId(h)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&ae(this._data,this),e._stacked&&Is(e)}_dataCheck(){const e=this.getDataset(),t=e.data||(e.data=[]),i=this._data;if(n(t))this._data=function(e){const t=Object.keys(e),i=new Array(t.length);let s,n,r;for(s=0,n=t.length;s<n;++s)r=t[s],i[s]={x:r,y:e[r]};return i}(t);else if(i!==t){if(i){ae(i,this);const e=this._cachedMeta;Is(e),e._parsed=[]}t&&Object.isExtensible(t)&&re(t,this),this._syncList=[],this._data=t}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const t=this._cachedMeta,i=this.getDataset();let s=!1;this._dataCheck();const n=t._stacked;t._stacked=Ps(t.vScale,t),t.stack!==i.stack&&(s=!0,Is(t),t.stack=i.stack),this._resyncElements(e),(s||n!==t._stacked)&&Ds(this,t._parsed)}configure(){const e=this.chart.config,t=e.datasetScopeKeys(this._type),i=e.getOptionScopes(this.getDataset(),t,!0);this.options=e.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,t){const{_cachedMeta:i,_data:r}=this,{iScale:a,_stacked:o}=i,l=a.axis;let c,h,u,d=0===e&&t===r.length||i._sorted,p=e>0&&i._parsed[e-1];if(!1===this._parsing)i._parsed=r,i._sorted=!0,u=r;else{u=s(r[e])?this.parseArrayData(i,r,e,t):n(r[e])?this.parseObjectData(i,r,e,t):this.parsePrimitiveData(i,r,e,t);const a=()=>null===h[l]||p&&h[l]<p[l];for(c=0;c<t;++c)i._parsed[c+e]=h=u[c],d&&(a()&&(d=!1),p=h);i._sorted=d}o&&Ds(this,u)}parsePrimitiveData(e,t,i,s){const{iScale:n,vScale:r}=e,a=n.axis,o=r.axis,l=n.getLabels(),c=n===r,h=new Array(s);let u,d,p;for(u=0,d=s;u<d;++u)p=u+i,h[u]={[a]:c||n.parse(l[p],p),[o]:r.parse(t[p],p)};return h}parseArrayData(e,t,i,s){const{xScale:n,yScale:r}=e,a=new Array(s);let o,l,c,h;for(o=0,l=s;o<l;++o)h=t[c=o+i],a[o]={x:n.parse(h[0],c),y:r.parse(h[1],c)};return a}parseObjectData(e,t,i,s){const{xScale:n,yScale:r}=e,{xAxisKey:a="x",yAxisKey:o="y"}=this._parsing,l=new Array(s);let c,h,u,d;for(c=0,h=s;c<h;++c)d=t[u=c+i],l[c]={x:n.parse(w(d,a),u),y:r.parse(w(d,o),u)};return l}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,t,i){const s=this.chart,n=this._cachedMeta,r=t[e.axis];return Ms({keys:Ts(s,!0),values:t._stacks[e.axis]},r,n.index,{mode:i})}updateRangeFromParsed(e,t,i,s){const n=i[t.axis];let r=null===n?NaN:n;const a=s&&i._stacks[t.axis];s&&a&&(s.values=a,r=Ms(s,n,this._cachedMeta.index)),e.min=Math.min(e.min,r),e.max=Math.max(e.max,r)}getMinMax(e,t){const i=this._cachedMeta,s=i._parsed,n=i._sorted&&e===i.iScale,a=s.length,o=this._getOtherScale(e),l=Ns(t,i,this.chart),c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:h,max:u}=function(e){const{min:t,max:i,minDefined:s,maxDefined:n}=e.getUserBounds();return{min:s?t:Number.NEGATIVE_INFINITY,max:n?i:Number.POSITIVE_INFINITY}}(o);let d,p;function f(){const t=(p=s[d])[o.axis];return!r(p[e.axis])||h>t||u<t}for(d=0;d<a&&(f()||(this.updateRangeFromParsed(c,e,p,l),!n));++d);if(n)for(d=a-1;d>=0;--d)if(!f()){this.updateRangeFromParsed(c,e,p,l);break}return c}getAllParsedValues(e){const t=this._cachedMeta._parsed,i=[];let s,n,a;for(s=0,n=t.length;s<n;++s)a=t[s][e.axis],r(a)&&i.push(a);return i}getMaxOverflow(){return!1}getLabelAndValue(e){const t=this._cachedMeta,i=t.iScale,s=t.vScale,n=this.getParsed(e);return{label:i?""+i.getLabelForValue(n[i.axis]):"",value:s?""+s.getLabelForValue(n[s.axis]):""}}_update(e){const t=this._cachedMeta;this.update(e||"default"),t._clip=function(e){let t,i,s,r;return n(e)?(t=e.top,i=e.right,s=e.bottom,r=e.left):t=i=s=r=e,{top:t,right:i,bottom:s,left:r,disabled:!1===e}}(o(this.options.clip,function(e,t,i){if(!1===i)return!1;const s=Cs(e,i),n=Cs(t,i);return{top:n.end,right:s.end,bottom:n.start,left:s.start}}(t.xScale,t.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,t=this.chart,i=this._cachedMeta,s=i.data||[],n=t.chartArea,r=[],a=this._drawStart||0,o=this._drawCount||s.length-a,l=this.options.drawActiveElementsOnTop;let c;for(i.dataset&&i.dataset.draw(e,n,a,o),c=a;c<a+o;++c){const t=s[c];t.hidden||(t.active&&l?r.push(t):t.draw(e,n))}for(c=0;c<r.length;++c)r[c].draw(e,n)}getStyle(e,t){const i=t?"active":"default";return void 0===e&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(e||0,i)}getContext(e,t,i){const s=this.getDataset();let n;if(e>=0&&e<this._cachedMeta.data.length){const t=this._cachedMeta.data[e];(n=t.$context||(t.$context=function(e,t,i){return _i(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:i,index:t,mode:"default",type:"data"})}(this.getContext(),e,t))).parsed=this.getParsed(e),n.raw=s.data[e],n.index=n.dataIndex=e}else(n=this.$context||(this.$context=function(e,t){return _i(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}(this.chart.getContext(),this.index))).dataset=s,n.index=n.datasetIndex=this.index;return n.active=!!t,n.mode=i,n}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}_resolveElementOptions(e,t="default",i){const s="active"===t,n=this._cachedDataOpts,r=e+"-"+t,a=n[r],o=this.enableOptionSharing&&k(i);if(a)return Fs(a,o);const l=this.chart.config,c=l.datasetElementScopeKeys(this._type,e),h=s?[`${e}Hover`,"hover",e,""]:[e,""],u=l.getOptionScopes(this.getDataset(),c),d=Object.keys(rt.elements[e]),p=l.resolveNamedOptions(u,d,()=>this.getContext(i,s),h);return p.$shared&&(p.$shared=o,n[r]=Object.freeze(Fs(p,o))),p}_resolveAnimations(e,t,i){const s=this.chart,n=this._cachedDataOpts,r=`animation-${t}`,a=n[r];if(a)return a;let o;if(!1!==s.options.animation){const s=this.chart.config,n=s.datasetAnimationScopeKeys(this._type,t),r=s.getOptionScopes(this.getDataset(),n);o=s.createResolver(r,this.getContext(e,i,t))}const l=new Ss(s,o&&o.animations);return o&&o._cacheable&&(n[r]=Object.freeze(l)),l}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,t){return!t||$s(e)||this.chart._animationsDisabled}_getSharedOptions(e,t){const i=this.resolveDataElementOptions(e,t),s=this._sharedOptions,n=this.getSharedOptions(i),r=this.includeOptions(t,n)||n!==s;return this.updateSharedOptions(n,t,i),{sharedOptions:n,includeOptions:r}}updateElement(e,t,i,s){$s(s)?Object.assign(e,i):this._resolveAnimations(t,s).update(e,i)}updateSharedOptions(e,t,i){e&&!$s(t)&&this._resolveAnimations(void 0,t).update(e,i)}_setStyle(e,t,i,s){e.active=s;const n=this.getStyle(t,s);this._resolveAnimations(t,i,s).update(e,{options:!s&&this.getSharedOptions(n)||n})}removeHoverStyle(e,t,i){this._setStyle(e,i,"active",!1)}setHoverStyle(e,t,i){this._setStyle(e,i,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const t=this._data,i=this._cachedMeta.data;for(const[e,t,i]of this._syncList)this[e](t,i);this._syncList=[];const s=i.length,n=t.length,r=Math.min(n,s);r&&this.parse(0,r),n>s?this._insertElements(s,n-s,e):n<s&&this._removeElements(n,s-n)}_insertElements(e,t,i=!0){const s=this._cachedMeta,n=s.data,r=e+t;let a;const o=e=>{for(e.length+=t,a=e.length-1;a>=r;a--)e[a]=e[a-t]};for(o(n),a=e;a<r;++a)n[a]=new this.dataElementType;this._parsing&&o(s._parsed),this.parse(e,t),i&&this.updateElements(n,e,t,"reset")}updateElements(e,t,i,s){}_removeElements(e,t){const i=this._cachedMeta;if(this._parsing){const s=i._parsed.splice(e,t);i._stacked&&Is(i,s)}i.data.splice(e,t)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[t,i,s]=e;this[t](i,s)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,t){t&&this._sync(["_removeElements",e,t]);const i=arguments.length-2;i&&this._sync(["_insertElements",e,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}Rs.defaults={},Rs.prototype.datasetElementType=null,Rs.prototype.dataElementType=null;class js{constructor(){this.x=void 0,this.y=void 0,this.active=!1,this.options=void 0,this.$animations=void 0}tooltipPosition(e){const{x:t,y:i}=this.getProps(["x","y"],e);return{x:t,y:i}}hasValue(){return j(this.x)&&j(this.y)}getProps(e,t){const i=this.$animations;if(!t||!i)return this;const s={};return e.forEach(e=>{s[e]=i[e]&&i[e].active()?i[e]._to:this[e]}),s}}js.defaults={},js.defaultRoutes=void 0;const zs={values:e=>s(e)?e:""+e,numeric(e,t,i){if(0===e)return"0";const s=this.chart.options.locale;let n,r=e;if(i.length>1){const t=Math.max(Math.abs(i[0].value),Math.abs(i[i.length-1].value));(t<1e-4||t>1e15)&&(n="scientific"),r=function(e,t){let i=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;Math.abs(i)>=1&&e!==Math.floor(e)&&(i=e-Math.floor(e));return i}(e,i)}const a=$(Math.abs(r)),o=Math.max(Math.min(-1*Math.floor(a),20),0),l={notation:n,minimumFractionDigits:o,maximumFractionDigits:o};return Object.assign(l,this.options.ticks.format),hi(e,s,l)},logarithmic(e,t,i){if(0===e)return"0";const s=e/Math.pow(10,Math.floor($(e)));return 1===s||2===s||5===s?zs.numeric.call(this,e,t,i):""}};var Bs={formatters:zs};function Vs(e,t){const s=e.options.ticks,n=s.maxTicksLimit||function(e){const t=e.options.offset,i=e._tickSize(),s=e._length/i+(t?0:1),n=e._maxLength/i;return Math.floor(Math.min(s,n))}(e),r=s.major.enabled?function(e){const t=[];let i,s;for(i=0,s=e.length;i<s;i++)e[i].major&&t.push(i);return t}(t):[],a=r.length,o=r[0],l=r[a-1],c=[];if(a>n)return function(e,t,i,s){let n,r=0,a=i[0];for(s=Math.ceil(s),n=0;n<e.length;n++)n===a&&(t.push(e[n]),a=i[++r*s])}(t,c,r,a/n),c;const h=function(e,t,i){const s=function(e){const t=e.length;let i,s;if(t<2)return!1;for(s=e[0],i=1;i<t;++i)if(e[i]-e[i-1]!==s)return!1;return s}(e),n=t.length/i;if(!s)return Math.max(n,1);const r=R(s);for(let e=0,t=r.length-1;e<t;e++){const t=r[e];if(t>n)return t}return Math.max(n,1)}(r,t,n);if(a>0){let e,s;const n=a>1?Math.round((l-o)/(a-1)):null;for(Hs(t,c,h,i(n)?0:o-n,o),e=0,s=a-1;e<s;e++)Hs(t,c,h,r[e],r[e+1]);return Hs(t,c,h,l,i(n)?t.length:l+n),c}return Hs(t,c,h),c}function Hs(e,t,i,s,n){const r=o(s,0),a=Math.min(o(n,e.length),e.length);let l,c,h,u=0;for(i=Math.ceil(i),n&&(i=(l=n-s)/Math.floor(l/i)),h=r;h<0;)u++,h=Math.round(r+u*i);for(c=Math.max(r,0);c<a;c++)c===h&&(t.push(e[c]),u++,h=Math.round(r+u*i))}rt.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",grace:0,grid:{display:!0,lineWidth:1,drawBorder:!0,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1,borderDash:[],borderDashOffset:0,borderWidth:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Bs.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),rt.route("scale.ticks","color","","color"),rt.route("scale.grid","color","","borderColor"),rt.route("scale.grid","borderColor","","borderColor"),rt.route("scale.title","color","","color"),rt.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&"callback"!==e&&"parser"!==e,_indexable:e=>"borderDash"!==e&&"tickBorderDash"!==e}),rt.describe("scales",{_fallback:"scale"}),rt.describe("scale.ticks",{_scriptable:e=>"backdropPadding"!==e&&"callback"!==e,_indexable:e=>"backdropPadding"!==e});const Ws=e=>"left"===e?"right":"right"===e?"left":e,Ys=(e,t,i)=>"top"===t||"left"===t?e[t]+i:e[t]-i;function qs(e,t){const i=[],s=e.length/t,n=e.length;let r=0;for(;r<n;r+=s)i.push(e[Math.floor(r)]);return i}function Us(e,t,i){const s=e.ticks.length,n=Math.min(t,s-1),r=e._startPixel,a=e._endPixel;let o,l=e.getPixelForTick(n);if(!(i&&(o=1===s?Math.max(l-r,a-l):0===t?(e.getPixelForTick(1)-l)/2:(l-e.getPixelForTick(n-1))/2,(l+=n<t?o:-o)<r-1e-6||l>a+1e-6)))return l}function Gs(e){return e.drawTicks?e.tickLength:0}function Xs(e,t){if(!e.display)return 0;const i=bi(e.font,t),n=yi(e.padding);return(s(e.text)?e.text.length:1)*i.lineHeight+n.height}function Ks(e,t,i){let s=ue(e);return(i&&"right"!==t||!i&&"right"===t)&&(s=Ws(s)),s}class Zs extends js{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:i,_suggestedMax:s}=this;return e=a(e,Number.POSITIVE_INFINITY),t=a(t,Number.NEGATIVE_INFINITY),i=a(i,Number.POSITIVE_INFINITY),s=a(s,Number.NEGATIVE_INFINITY),{min:a(e,i),max:a(t,s),minDefined:r(e),maxDefined:r(t)}}getMinMax(e){let t,{min:i,max:s,minDefined:n,maxDefined:r}=this.getUserBounds();if(n&&r)return{min:i,max:s};const o=this.getMatchingVisibleMetas();for(let a=0,l=o.length;a<l;++a)t=o[a].controller.getMinMax(this,e),n||(i=Math.min(i,t.min)),r||(s=Math.max(s,t.max));return{min:a(i=r&&i>s?s:i,a(s=n&&i>s?i:s,i)),max:a(s,a(i,s))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){h(this.options.beforeUpdate,[this])}update(e,t,i){const{beginAtZero:s,grace:n,ticks:r}=this.options,a=r.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=xi(this,n,s),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const o=a<this.ticks.length;this._convertTicksToLabels(o?qs(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),r.display&&(r.autoSkip||"auto"===r.source)&&(this.ticks=Vs(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),o&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e,t,i=this.options.reverse;this.isHorizontal()?(e=this.left,t=this.right):(e=this.top,t=this.bottom,i=!i),this._startPixel=e,this._endPixel=t,this._reversePixels=i,this._length=t-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){h(this.options.afterUpdate,[this])}beforeSetDimensions(){h(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){h(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),h(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){h(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const t=this.options.ticks;let i,s,n;for(i=0,s=e.length;i<s;i++)(n=e[i]).label=h(t.callback,[n.value,i,e],this)}afterTickToLabelConversion(){h(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){h(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,t=e.ticks,i=this.ticks.length,s=t.minRotation||0,n=t.maxRotation;let r,a,o,l=s;if(!this._isVisible()||!t.display||s>=n||i<=1||!this.isHorizontal())return void(this.labelRotation=s);const c=this._getLabelSizes(),h=c.widest.width,u=c.highest.height,d=Z(this.chart.width-h,0,this.maxWidth);h+6>(r=e.offset?this.maxWidth/i:d/(i-1))&&(r=d/(i-(e.offset?.5:1)),a=this.maxHeight-Gs(e.grid)-t.padding-Xs(e.title,this.chart.options.font),o=Math.sqrt(h*h+u*u),l=W(Math.min(Math.asin(Z((c.highest.height+6)/r,-1,1)),Math.asin(Z(a/o,-1,1))-Math.asin(Z(u/o,-1,1)))),l=Math.max(s,Math.min(n,l))),this.labelRotation=l}afterCalculateLabelRotation(){h(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){h(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:t,options:{ticks:i,title:s,grid:n}}=this,r=this._isVisible(),a=this.isHorizontal();if(r){const r=Xs(s,t.options.font);if(a?(e.width=this.maxWidth,e.height=Gs(n)+r):(e.height=this.maxHeight,e.width=Gs(n)+r),i.display&&this.ticks.length){const{first:t,last:s,widest:n,highest:r}=this._getLabelSizes(),o=2*i.padding,l=H(this.labelRotation),c=Math.cos(l),h=Math.sin(l);if(a){const t=i.mirror?0:h*n.width+c*r.height;e.height=Math.min(this.maxHeight,e.height+t+o)}else{const t=i.mirror?0:c*n.width+h*r.height;e.width=Math.min(this.maxWidth,e.width+t+o)}this._calculatePadding(t,s,h,c)}}this._handleMargins(),a?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,i,s){const{ticks:{align:n,padding:r},position:a}=this.options,o=0!==this.labelRotation,l="top"!==a&&"x"===this.axis;if(this.isHorizontal()){const a=this.getPixelForTick(0)-this.left,c=this.right-this.getPixelForTick(this.ticks.length-1);let h=0,u=0;o?l?(h=s*e.width,u=i*t.height):(h=i*e.height,u=s*t.width):"start"===n?u=t.width:"end"===n?h=e.width:"inner"!==n&&(h=e.width/2,u=t.width/2),this.paddingLeft=Math.max((h-a+r)*this.width/(this.width-a),0),this.paddingRight=Math.max((u-c+r)*this.width/(this.width-c),0)}else{let i=t.height/2,s=e.height/2;"start"===n?(i=0,s=e.height):"end"===n&&(i=t.height,s=0),this.paddingTop=i+r,this.paddingBottom=s+r}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){h(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:t}=this.options;return"top"===t||"bottom"===t||"x"===e}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){let t,s;for(this.beforeTickToLabelConversion(),this.generateTickLabels(e),t=0,s=e.length;t<s;t++)i(e[t].label)&&(e.splice(t,1),s--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const t=this.options.ticks.sampleSize;let i=this.ticks;t<i.length&&(i=qs(i,t)),this._labelSizes=e=this._computeLabelSizes(i,i.length)}return e}_computeLabelSizes(e,t){const{ctx:n,_longestTextCache:r}=this,a=[],o=[];let l,c,h,d,p,f,m,g,v,y,b,w=0,x=0;for(l=0;l<t;++l){if(d=e[l].label,p=this._resolveTickFontOptions(l),n.font=f=p.string,m=r[f]=r[f]||{data:{},gc:[]},g=p.lineHeight,v=y=0,i(d)||s(d)){if(s(d))for(c=0,h=d.length;c<h;++c)i(b=d[c])||s(b)||(v=xt(n,m.data,m.gc,v,b),y+=g)}else v=xt(n,m.data,m.gc,v,d),y=g;a.push(v),o.push(y),w=Math.max(v,w),x=Math.max(y,x)}!function(e,t){u(e,e=>{const i=e.gc,s=i.length/2;let n;if(s>t){for(n=0;n<s;++n)delete e.data[i[n]];i.splice(0,s)}})}(r,t);const _=a.indexOf(w),k=o.indexOf(x),E=e=>({width:a[e]||0,height:o[e]||0});return{first:E(0),last:E(t-1),widest:E(_),highest:E(k),widths:a,heights:o}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const t=this._startPixel+e*this._length;return J(this._alignToPixels?kt(this.chart,t,0):t)}getDecimalForPixel(e){const t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){const t=this.ticks||[];if(e>=0&&e<t.length){const i=t[e];return i.$context||(i.$context=function(e,t,i){return _i(e,{tick:i,index:t,type:"tick"})}(this.getContext(),e,i))}return this.$context||(this.$context=_i(this.chart.getContext(),{scale:this,type:"scale"}))}_tickSize(){const e=this.options.ticks,t=H(this.labelRotation),i=Math.abs(Math.cos(t)),s=Math.abs(Math.sin(t)),n=this._getLabelSizes(),r=e.autoSkipPadding||0,a=n?n.widest.width+r:0,o=n?n.highest.height+r:0;return this.isHorizontal()?o*i>a*s?a/i:o/s:o*s<a*i?o/i:a/s}_isVisible(){const e=this.options.display;return"auto"!==e?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const t=this.axis,i=this.chart,s=this.options,{grid:r,position:a}=s,l=r.offset,c=this.isHorizontal(),h=this.ticks.length+(l?1:0),u=Gs(r),d=[],p=r.setContext(this.getContext()),f=p.drawBorder?p.borderWidth:0,m=f/2,g=function(e){return kt(i,e,f)};let v,y,b,w,x,_,k,E,S,C,T,M;if("top"===a)v=g(this.bottom),_=this.bottom-u,E=v-m,C=g(e.top)+m,M=e.bottom;else if("bottom"===a)v=g(this.top),C=e.top,M=g(e.bottom)-m,_=v+m,E=this.top+u;else if("left"===a)v=g(this.right),x=this.right-u,k=v-m,S=g(e.left)+m,T=e.right;else if("right"===a)v=g(this.left),S=e.left,T=g(e.right)-m,x=v+m,k=this.left+u;else if("x"===t){if("center"===a)v=g((e.top+e.bottom)/2+.5);else if(n(a)){const e=Object.keys(a)[0],t=a[e];v=g(this.chart.scales[e].getPixelForValue(t))}C=e.top,M=e.bottom,E=(_=v+m)+u}else if("y"===t){if("center"===a)v=g((e.left+e.right)/2);else if(n(a)){const e=Object.keys(a)[0],t=a[e];v=g(this.chart.scales[e].getPixelForValue(t))}k=(x=v-m)-u,S=e.left,T=e.right}const P=o(s.ticks.maxTicksLimit,h),A=Math.max(1,Math.ceil(h/P));for(y=0;y<h;y+=A){const e=r.setContext(this.getContext(y)),t=e.lineWidth,s=e.color,n=e.borderDash||[],a=e.borderDashOffset,o=e.tickWidth,h=e.tickColor,u=e.tickBorderDash||[],p=e.tickBorderDashOffset;void 0!==(b=Us(this,y,l))&&(w=kt(i,b,t),c?x=k=S=T=w:_=E=C=M=w,d.push({tx1:x,ty1:_,tx2:k,ty2:E,x1:S,y1:C,x2:T,y2:M,width:t,color:s,borderDash:n,borderDashOffset:a,tickWidth:o,tickColor:h,tickBorderDash:u,tickBorderDashOffset:p}))}return this._ticksLength=h,this._borderValue=v,d}_computeLabelItems(e){const t=this.axis,i=this.options,{position:r,ticks:a}=i,o=this.isHorizontal(),l=this.ticks,{align:c,crossAlign:h,padding:u,mirror:d}=a,p=Gs(i.grid),f=p+u,m=d?-u:f,g=-H(this.labelRotation),v=[];let y,b,w,x,_,k,E,S,C,T,M,P,A="middle";if("top"===r)k=this.bottom-m,E=this._getXAxisLabelAlignment();else if("bottom"===r)k=this.top+m,E=this._getXAxisLabelAlignment();else if("left"===r){const e=this._getYAxisLabelAlignment(p);E=e.textAlign,_=e.x}else if("right"===r){const e=this._getYAxisLabelAlignment(p);E=e.textAlign,_=e.x}else if("x"===t){if("center"===r)k=(e.top+e.bottom)/2+f;else if(n(r)){const e=Object.keys(r)[0],t=r[e];k=this.chart.scales[e].getPixelForValue(t)+f}E=this._getXAxisLabelAlignment()}else if("y"===t){if("center"===r)_=(e.left+e.right)/2-f;else if(n(r)){const e=Object.keys(r)[0],t=r[e];_=this.chart.scales[e].getPixelForValue(t)}E=this._getYAxisLabelAlignment(p).textAlign}"y"===t&&("start"===c?A="top":"end"===c&&(A="bottom"));const O=this._getLabelSizes();for(y=0,b=l.length;y<b;++y){x=(w=l[y]).label;const e=a.setContext(this.getContext(y));S=this.getPixelForTick(y)+a.labelOffset,T=(C=this._resolveTickFontOptions(y)).lineHeight;const t=(M=s(x)?x.length:1)/2,i=e.color,n=e.textStrokeColor,c=e.textStrokeWidth;let u,p=E;if(o?(_=S,"inner"===E&&(p=y===b-1?this.options.reverse?"left":"right":0===y?this.options.reverse?"right":"left":"center"),P="top"===r?"near"===h||0!==g?-M*T+T/2:"center"===h?-O.highest.height/2-t*T+T:-O.highest.height+T/2:"near"===h||0!==g?T/2:"center"===h?O.highest.height/2-t*T:O.highest.height-M*T,d&&(P*=-1)):(k=S,P=(1-M)*T/2),e.showLabelBackdrop){const t=yi(e.backdropPadding),i=O.heights[y],s=O.widths[y];let n=k+P-t.top,r=_-t.left;switch(A){case"middle":n-=i/2;break;case"bottom":n-=i}switch(E){case"center":r-=s/2;break;case"right":r-=s}u={left:r,top:n,width:s+t.width,height:i+t.height,color:e.backdropColor}}v.push({rotation:g,label:x,font:C,color:i,strokeColor:n,strokeWidth:c,textOffset:P,textAlign:p,textBaseline:A,translation:[_,k],backdrop:u})}return v}_getXAxisLabelAlignment(){const{position:e,ticks:t}=this.options;if(-H(this.labelRotation))return"top"===e?"left":"right";let i="center";return"start"===t.align?i="left":"end"===t.align?i="right":"inner"===t.align&&(i="inner"),i}_getYAxisLabelAlignment(e){const{position:t,ticks:{crossAlign:i,mirror:s,padding:n}}=this.options,r=e+n,a=this._getLabelSizes().widest.width;let o,l;return"left"===t?s?(l=this.right+n,"near"===i?o="left":"center"===i?(o="center",l+=a/2):(o="right",l+=a)):(l=this.right-r,"near"===i?o="right":"center"===i?(o="center",l-=a/2):(o="left",l=this.left)):"right"===t?s?(l=this.left+n,"near"===i?o="right":"center"===i?(o="center",l-=a/2):(o="left",l-=a)):(l=this.left+r,"near"===i?o="left":"center"===i?(o="center",l+=a/2):(o="right",l=this.right)):o="right",{textAlign:o,x:l}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,t=this.options.position;return"left"===t||"right"===t?{top:0,left:this.left,bottom:e.height,right:this.right}:"top"===t||"bottom"===t?{top:this.top,left:0,bottom:this.bottom,right:e.width}:void 0}drawBackground(){const{ctx:e,options:{backgroundColor:t},left:i,top:s,width:n,height:r}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(i,s,n,r),e.restore())}getLineWidthForValue(e){const t=this.options.grid;if(!this._isVisible()||!t.display)return 0;const i=this.ticks.findIndex(t=>t.value===e);if(i>=0){return t.setContext(this.getContext(i)).lineWidth}return 0}drawGrid(e){const t=this.options.grid,i=this.ctx,s=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let n,r;const a=(e,t,s)=>{s.width&&s.color&&(i.save(),i.lineWidth=s.width,i.strokeStyle=s.color,i.setLineDash(s.borderDash||[]),i.lineDashOffset=s.borderDashOffset,i.beginPath(),i.moveTo(e.x,e.y),i.lineTo(t.x,t.y),i.stroke(),i.restore())};if(t.display)for(n=0,r=s.length;n<r;++n){const e=s[n];t.drawOnChartArea&&a({x:e.x1,y:e.y1},{x:e.x2,y:e.y2},e),t.drawTicks&&a({x:e.tx1,y:e.ty1},{x:e.tx2,y:e.ty2},{color:e.tickColor,width:e.tickWidth,borderDash:e.tickBorderDash,borderDashOffset:e.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:t,options:{grid:i}}=this,s=i.setContext(this.getContext()),n=i.drawBorder?s.borderWidth:0;if(!n)return;const r=i.setContext(this.getContext(0)).lineWidth,a=this._borderValue;let o,l,c,h;this.isHorizontal()?(o=kt(e,this.left,n)-n/2,l=kt(e,this.right,r)+r/2,c=h=a):(c=kt(e,this.top,n)-n/2,h=kt(e,this.bottom,r)+r/2,o=l=a),t.save(),t.lineWidth=s.borderWidth,t.strokeStyle=s.borderColor,t.beginPath(),t.moveTo(o,c),t.lineTo(l,h),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;const t=this.ctx,i=this._computeLabelArea();i&&Mt(t,i);const s=this._labelItems||(this._labelItems=this._computeLabelItems(e));let n,r;for(n=0,r=s.length;n<r;++n){const e=s[n],i=e.font,r=e.label;e.backdrop&&(t.fillStyle=e.backdrop.color,t.fillRect(e.backdrop.left,e.backdrop.top,e.backdrop.width,e.backdrop.height)),Dt(t,r,0,e.textOffset,i,e)}i&&Pt(t)}drawTitle(){const{ctx:e,options:{position:t,title:i,reverse:r}}=this;if(!i.display)return;const a=bi(i.font),o=yi(i.padding),l=i.align;let c=a.lineHeight/2;"bottom"===t||"center"===t||n(t)?(c+=o.bottom,s(i.text)&&(c+=a.lineHeight*(i.text.length-1))):c+=o.top;const{titleX:h,titleY:u,maxWidth:d,rotation:p}=function(e,t,i,s){const{top:r,left:a,bottom:o,right:l,chart:c}=e,{chartArea:h,scales:u}=c;let d,p,f,m=0;const g=o-r,v=l-a;if(e.isHorizontal()){if(p=de(s,a,l),n(i)){const e=Object.keys(i)[0],s=i[e];f=u[e].getPixelForValue(s)+g-t}else f="center"===i?(h.bottom+h.top)/2+g-t:Ys(e,i,t);d=l-a}else{if(n(i)){const e=Object.keys(i)[0],s=i[e];p=u[e].getPixelForValue(s)-v+t}else p="center"===i?(h.left+h.right)/2-v+t:Ys(e,i,t);f=de(s,o,r),m="left"===i?-D:D}return{titleX:p,titleY:f,maxWidth:d,rotation:m}}(this,c,t,l);Dt(e,i.text,0,0,a,{color:i.color,maxWidth:d,rotation:p,textAlign:Ks(l,t,r),textBaseline:"middle",translation:[h,u]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,t=e.ticks&&e.ticks.z||0,i=o(e.grid&&e.grid.z,-1);return this._isVisible()&&this.draw===Zs.prototype.draw?[{z:i,draw:e=>{this.drawBackground(),this.drawGrid(e),this.drawTitle()}},{z:i+1,draw:()=>{this.drawBorder()}},{z:t,draw:e=>{this.drawLabels(e)}}]:[{z:t,draw:e=>{this.draw(e)}}]}getMatchingVisibleMetas(e){const t=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",s=[];let n,r;for(n=0,r=t.length;n<r;++n){const r=t[n];r[i]!==this.id||e&&r.type!==e||s.push(r)}return s}_resolveTickFontOptions(e){return bi(this.options.ticks.setContext(this.getContext(e)).font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class Js{constructor(e,t,i){this.type=e,this.scope=t,this.override=i,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const t=Object.getPrototypeOf(e);let i;(function(e){return"id"in e&&"defaults"in e})(t)&&(i=this.register(t));const s=this.items,n=e.id,r=this.scope+"."+n;if(!n)throw new Error("class does not have id: "+e);return n in s?r:(s[n]=e,function(e,t,i){const s=g(Object.create(null),[i?rt.get(i):{},rt.get(t),e.defaults]);rt.set(t,s),e.defaultRoutes&&function(e,t){Object.keys(t).forEach(i=>{const s=i.split("."),n=s.pop(),r=[e].concat(s).join("."),a=t[i].split("."),o=a.pop(),l=a.join(".");rt.route(r,n,l,o)})}(t,e.defaultRoutes);e.descriptors&&rt.describe(t,e.descriptors)}(e,r,i),this.override&&rt.override(e.id,e.overrides),r)}get(e){return this.items[e]}unregister(e){const t=this.items,i=e.id,s=this.scope;i in t&&delete t[i],s&&i in rt[s]&&(delete rt[s][i],this.override&&delete tt[i])}}var Qs=new class{constructor(){this.controllers=new Js(Rs,"datasets",!0),this.elements=new Js(js,"elements"),this.plugins=new Js(Object,"plugins"),this.scales=new Js(Zs,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,t,i){[...t].forEach(t=>{const s=i||this._getRegistryForType(t);i||s.isForType(t)||s===this.plugins&&t.id?this._exec(e,s,t):u(t,t=>{const s=i||this._getRegistryForType(t);this._exec(e,s,t)})})}_exec(e,t,i){const s=_(e);h(i["before"+s],[],i),t[e](i),h(i["after"+s],[],i)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){const i=this._typedRegistries[t];if(i.isForType(e))return i}return this.plugins}_get(e,t,i){const s=t.get(e);if(void 0===s)throw new Error('"'+e+'" is not a registered '+i+".");return s}};class en{constructor(){this._init=[]}notify(e,t,i,s){"beforeInit"===t&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const n=s?this._descriptors(e).filter(s):this._descriptors(e),r=this._notify(n,e,t,i);return"afterDestroy"===t&&(this._notify(n,e,"stop"),this._notify(this._init,e,"uninstall")),r}_notify(e,t,i,s){s=s||{};for(const n of e){const e=n.plugin;if(!1===h(e[i],[t,s,n.options],e)&&s.cancelable)return!1}return!0}invalidate(){i(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){const i=e&&e.config,s=o(i.options&&i.options.plugins,{}),n=function(e){const t={},i=[],s=Object.keys(Qs.plugins.items);for(let e=0;e<s.length;e++)i.push(Qs.getPlugin(s[e]));const n=e.plugins||[];for(let e=0;e<n.length;e++){const s=n[e];-1===i.indexOf(s)&&(i.push(s),t[s.id]=!0)}return{plugins:i,localIds:t}}(i);return!1!==s||t?function(e,{plugins:t,localIds:i},s,n){const r=[],a=e.getContext();for(const o of t){const t=o.id,l=tn(s[t],n);null!==l&&r.push({plugin:o,options:sn(e.config,{plugin:o,local:i[t]},l,a)})}return r}(e,n,s,t):[]}_notifyStateChanges(e){const t=this._oldCache||[],i=this._cache,s=(e,t)=>e.filter(e=>!t.some(t=>e.plugin.id===t.plugin.id));this._notify(s(t,i),e,"stop"),this._notify(s(i,t),e,"start")}}function tn(e,t){return t||!1!==e?!0===e?{}:e:null}function sn(e,{plugin:t,local:i},s,n){const r=e.pluginScopeKeys(t),a=e.getOptionScopes(s,r);return i&&t.defaults&&a.push(t.defaults),e.createResolver(a,n,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function nn(e,t){const i=rt.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||i.indexAxis||"x"}function rn(e,t){return"x"===e||"y"===e?e:t.axis||("top"===(i=t.position)||"bottom"===i?"x":"left"===i||"right"===i?"y":void 0)||e.charAt(0).toLowerCase();var i}function an(e){const t=e.options||(e.options={});t.plugins=o(t.plugins,{}),t.scales=function(e,t){const i=tt[e.type]||{scales:{}},s=t.scales||{},r=nn(e.type,t),a=Object.create(null),o=Object.create(null);return Object.keys(s).forEach(e=>{const t=s[e];if(!n(t))return console.error(`Invalid scale configuration for scale: ${e}`);if(t._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${e}`);const l=rn(e,t),c=function(e,t){return e===t?"_index_":"_value_"}(l,r),h=i.scales||{};a[l]=a[l]||e,o[e]=v(Object.create(null),[{axis:l},t,h[l],h[c]])}),e.data.datasets.forEach(i=>{const n=i.type||e.type,r=i.indexAxis||nn(n,t),l=(tt[n]||{}).scales||{};Object.keys(l).forEach(e=>{const t=function(e,t){let i=e;return"_index_"===e?i=t:"_value_"===e&&(i="x"===t?"y":"x"),i}(e,r),n=i[t+"AxisID"]||a[t]||t;o[n]=o[n]||Object.create(null),v(o[n],[{axis:t},s[n],l[e]])})}),Object.keys(o).forEach(e=>{const t=o[e];v(t,[rt.scales[t.type],rt.scale])}),o}(e,t)}function on(e){return(e=e||{}).datasets=e.datasets||[],e.labels=e.labels||[],e}const ln=new Map,cn=new Set;function hn(e,t){let i=ln.get(e);return i||(i=t(),ln.set(e,i),cn.add(i)),i}const un=(e,t,i)=>{const s=w(t,i);void 0!==s&&e.add(s)};class dn{constructor(e){this._config=function(e){return(e=e||{}).data=on(e.data),an(e),e}(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=on(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),an(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return hn(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,t){return hn(`${e}.transition.${t}`,()=>[[`datasets.${e}.transitions.${t}`,`transitions.${t}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,t){return hn(`${e}-${t}`,()=>[[`datasets.${e}.elements.${t}`,`datasets.${e}`,`elements.${t}`,""]])}pluginScopeKeys(e){const t=e.id;return hn(`${this.type}-plugin-${t}`,()=>[[`plugins.${t}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,t){const i=this._scopeCache;let s=i.get(e);return s&&!t||(s=new Map,i.set(e,s)),s}getOptionScopes(e,t,i){const{options:s,type:n}=this,r=this._cachedScopes(e,i),a=r.get(t);if(a)return a;const o=new Set;t.forEach(t=>{e&&(o.add(e),t.forEach(t=>un(o,e,t))),t.forEach(e=>un(o,s,e)),t.forEach(e=>un(o,tt[n]||{},e)),t.forEach(e=>un(o,rt,e)),t.forEach(e=>un(o,it,e))});const l=Array.from(o);return 0===l.length&&l.push(Object.create(null)),cn.has(t)&&r.set(t,l),l}chartOptionScopes(){const{options:e,type:t}=this;return[e,tt[t]||{},rt.datasets[t]||{},{type:t},rt,it]}resolveNamedOptions(e,t,i,n=[""]){const r={$shared:!0},{resolver:a,subPrefixes:o}=pn(this._resolverCache,e,n);let l=a;if(function(e,t){const{isScriptable:i,isIndexable:n}=Nt(e);for(const r of t){const t=i(r),a=n(r),o=(a||t)&&e[r];if(t&&(E(o)||fn(o))||a&&s(o))return!0}return!1}(a,t)){r.$shared=!1,l=Ft(a,i=E(i)?i():i,this.createResolver(e,i,o))}for(const e of t)r[e]=l[e];return r}createResolver(e,t,i=[""],s){const{resolver:r}=pn(this._resolverCache,e,i);return n(t)?Ft(r,t,void 0,s):r}}function pn(e,t,i){let s=e.get(t);s||(s=new Map,e.set(t,s));const n=i.join();let r=s.get(n);if(!r){r={resolver:$t(t,i),subPrefixes:i.filter(e=>!e.toLowerCase().includes("hover"))},s.set(n,r)}return r}const fn=e=>n(e)&&Object.getOwnPropertyNames(e).reduce((t,i)=>t||E(e[i]),!1);const mn=["top","bottom","left","right","chartArea"];function gn(e,t){return"top"===e||"bottom"===e||-1===mn.indexOf(e)&&"x"===t}function vn(e,t){return function(i,s){return i[e]===s[e]?i[t]-s[t]:i[e]-s[e]}}function yn(e){const t=e.chart,i=t.options.animation;t.notifyPlugins("afterRender"),h(i&&i.onComplete,[e],t)}function bn(e){const t=e.chart,i=t.options.animation;h(i&&i.onProgress,[e],t)}function wn(e){return at()&&"string"==typeof e?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const xn={},_n=e=>{const t=wn(e);return Object.values(xn).filter(e=>e.canvas===t).pop()};function kn(e,t,i){const s=Object.keys(e);for(const n of s){const s=+n;if(s>=t){const r=e[n];delete e[n],(i>0||s>t)&&(e[s+i]=r)}}}class En{constructor(e,i){const s=this.config=new dn(i),n=wn(e),r=_n(n);if(r)throw new Error("Canvas is already in use. Chart with ID '"+r.id+"' must be destroyed before the canvas with ID '"+r.canvas.id+"' can be reused.");const a=s.createResolver(s.chartOptionScopes(),this.getContext());this.platform=new(s.platform||ws(n)),this.platform.updateConfig(s);const o=this.platform.acquireContext(n,a.aspectRatio),l=o&&o.canvas,c=l&&l.height,h=l&&l.width;this.id=t(),this.ctx=o,this.canvas=l,this.width=h,this.height=c,this._options=a,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new en,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=he(e=>this.update(e),a.resizeDelay||0),this._dataChanges=[],xn[this.id]=this,o&&l?(ge.listen(this,"complete",yn),ge.listen(this,"progress",bn),this._initialize(),this.attached&&this.update()):console.error("Failed to create chart: can't acquire context from the given item")}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:t},width:s,height:n,_aspectRatio:r}=this;return i(e)?t&&r?r:n?s/n:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():vt(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Et(this.canvas,this.ctx),this}stop(){return ge.stop(this),this}resize(e,t){ge.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}_resize(e,t){const i=this.options,s=this.canvas,n=i.maintainAspectRatio&&this.aspectRatio,r=this.platform.getMaximumSize(s,e,t,n),a=i.devicePixelRatio||this.platform.getDevicePixelRatio(),o=this.width?"resize":"attach";this.width=r.width,this.height=r.height,this._aspectRatio=this.aspectRatio,vt(this,a,!0)&&(this.notifyPlugins("resize",{size:r}),h(i.onResize,[this,r],this),this.attached&&this._doResize(o)&&this.render())}ensureScalesHaveIDs(){u(this.options.scales||{},(e,t)=>{e.id=t})}buildOrUpdateScales(){const e=this.options,t=e.scales,i=this.scales,s=Object.keys(i).reduce((e,t)=>(e[t]=!1,e),{});let n=[];t&&(n=n.concat(Object.keys(t).map(e=>{const i=t[e],s=rn(e,i),n="r"===s,r="x"===s;return{options:i,dposition:n?"chartArea":r?"bottom":"left",dtype:n?"radialLinear":r?"category":"linear"}}))),u(n,t=>{const n=t.options,r=n.id,a=rn(r,n),l=o(n.type,t.dtype);void 0!==n.position&&gn(n.position,a)===gn(t.dposition)||(n.position=t.dposition),s[r]=!0;let c=null;if(r in i&&i[r].type===l)c=i[r];else{c=new(Qs.getScale(l))({id:r,type:l,ctx:this.ctx,chart:this}),i[c.id]=c}c.init(n,e)}),u(s,(e,t)=>{e||delete i[t]}),u(i,e=>{is.configure(this,e,e.options),is.addBox(this,e)})}_updateMetasets(){const e=this._metasets,t=this.data.datasets.length,i=e.length;if(e.sort((e,t)=>e.index-t.index),i>t){for(let e=t;e<i;++e)this._destroyDatasetMeta(e);e.splice(t,i-t)}this._sortedMetasets=e.slice(0).sort(vn("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:t}}=this;e.length>t.length&&delete this._stacks,e.forEach((e,i)=>{0===t.filter(t=>t===e._dataset).length&&this._destroyDatasetMeta(i)})}buildOrUpdateControllers(){const e=[],t=this.data.datasets;let i,s;for(this._removeUnreferencedMetasets(),i=0,s=t.length;i<s;i++){const s=t[i];let n=this.getDatasetMeta(i);const r=s.type||this.config.type;if(n.type&&n.type!==r&&(this._destroyDatasetMeta(i),n=this.getDatasetMeta(i)),n.type=r,n.indexAxis=s.indexAxis||nn(r,this.options),n.order=s.order||0,n.index=i,n.label=""+s.label,n.visible=this.isDatasetVisible(i),n.controller)n.controller.updateIndex(i),n.controller.linkScales();else{const t=Qs.getController(r),{datasetElementType:s,dataElementType:a}=rt.datasets[r];Object.assign(t.prototype,{dataElementType:Qs.getElement(a),datasetElementType:s&&Qs.getElement(s)}),n.controller=new t(this,i),e.push(n.controller)}}return this._updateMetasets(),e}_resetElements(){u(this.data.datasets,(e,t)=>{this.getDatasetMeta(t).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const t=this.config;t.update();const i=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),s=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1===this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0}))return;const n=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let r=0;for(let e=0,t=this.data.datasets.length;e<t;e++){const{controller:t}=this.getDatasetMeta(e),i=!s&&-1===n.indexOf(t);t.buildOrUpdateElements(i),r=Math.max(+t.getMaxOverflow(),r)}r=this._minPadding=i.layout.autoPadding?r:0,this._updateLayout(r),s||u(n,e=>{e.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(vn("z","_idx"));const{_active:a,_lastEvent:o}=this;o?this._eventHandler(o,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){u(this.scales,e=>{is.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,t=new Set(Object.keys(this._listeners)),i=new Set(e.events);S(t,i)&&!!this._responsiveListeners===e.responsive||(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,t=this._getUniformDataChanges()||[];for(const{method:i,start:s,count:n}of t){kn(e,s,"_removeElements"===i?-n:n)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const t=this.data.datasets.length,i=t=>new Set(e.filter(e=>e[0]===t).map((e,t)=>t+","+e.splice(1).join(","))),s=i(0);for(let e=1;e<t;e++)if(!S(s,i(e)))return;return Array.from(s).map(e=>e.split(",")).map(e=>({method:e[1],start:+e[2],count:+e[3]}))}_updateLayout(e){if(!1===this.notifyPlugins("beforeLayout",{cancelable:!0}))return;is.update(this,this.width,this.height,e);const t=this.chartArea,i=t.width<=0||t.height<=0;this._layers=[],u(this.boxes,e=>{i&&"chartArea"===e.position||(e.configure&&e.configure(),this._layers.push(...e._layers()))},this),this._layers.forEach((e,t)=>{e._idx=t}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})){for(let e=0,t=this.data.datasets.length;e<t;++e)this.getDatasetMeta(e).controller.configure();for(let t=0,i=this.data.datasets.length;t<i;++t)this._updateDataset(t,E(e)?e({datasetIndex:t}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,t){const i=this.getDatasetMeta(e),s={meta:i,index:e,mode:t,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",s)&&(i.controller._update(t),s.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",s))}render(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(ge.has(this)?this.attached&&!ge.running(this)&&ge.start(this):(this.draw(),yn({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:e,height:t}=this._resizeBeforeDraw;this._resize(e,t),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0)return;if(!1===this.notifyPlugins("beforeDraw",{cancelable:!0}))return;const t=this._layers;for(e=0;e<t.length&&t[e].z<=0;++e)t[e].draw(this.chartArea);for(this._drawDatasets();e<t.length;++e)t[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const t=this._sortedMetasets,i=[];let s,n;for(s=0,n=t.length;s<n;++s){const n=t[s];e&&!n.visible||i.push(n)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(!1===this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0}))return;const e=this.getSortedVisibleDatasetMetas();for(let t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const t=this.ctx,i=e._clip,s=!i.disabled,n=this.chartArea,r={meta:e,index:e.index,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetDraw",r)&&(s&&Mt(t,{left:!1===i.left?0:n.left-i.left,right:!1===i.right?this.width:n.right+i.right,top:!1===i.top?0:n.top-i.top,bottom:!1===i.bottom?this.height:n.bottom+i.bottom}),e.controller.draw(),s&&Pt(t),r.cancelable=!1,this.notifyPlugins("afterDatasetDraw",r))}isPointInArea(e){return Tt(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,t,i,s){const n=Hi.modes[t];return"function"==typeof n?n(this,e,i,s):[]}getDatasetMeta(e){const t=this.data.datasets[e],i=this._metasets;let s=i.filter(e=>e&&e._dataset===t).pop();return s||(s={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},i.push(s)),s}getContext(){return this.$context||(this.$context=_i(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const t=this.data.datasets[e];if(!t)return!1;const i=this.getDatasetMeta(e);return"boolean"==typeof i.hidden?!i.hidden:!t.hidden}setDatasetVisibility(e,t){this.getDatasetMeta(e).hidden=!t}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,t,i){const s=i?"show":"hide",n=this.getDatasetMeta(e),r=n.controller._resolveAnimations(void 0,s);k(t)?(n.data[t].hidden=!i,this.update()):(this.setDatasetVisibility(e,i),r.update(n,{visible:i}),this.update(t=>t.datasetIndex===e?s:void 0))}hide(e,t){this._updateVisibility(e,t,!1)}show(e,t){this._updateVisibility(e,t,!0)}_destroyDatasetMeta(e){const t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}_stop(){let e,t;for(this.stop(),ge.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:t}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),Et(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),this.notifyPlugins("destroy"),delete xn[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,t=this.platform,i=(i,s)=>{t.addEventListener(this,i,s),e[i]=s},s=(e,t,i)=>{e.offsetX=t,e.offsetY=i,this._eventHandler(e)};u(this.options.events,e=>i(e,s))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,t=this.platform,i=(i,s)=>{t.addEventListener(this,i,s),e[i]=s},s=(i,s)=>{e[i]&&(t.removeEventListener(this,i,s),delete e[i])},n=(e,t)=>{this.canvas&&this.resize(e,t)};let r;const a=()=>{s("attach",a),this.attached=!0,this.resize(),i("resize",n),i("detach",r)};r=(()=>{this.attached=!1,s("resize",n),this._stop(),this._resize(0,0),i("attach",a)}),t.isAttached(this.canvas)?a():r()}unbindEvents(){u(this._listeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._listeners={},u(this._responsiveListeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,t,i){const s=i?"set":"remove";let n,r,a,o;for("dataset"===t&&(n=this.getDatasetMeta(e[0].datasetIndex)).controller["_"+s+"DatasetHoverStyle"](),a=0,o=e.length;a<o;++a){const t=(r=e[a])&&this.getDatasetMeta(r.datasetIndex).controller;t&&t[s+"HoverStyle"](r.element,r.datasetIndex,r.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const t=this._active||[],i=e.map(({datasetIndex:e,index:t})=>{const i=this.getDatasetMeta(e);if(!i)throw new Error("No dataset found at index "+e);return{datasetIndex:e,element:i.data[t],index:t}});!d(i,t)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,t))}notifyPlugins(e,t,i){return this._plugins.notify(this,e,t,i)}_updateHoverStyles(e,t,i){const s=this.options.hover,n=(e,t)=>e.filter(e=>!t.some(t=>e.datasetIndex===t.datasetIndex&&e.index===t.index)),r=n(t,e),a=i?e:n(e,t);r.length&&this.updateHoverStyle(r,s.mode,!1),a.length&&s.mode&&this.updateHoverStyle(a,s.mode,!0)}_eventHandler(e,t){const i={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},s=t=>(t.options.events||this.options.events).includes(e.native.type);if(!1===this.notifyPlugins("beforeEvent",i,s))return;const n=this._handleEvent(e,t,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,s),(n||i.changed)&&this.render(),this}_handleEvent(e,t,i){const{_active:s=[],options:n}=this,r=t,a=this._getActiveElements(e,s,i,r),o=C(e),l=function(e,t,i,s){return i&&"mouseout"!==e.type?s?t:e:null}(e,this._lastEvent,i,o);i&&(this._lastEvent=null,h(n.onHover,[e,a,this],this),o&&h(n.onClick,[e,a,this],this));const c=!d(a,s);return(c||t)&&(this._active=a,this._updateHoverStyles(a,s,t)),this._lastEvent=l,c}_getActiveElements(e,t,i,s){if("mouseout"===e.type)return[];if(!i)return t;const n=this.options.hover;return this.getElementsAtEventForMode(e,n.mode,n,s)}}const Sn=()=>u(En.instances,e=>e._plugins.invalidate());function Cn(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}Object.defineProperties(En,{defaults:{enumerable:!0,value:rt},instances:{enumerable:!0,value:xn},overrides:{enumerable:!0,value:tt},registry:{enumerable:!0,value:Qs},version:{enumerable:!0,value:"3.9.1"},getChart:{enumerable:!0,value:_n},register:{enumerable:!0,value:(...e)=>{Qs.add(...e),Sn()}},unregister:{enumerable:!0,value:(...e)=>{Qs.remove(...e),Sn()}}});class Tn{constructor(e){this.options=e||{}}init(e){}formats(){return Cn()}parse(e,t){return Cn()}format(e,t){return Cn()}add(e,t,i){return Cn()}diff(e,t,i){return Cn()}startOf(e,t,i){return Cn()}endOf(e,t){return Cn()}}Tn.override=function(e){Object.assign(Tn.prototype,e)};var Mn={_date:Tn};function Pn(e){const t=e.iScale,i=function(e,t){if(!e._cache.$bar){const i=e.getMatchingVisibleMetas(t);let s=[];for(let t=0,n=i.length;t<n;t++)s=s.concat(i[t].controller.getAllParsedValues(e));e._cache.$bar=oe(s.sort((e,t)=>e-t))}return e._cache.$bar}(t,e.type);let s,n,r,a,o=t._length;const l=()=>{32767!==r&&-32768!==r&&(k(a)&&(o=Math.min(o,Math.abs(r-a)||o)),a=r)};for(s=0,n=i.length;s<n;++s)r=t.getPixelForValue(i[s]),l();for(a=void 0,s=0,n=t.ticks.length;s<n;++s)r=t.getPixelForTick(s),l();return o}function An(e,t,i,n){return s(e)?function(e,t,i,s){const n=i.parse(e[0],s),r=i.parse(e[1],s),a=Math.min(n,r),o=Math.max(n,r);let l=a,c=o;Math.abs(a)>Math.abs(o)&&(l=o,c=a),t[i.axis]=c,t._custom={barStart:l,barEnd:c,start:n,end:r,min:a,max:o}}(e,t,i,n):t[i.axis]=i.parse(e,n),t}function On(e,t,i,s){const n=e.iScale,r=e.vScale,a=n.getLabels(),o=n===r,l=[];let c,h,u,d;for(c=i,h=i+s;c<h;++c)d=t[c],(u={})[n.axis]=o||n.parse(a[c],c),l.push(An(d,u,r,c));return l}function Dn(e){return e&&void 0!==e.barStart&&void 0!==e.barEnd}function Ln(e,t,i,s){let n=t.borderSkipped;const r={};if(!n)return void(e.borderSkipped=r);if(!0===n)return void(e.borderSkipped={top:!0,right:!0,bottom:!0,left:!0});const{start:a,end:o,reverse:l,top:c,bottom:h}=function(e){let t,i,s,n,r;return e.horizontal?(t=e.base>e.x,i="left",s="right"):(t=e.base<e.y,i="bottom",s="top"),t?(n="end",r="start"):(n="start",r="end"),{start:i,end:s,reverse:t,top:n,bottom:r}}(e);"middle"===n&&i&&(e.enableBorderRadius=!0,(i._top||0)===s?n=c:(i._bottom||0)===s?n=h:(r[In(h,a,o,l)]=!0,n=c)),r[In(n,a,o,l)]=!0,e.borderSkipped=r}function In(e,t,i,s){var n,r,a;return s?(a=i,e=$n(e=(n=e)===(r=t)?a:n===a?r:n,i,t)):e=$n(e,t,i),e}function $n(e,t,i){return"start"===e?t:"end"===e?i:e}function Fn(e,{inflateAmount:t},i){e.inflateAmount="auto"===t?1===i?.33:0:t}class Nn extends Rs{parsePrimitiveData(e,t,i,s){return On(e,t,i,s)}parseArrayData(e,t,i,s){return On(e,t,i,s)}parseObjectData(e,t,i,s){const{iScale:n,vScale:r}=e,{xAxisKey:a="x",yAxisKey:o="y"}=this._parsing,l="x"===n.axis?a:o,c="x"===r.axis?a:o,h=[];let u,d,p,f;for(u=i,d=i+s;u<d;++u)f=t[u],(p={})[n.axis]=n.parse(w(f,l),u),h.push(An(w(f,c),p,r,u));return h}updateRangeFromParsed(e,t,i,s){super.updateRangeFromParsed(e,t,i,s);const n=i._custom;n&&t===this._cachedMeta.vScale&&(e.min=Math.min(e.min,n.min),e.max=Math.max(e.max,n.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const t=this._cachedMeta,{iScale:i,vScale:s}=t,n=this.getParsed(e),r=n._custom,a=Dn(r)?"["+r.start+", "+r.end+"]":""+s.getLabelForValue(n[s.axis]);return{label:""+i.getLabelForValue(n[i.axis]),value:a}}initialize(){this.enableOptionSharing=!0,super.initialize(),this._cachedMeta.stack=this.getDataset().stack}update(e){const t=this._cachedMeta;this.updateElements(t.data,0,t.data.length,e)}updateElements(e,t,s,n){const r="reset"===n,{index:a,_cachedMeta:{vScale:o}}=this,l=o.getBasePixel(),c=o.isHorizontal(),h=this._getRuler(),{sharedOptions:u,includeOptions:d}=this._getSharedOptions(t,n);for(let p=t;p<t+s;p++){const t=this.getParsed(p),s=r||i(t[o.axis])?{base:l,head:l}:this._calculateBarValuePixels(p),f=this._calculateBarIndexPixels(p,h),m=(t._stacks||{})[o.axis],g={horizontal:c,base:s.base,enableBorderRadius:!m||Dn(t._custom)||a===m._top||a===m._bottom,x:c?s.head:f.center,y:c?f.center:s.head,height:c?f.size:Math.abs(s.size),width:c?Math.abs(s.size):f.size};d&&(g.options=u||this.resolveDataElementOptions(p,e[p].active?"active":n));const v=g.options||e[p].options;Ln(g,v,m,a),Fn(g,v,h.ratio),this.updateElement(e[p],p,g,n)}}_getStacks(e,t){const{iScale:s}=this._cachedMeta,n=s.getMatchingVisibleMetas(this._type).filter(e=>e.controller.options.grouped),r=s.options.stacked,a=[],o=e=>{const s=e.controller.getParsed(t),n=s&&s[e.vScale.axis];if(i(n)||isNaN(n))return!0};for(const i of n)if((void 0===t||!o(i))&&((!1===r||-1===a.indexOf(i.stack)||void 0===r&&void 0===i.stack)&&a.push(i.stack),i.index===e))break;return a.length||a.push(void 0),a}_getStackCount(e){return this._getStacks(void 0,e).length}_getStackIndex(e,t,i){const s=this._getStacks(e,i),n=void 0!==t?s.indexOf(t):-1;return-1===n?s.length-1:n}_getRuler(){const e=this.options,t=this._cachedMeta,i=t.iScale,s=[];let n,r;for(n=0,r=t.data.length;n<r;++n)s.push(i.getPixelForValue(this.getParsed(n)[i.axis],n));const a=e.barThickness;return{min:a||Pn(t),pixels:s,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:e.grouped,ratio:a?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:t,_stacked:s},options:{base:n,minBarLength:r}}=this,a=n||0,o=this.getParsed(e),l=o._custom,c=Dn(l);let h,u,d=o[t.axis],p=0,f=s?this.applyStack(t,o,s):d;f!==d&&(p=f-d,f=d),c&&(d=l.barStart,f=l.barEnd-l.barStart,0!==d&&F(d)!==F(l.barEnd)&&(p=0),p+=d);const m=i(n)||c?p:n;let g=t.getPixelForValue(m);if(u=(h=this.chart.getDataVisibility(e)?t.getPixelForValue(p+f):g)-g,Math.abs(u)<r){u=function(e,t,i){return 0!==e?F(e):(t.isHorizontal()?1:-1)*(t.min>=i?1:-1)}(u,t,a)*r,d===a&&(g-=u/2);const e=t.getPixelForDecimal(0),i=t.getPixelForDecimal(1),s=Math.min(e,i),n=Math.max(e,i);h=(g=Math.max(Math.min(g,n),s))+u}if(g===t.getPixelForValue(a)){const e=F(u)*t.getLineWidthForValue(a)/2;g+=e,u-=e}return{size:u,base:g,head:h,center:h+u/2}}_calculateBarIndexPixels(e,t){const s=t.scale,n=this.options,r=n.skipNull,a=o(n.maxBarThickness,1/0);let l,c;if(t.grouped){const s=r?this._getStackCount(e):t.stackCount,o="flex"===n.barThickness?function(e,t,i,s){const n=t.pixels,r=n[e];let a=e>0?n[e-1]:null,o=e<n.length-1?n[e+1]:null;const l=i.categoryPercentage;null===a&&(a=r-(null===o?t.end-t.start:o-r)),null===o&&(o=r+r-a);const c=r-(r-Math.min(a,o))/2*l;return{chunk:Math.abs(o-a)/2*l/s,ratio:i.barPercentage,start:c}}(e,t,n,s):function(e,t,s,n){const r=s.barThickness;let a,o;return i(r)?(a=t.min*s.categoryPercentage,o=s.barPercentage):(a=r*n,o=1),{chunk:a/n,ratio:o,start:t.pixels[e]-a/2}}(e,t,n,s),h=this._getStackIndex(this.index,this._cachedMeta.stack,r?e:void 0);l=o.start+o.chunk*h+o.chunk/2,c=Math.min(a,o.chunk*o.ratio)}else l=s.getPixelForValue(this.getParsed(e)[s.axis],e),c=Math.min(a,t.min*t.ratio);return{base:l-c/2,head:l+c/2,center:l,size:c}}draw(){const e=this._cachedMeta,t=e.vScale,i=e.data,s=i.length;let n=0;for(;n<s;++n)null!==this.getParsed(n)[t.axis]&&i[n].draw(this._ctx)}}Nn.id="bar",Nn.defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}},Nn.overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};class Rn extends Rs{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,t,i,s){const n=super.parsePrimitiveData(e,t,i,s);for(let e=0;e<n.length;e++)n[e]._custom=this.resolveDataElementOptions(e+i).radius;return n}parseArrayData(e,t,i,s){const n=super.parseArrayData(e,t,i,s);for(let e=0;e<n.length;e++){const s=t[i+e];n[e]._custom=o(s[2],this.resolveDataElementOptions(e+i).radius)}return n}parseObjectData(e,t,i,s){const n=super.parseObjectData(e,t,i,s);for(let e=0;e<n.length;e++){const s=t[i+e];n[e]._custom=o(s&&s.r&&+s.r,this.resolveDataElementOptions(e+i).radius)}return n}getMaxOverflow(){const e=this._cachedMeta.data;let t=0;for(let i=e.length-1;i>=0;--i)t=Math.max(t,e[i].size(this.resolveDataElementOptions(i))/2);return t>0&&t}getLabelAndValue(e){const t=this._cachedMeta,{xScale:i,yScale:s}=t,n=this.getParsed(e),r=i.getLabelForValue(n.x),a=s.getLabelForValue(n.y),o=n._custom;return{label:t.label,value:"("+r+", "+a+(o?", "+o:"")+")"}}update(e){const t=this._cachedMeta.data;this.updateElements(t,0,t.length,e)}updateElements(e,t,i,s){const n="reset"===s,{iScale:r,vScale:a}=this._cachedMeta,{sharedOptions:o,includeOptions:l}=this._getSharedOptions(t,s),c=r.axis,h=a.axis;for(let u=t;u<t+i;u++){const t=e[u],i=!n&&this.getParsed(u),d={},p=d[c]=n?r.getPixelForDecimal(.5):r.getPixelForValue(i[c]),f=d[h]=n?a.getBasePixel():a.getPixelForValue(i[h]);d.skip=isNaN(p)||isNaN(f),l&&(d.options=o||this.resolveDataElementOptions(u,t.active?"active":s),n&&(d.options.radius=0)),this.updateElement(t,u,d,s)}}resolveDataElementOptions(e,t){const i=this.getParsed(e);let s=super.resolveDataElementOptions(e,t);s.$shared&&(s=Object.assign({},s,{$shared:!1}));const n=s.radius;return"active"!==t&&(s.radius=0),s.radius+=o(i&&i._custom,n),s}}Rn.id="bubble",Rn.defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}},Rn.overrides={scales:{x:{type:"linear"},y:{type:"linear"}},plugins:{tooltip:{callbacks:{title:()=>""}}}};class jn extends Rs{constructor(e,t){super(e,t),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,t){const i=this.getDataset().data,s=this._cachedMeta;if(!1===this._parsing)s._parsed=i;else{let r,a,o=e=>+i[e];if(n(i[e])){const{key:e="value"}=this._parsing;o=(t=>+w(i[t],e))}for(r=e,a=e+t;r<a;++r)s._parsed[r]=o(r)}}_getRotation(){return H(this.options.rotation-90)}_getCircumference(){return H(this.options.circumference)}_getRotationExtents(){let e=M,t=-M;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)){const s=this.chart.getDatasetMeta(i).controller,n=s._getRotation(),r=s._getCircumference();e=Math.min(e,n),t=Math.max(t,n+r)}return{rotation:e,circumference:t-e}}update(e){const t=this.chart,{chartArea:i}=t,s=this._cachedMeta,n=s.data,r=this.getMaxBorderWidth()+this.getMaxOffset(n)+this.options.spacing,a=Math.max((Math.min(i.width,i.height)-r)/2,0),o=Math.min(l(this.options.cutout,a),1),h=this._getRingWeight(this.index),{circumference:u,rotation:d}=this._getRotationExtents(),{ratioX:p,ratioY:f,offsetX:m,offsetY:g}=function(e,t,i){let s=1,n=1,r=0,a=0;if(t<M){const o=e,l=o+t,c=Math.cos(o),h=Math.sin(o),u=Math.cos(l),d=Math.sin(l),p=(e,t,s)=>K(e,o,l,!0)?1:Math.max(t,t*i,s,s*i),f=(e,t,s)=>K(e,o,l,!0)?-1:Math.min(t,t*i,s,s*i),m=p(0,c,u),g=p(D,h,d),v=f(T,c,u),y=f(T+D,h,d);s=(m-v)/2,n=(g-y)/2,r=-(m+v)/2,a=-(g+y)/2}return{ratioX:s,ratioY:n,offsetX:r,offsetY:a}}(d,u,o),v=(i.width-r)/p,y=(i.height-r)/f,b=Math.max(Math.min(v,y)/2,0),w=c(this.options.radius,b),x=(w-Math.max(w*o,0))/this._getVisibleDatasetWeightTotal();this.offsetX=m*w,this.offsetY=g*w,s.total=this.calculateTotal(),this.outerRadius=w-x*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-x*h,0),this.updateElements(n,0,n.length,e)}_circumference(e,t){const i=this.options,s=this._cachedMeta,n=this._getCircumference();return t&&i.animation.animateRotate||!this.chart.getDataVisibility(e)||null===s._parsed[e]||s.data[e].hidden?0:this.calculateCircumference(s._parsed[e]*n/M)}updateElements(e,t,i,s){const n="reset"===s,r=this.chart,a=r.chartArea,o=r.options.animation,l=(a.left+a.right)/2,c=(a.top+a.bottom)/2,h=n&&o.animateScale,u=h?0:this.innerRadius,d=h?0:this.outerRadius,{sharedOptions:p,includeOptions:f}=this._getSharedOptions(t,s);let m,g=this._getRotation();for(m=0;m<t;++m)g+=this._circumference(m,n);for(m=t;m<t+i;++m){const t=this._circumference(m,n),i=e[m],r={x:l+this.offsetX,y:c+this.offsetY,startAngle:g,endAngle:g+t,circumference:t,outerRadius:d,innerRadius:u};f&&(r.options=p||this.resolveDataElementOptions(m,i.active?"active":s)),g+=t,this.updateElement(i,m,r,s)}}calculateTotal(){const e=this._cachedMeta,t=e.data;let i,s=0;for(i=0;i<t.length;i++){const n=e._parsed[i];null===n||isNaN(n)||!this.chart.getDataVisibility(i)||t[i].hidden||(s+=Math.abs(n))}return s}calculateCircumference(e){const t=this._cachedMeta.total;return t>0&&!isNaN(e)?M*(Math.abs(e)/t):0}getLabelAndValue(e){const t=this._cachedMeta,i=this.chart,s=i.data.labels||[],n=hi(t._parsed[e],i.options.locale);return{label:s[e]||"",value:n}}getMaxBorderWidth(e){let t=0;const i=this.chart;let s,n,r,a,o;if(!e)for(s=0,n=i.data.datasets.length;s<n;++s)if(i.isDatasetVisible(s)){e=(r=i.getDatasetMeta(s)).data,a=r.controller;break}if(!e)return 0;for(s=0,n=e.length;s<n;++s)"inner"!==(o=a.resolveDataElementOptions(s)).borderAlign&&(t=Math.max(t,o.borderWidth||0,o.hoverBorderWidth||0));return t}getMaxOffset(e){let t=0;for(let i=0,s=e.length;i<s;++i){const e=this.resolveDataElementOptions(i);t=Math.max(t,e.offset||0,e.hoverOffset||0)}return t}_getRingWeightOffset(e){let t=0;for(let i=0;i<e;++i)this.chart.isDatasetVisible(i)&&(t+=this._getRingWeight(i));return t}_getRingWeight(e){return Math.max(o(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}jn.id="doughnut",jn.defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"},jn.descriptors={_scriptable:e=>"spacing"!==e,_indexable:e=>"spacing"!==e},jn.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:i}}=e.legend.options;return t.labels.map((t,s)=>{const n=e.getDatasetMeta(0).controller.getStyle(s);return{text:t,fillStyle:n.backgroundColor,strokeStyle:n.borderColor,lineWidth:n.borderWidth,pointStyle:i,hidden:!e.getDataVisibility(s),index:s}})}return[]}},onClick(e,t,i){i.chart.toggleDataVisibility(t.index),i.chart.update()}},tooltip:{callbacks:{title:()=>"",label(e){let t=e.label;const i=": "+e.formattedValue;return s(t)?(t=t.slice())[0]+=i:t+=i,t}}}}};class zn extends Rs{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const t=this._cachedMeta,{dataset:i,data:s=[],_dataset:n}=t,r=this.chart._animationsDisabled;let{start:a,count:o}=fe(t,s,r);this._drawStart=a,this._drawCount=o,me(t)&&(a=0,o=s.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!n._decimated,i.points=s;const l=this.resolveDatasetElementOptions(e);this.options.showLine||(l.borderWidth=0),l.segment=this.options.segment,this.updateElement(i,void 0,{animated:!r,options:l},e),this.updateElements(s,a,o,e)}updateElements(e,t,s,n){const r="reset"===n,{iScale:a,vScale:o,_stacked:l,_dataset:c}=this._cachedMeta,{sharedOptions:h,includeOptions:u}=this._getSharedOptions(t,n),d=a.axis,p=o.axis,{spanGaps:f,segment:m}=this.options,g=j(f)?f:Number.POSITIVE_INFINITY,v=this.chart._animationsDisabled||r||"none"===n;let y=t>0&&this.getParsed(t-1);for(let f=t;f<t+s;++f){const t=e[f],s=this.getParsed(f),b=v?t:{},w=i(s[p]),x=b[d]=a.getPixelForValue(s[d],f),_=b[p]=r||w?o.getBasePixel():o.getPixelForValue(l?this.applyStack(o,s,l):s[p],f);b.skip=isNaN(x)||isNaN(_)||w,b.stop=f>0&&Math.abs(s[d]-y[d])>g,m&&(b.parsed=s,b.raw=c.data[f]),u&&(b.options=h||this.resolveDataElementOptions(f,t.active?"active":n)),v||this.updateElement(t,f,b,n),y=s}}getMaxOverflow(){const e=this._cachedMeta,t=e.dataset,i=t.options&&t.options.borderWidth||0,s=e.data||[];if(!s.length)return i;const n=s[0].size(this.resolveDataElementOptions(0)),r=s[s.length-1].size(this.resolveDataElementOptions(s.length-1));return Math.max(i,n,r)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}zn.id="line",zn.defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1},zn.overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};class Bn extends Rs{constructor(e,t){super(e,t),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){const t=this._cachedMeta,i=this.chart,s=i.data.labels||[],n=hi(t._parsed[e].r,i.options.locale);return{label:s[e]||"",value:n}}parseObjectData(e,t,i,s){return Gt.bind(this)(e,t,i,s)}update(e){const t=this._cachedMeta.data;this._updateRadius(),this.updateElements(t,0,t.length,e)}getMinMax(){const e=this._cachedMeta,t={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return e.data.forEach((e,i)=>{const s=this.getParsed(i).r;!isNaN(s)&&this.chart.getDataVisibility(i)&&(s<t.min&&(t.min=s),s>t.max&&(t.max=s))}),t}_updateRadius(){const e=this.chart,t=e.chartArea,i=e.options,s=Math.min(t.right-t.left,t.bottom-t.top),n=Math.max(s/2,0),r=(n-Math.max(i.cutoutPercentage?n/100*i.cutoutPercentage:1,0))/e.getVisibleDatasetCount();this.outerRadius=n-r*this.index,this.innerRadius=this.outerRadius-r}updateElements(e,t,i,s){const n="reset"===s,r=this.chart,a=r.options.animation,o=this._cachedMeta.rScale,l=o.xCenter,c=o.yCenter,h=o.getIndexAngle(0)-.5*T;let u,d=h;const p=360/this.countVisibleElements();for(u=0;u<t;++u)d+=this._computeAngle(u,s,p);for(u=t;u<t+i;u++){const t=e[u];let i=d,f=d+this._computeAngle(u,s,p),m=r.getDataVisibility(u)?o.getDistanceFromCenterForValue(this.getParsed(u).r):0;d=f,n&&(a.animateScale&&(m=0),a.animateRotate&&(i=f=h));const g={x:l,y:c,innerRadius:0,outerRadius:m,startAngle:i,endAngle:f,options:this.resolveDataElementOptions(u,t.active?"active":s)};this.updateElement(t,u,g,s)}}countVisibleElements(){const e=this._cachedMeta;let t=0;return e.data.forEach((e,i)=>{!isNaN(this.getParsed(i).r)&&this.chart.getDataVisibility(i)&&t++}),t}_computeAngle(e,t,i){return this.chart.getDataVisibility(e)?H(this.resolveDataElementOptions(e,t).angle||i):0}}Bn.id="polarArea",Bn.defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0},Bn.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:i}}=e.legend.options;return t.labels.map((t,s)=>{const n=e.getDatasetMeta(0).controller.getStyle(s);return{text:t,fillStyle:n.backgroundColor,strokeStyle:n.borderColor,lineWidth:n.borderWidth,pointStyle:i,hidden:!e.getDataVisibility(s),index:s}})}return[]}},onClick(e,t,i){i.chart.toggleDataVisibility(t.index),i.chart.update()}},tooltip:{callbacks:{title:()=>"",label:e=>e.chart.data.labels[e.dataIndex]+": "+e.formattedValue}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};class Vn extends jn{}Vn.id="pie",Vn.defaults={cutout:0,rotation:0,circumference:360,radius:"100%"};class Hn extends Rs{getLabelAndValue(e){const t=this._cachedMeta.vScale,i=this.getParsed(e);return{label:t.getLabels()[e],value:""+t.getLabelForValue(i[t.axis])}}parseObjectData(e,t,i,s){return Gt.bind(this)(e,t,i,s)}update(e){const t=this._cachedMeta,i=t.dataset,s=t.data||[],n=t.iScale.getLabels();if(i.points=s,"resize"!==e){const t=this.resolveDatasetElementOptions(e);this.options.showLine||(t.borderWidth=0);const r={_loop:!0,_fullLoop:n.length===s.length,options:t};this.updateElement(i,void 0,r,e)}this.updateElements(s,0,s.length,e)}updateElements(e,t,i,s){const n=this._cachedMeta.rScale,r="reset"===s;for(let a=t;a<t+i;a++){const t=e[a],i=this.resolveDataElementOptions(a,t.active?"active":s),o=n.getPointPositionForValue(a,this.getParsed(a).r),l=r?n.xCenter:o.x,c=r?n.yCenter:o.y,h={x:l,y:c,angle:o.angle,skip:isNaN(l)||isNaN(c),options:i};this.updateElement(t,a,h,s)}}}Hn.id="radar",Hn.defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}},Hn.overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};class Wn extends Rs{update(e){const t=this._cachedMeta,{data:i=[]}=t,s=this.chart._animationsDisabled;let{start:n,count:r}=fe(t,i,s);if(this._drawStart=n,this._drawCount=r,me(t)&&(n=0,r=i.length),this.options.showLine){const{dataset:n,_dataset:r}=t;n._chart=this.chart,n._datasetIndex=this.index,n._decimated=!!r._decimated,n.points=i;const a=this.resolveDatasetElementOptions(e);a.segment=this.options.segment,this.updateElement(n,void 0,{animated:!s,options:a},e)}this.updateElements(i,n,r,e)}addElements(){const{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=Qs.getElement("line")),super.addElements()}updateElements(e,t,s,n){const r="reset"===n,{iScale:a,vScale:o,_stacked:l,_dataset:c}=this._cachedMeta,h=this.resolveDataElementOptions(t,n),u=this.getSharedOptions(h),d=this.includeOptions(n,u),p=a.axis,f=o.axis,{spanGaps:m,segment:g}=this.options,v=j(m)?m:Number.POSITIVE_INFINITY,y=this.chart._animationsDisabled||r||"none"===n;let b=t>0&&this.getParsed(t-1);for(let h=t;h<t+s;++h){const t=e[h],s=this.getParsed(h),m=y?t:{},w=i(s[f]),x=m[p]=a.getPixelForValue(s[p],h),_=m[f]=r||w?o.getBasePixel():o.getPixelForValue(l?this.applyStack(o,s,l):s[f],h);m.skip=isNaN(x)||isNaN(_)||w,m.stop=h>0&&Math.abs(s[p]-b[p])>v,g&&(m.parsed=s,m.raw=c.data[h]),d&&(m.options=u||this.resolveDataElementOptions(h,t.active?"active":n)),y||this.updateElement(t,h,m,n),b=s}this.updateSharedOptions(u,n,h)}getMaxOverflow(){const e=this._cachedMeta,t=e.data||[];if(!this.options.showLine){let e=0;for(let i=t.length-1;i>=0;--i)e=Math.max(e,t[i].size(this.resolveDataElementOptions(i))/2);return e>0&&e}const i=e.dataset,s=i.options&&i.options.borderWidth||0;if(!t.length)return s;const n=t[0].size(this.resolveDataElementOptions(0)),r=t[t.length-1].size(this.resolveDataElementOptions(t.length-1));return Math.max(s,n,r)/2}}Wn.id="scatter",Wn.defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1},Wn.overrides={interaction:{mode:"point"},plugins:{tooltip:{callbacks:{title:()=>"",label:e=>"("+e.label+", "+e.formattedValue+")"}}},scales:{x:{type:"linear"},y:{type:"linear"}}};var Yn=Object.freeze({__proto__:null,BarController:Nn,BubbleController:Rn,DoughnutController:jn,LineController:zn,PolarAreaController:Bn,PieController:Vn,RadarController:Hn,ScatterController:Wn});function qn(e,t,i){const{startAngle:s,pixelMargin:n,x:r,y:a,outerRadius:o,innerRadius:l}=t;let c=n/o;e.beginPath(),e.arc(r,a,o,s-c,i+c),l>n?(c=n/l,e.arc(r,a,l,i+c,s-c,!0)):e.arc(r,a,n,i+D,s-D),e.closePath(),e.clip()}function Un(e,t,i,s){const n=mi(e.options.borderRadius,["outerStart","outerEnd","innerStart","innerEnd"]);const r=(i-t)/2,a=Math.min(r,s*t/2),o=e=>{const t=(i-Math.min(r,e))*s/2;return Z(e,0,Math.min(r,t))};return{outerStart:o(n.outerStart),outerEnd:o(n.outerEnd),innerStart:Z(n.innerStart,0,a),innerEnd:Z(n.innerEnd,0,a)}}function Gn(e,t,i,s){return{x:i+e*Math.cos(t),y:s+e*Math.sin(t)}}function Xn(e,t,i,s,n,r){const{x:a,y:o,startAngle:l,pixelMargin:c,innerRadius:h}=t,u=Math.max(t.outerRadius+s+i-c,0),d=h>0?h+s+i+c:0;let p=0;const f=n-l;if(s){const e=((h>0?h-s:0)+(u>0?u-s:0))/2;p=(f-(0!==e?f*e/(e+s):f))/2}const m=(f-Math.max(.001,f*u-i/T)/u)/2,g=l+m+p,v=n-m-p,{outerStart:y,outerEnd:b,innerStart:w,innerEnd:x}=Un(t,d,u,v-g),_=u-y,k=u-b,E=g+y/_,S=v-b/k,C=d+w,M=d+x,P=g+w/C,A=v-x/M;if(e.beginPath(),r){if(e.arc(a,o,u,E,S),b>0){const t=Gn(k,S,a,o);e.arc(t.x,t.y,b,S,v+D)}const t=Gn(M,v,a,o);if(e.lineTo(t.x,t.y),x>0){const t=Gn(M,A,a,o);e.arc(t.x,t.y,x,v+D,A+Math.PI)}if(e.arc(a,o,d,v-x/d,g+w/d,!0),w>0){const t=Gn(C,P,a,o);e.arc(t.x,t.y,w,P+Math.PI,g-D)}const i=Gn(_,g,a,o);if(e.lineTo(i.x,i.y),y>0){const t=Gn(_,E,a,o);e.arc(t.x,t.y,y,g-D,E)}}else{e.moveTo(a,o);const t=Math.cos(E)*u+a,i=Math.sin(E)*u+o;e.lineTo(t,i);const s=Math.cos(S)*u+a,n=Math.sin(S)*u+o;e.lineTo(s,n)}e.closePath()}function Kn(e,t,i,s,n,r){const{options:a}=t,{borderWidth:o,borderJoinStyle:l}=a,c="inner"===a.borderAlign;o&&(c?(e.lineWidth=2*o,e.lineJoin=l||"round"):(e.lineWidth=o,e.lineJoin=l||"bevel"),t.fullCircles&&function(e,t,i){const{x:s,y:n,startAngle:r,pixelMargin:a,fullCircles:o}=t,l=Math.max(t.outerRadius-a,0),c=t.innerRadius+a;let h;for(i&&qn(e,t,r+M),e.beginPath(),e.arc(s,n,c,r+M,r,!0),h=0;h<o;++h)e.stroke();for(e.beginPath(),e.arc(s,n,l,r,r+M),h=0;h<o;++h)e.stroke()}(e,t,c),c&&qn(e,t,n),Xn(e,t,i,s,n,r),e.stroke())}class Zn extends js{constructor(e){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,t,i){const s=this.getProps(["x","y"],i),{angle:n,distance:r}=q(s,{x:e,y:t}),{startAngle:a,endAngle:l,innerRadius:c,outerRadius:h,circumference:u}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),d=this.options.spacing/2,p=o(u,l-a)>=M||K(n,a,l),f=Q(r,c+d,h+d);return p&&f}getCenterPoint(e){const{x:t,y:i,startAngle:s,endAngle:n,innerRadius:r,outerRadius:a}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius","circumference"],e),{offset:o,spacing:l}=this.options,c=(s+n)/2,h=(r+a+l+o)/2;return{x:t+Math.cos(c)*h,y:i+Math.sin(c)*h}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:t,circumference:i}=this,s=(t.offset||0)/2,n=(t.spacing||0)/2,r=t.circular;if(this.pixelMargin="inner"===t.borderAlign?.33:0,this.fullCircles=i>M?Math.floor(i/M):0,0===i||this.innerRadius<0||this.outerRadius<0)return;e.save();let a=0;if(s){a=s/2;const t=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(t)*a,Math.sin(t)*a),this.circumference>=T&&(a=s)}e.fillStyle=t.backgroundColor,e.strokeStyle=t.borderColor;const o=function(e,t,i,s,n){const{fullCircles:r,startAngle:a,circumference:o}=t;let l=t.endAngle;if(r){Xn(e,t,i,s,a+M,n);for(let t=0;t<r;++t)e.fill();isNaN(o)||(l=a+o%M,o%M==0&&(l+=M))}return Xn(e,t,i,s,l,n),e.fill(),l}(e,this,a,n,r);Kn(e,this,a,n,o,r),e.restore()}}function Jn(e,t,i=t){e.lineCap=o(i.borderCapStyle,t.borderCapStyle),e.setLineDash(o(i.borderDash,t.borderDash)),e.lineDashOffset=o(i.borderDashOffset,t.borderDashOffset),e.lineJoin=o(i.borderJoinStyle,t.borderJoinStyle),e.lineWidth=o(i.borderWidth,t.borderWidth),e.strokeStyle=o(i.borderColor,t.borderColor)}function Qn(e,t,i){e.lineTo(i.x,i.y)}function er(e,t,i={}){const s=e.length,{start:n=0,end:r=s-1}=i,{start:a,end:o}=t,l=Math.max(n,a),c=Math.min(r,o),h=n<a&&r<a||n>o&&r>o;return{count:s,start:l,loop:t.loop,ilen:c<l&&!h?s+c-l:c-l}}function tr(e,t,i,s){const{points:n,options:r}=t,{count:a,start:o,loop:l,ilen:c}=er(n,i,s),h=function(e){return e.stepped?At:e.tension||"monotone"===e.cubicInterpolationMode?Ot:Qn}(r);let u,d,p,{move:f=!0,reverse:m}=s||{};for(u=0;u<=c;++u)(d=n[(o+(m?c-u:u))%a]).skip||(f?(e.moveTo(d.x,d.y),f=!1):h(e,p,d,m,r.stepped),p=d);return l&&h(e,p,d=n[(o+(m?c:0))%a],m,r.stepped),!!l}function ir(e,t,i,s){const n=t.points,{count:r,start:a,ilen:o}=er(n,i,s),{move:l=!0,reverse:c}=s||{};let h,u,d,p,f,m,g=0,v=0;const y=e=>(a+(c?o-e:e))%r,b=()=>{p!==f&&(e.lineTo(g,f),e.lineTo(g,p),e.lineTo(g,m))};for(l&&(u=n[y(0)],e.moveTo(u.x,u.y)),h=0;h<=o;++h){if((u=n[y(h)]).skip)continue;const t=u.x,i=u.y,s=0|t;s===d?(i<p?p=i:i>f&&(f=i),g=(v*g+t)/++v):(b(),e.lineTo(t,i),d=s,v=0,p=f=i),m=i}b()}function sr(e){const t=e.options,i=t.borderDash&&t.borderDash.length;return!(e._decimated||e._loop||t.tension||"monotone"===t.cubicInterpolationMode||t.stepped||i)?ir:tr}Zn.id="arc",Zn.defaults={borderAlign:"center",borderColor:"#fff",borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0},Zn.defaultRoutes={backgroundColor:"backgroundColor"};const nr="function"==typeof Path2D;function rr(e,t,i,s){nr&&!t.options.segment?function(e,t,i,s){let n=t._path;n||(n=t._path=new Path2D,t.path(n,i,s)&&n.closePath()),Jn(e,t.options),e.stroke(n)}(e,t,i,s):function(e,t,i,s){const{segments:n,options:r}=t,a=sr(t);for(const o of n)Jn(e,r,o.style),e.beginPath(),a(e,t,o,{start:i,end:i+s-1})&&e.closePath(),e.stroke()}(e,t,i,s)}class ar extends js{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,t){const i=this.options;if((i.tension||"monotone"===i.cubicInterpolationMode)&&!i.stepped&&!this._pointsUpdated){const s=i.spanGaps?this._loop:this._fullLoop;ti(this._points,i,e,s,t),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=Di(this,this.options.segment))}first(){const e=this.segments,t=this.points;return e.length&&t[e[0].start]}last(){const e=this.segments,t=this.points,i=e.length;return i&&t[e[i-1].end]}interpolate(e,t){const i=this.options,s=e[t],n=this.points,r=Oi(this,{property:t,start:s,end:s});if(!r.length)return;const a=[],o=function(e){return e.stepped?oi:e.tension||"monotone"===e.cubicInterpolationMode?li:ai}(i);let l,c;for(l=0,c=r.length;l<c;++l){const{start:c,end:h}=r[l],u=n[c],d=n[h];if(u===d){a.push(u);continue}const p=o(u,d,Math.abs((s-u[t])/(d[t]-u[t])),i.stepped);p[t]=e[t],a.push(p)}return 1===a.length?a[0]:a}pathSegment(e,t,i){return sr(this)(e,this,t,i)}path(e,t,i){const s=this.segments,n=sr(this);let r=this._loop;t=t||0,i=i||this.points.length-t;for(const a of s)r&=n(e,this,a,{start:t,end:t+i-1});return!!r}draw(e,t,i,s){const n=this.options||{};(this.points||[]).length&&n.borderWidth&&(e.save(),rr(e,this,i,s),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function or(e,t,i,s){const n=e.options,{[i]:r}=e.getProps([i],s);return Math.abs(t-r)<n.radius+n.hitRadius}ar.id="line",ar.defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0},ar.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"},ar.descriptors={_scriptable:!0,_indexable:e=>"borderDash"!==e&&"fill"!==e};class lr extends js{constructor(e){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,t,i){const s=this.options,{x:n,y:r}=this.getProps(["x","y"],i);return Math.pow(e-n,2)+Math.pow(t-r,2)<Math.pow(s.hitRadius+s.radius,2)}inXRange(e,t){return or(this,e,"x",t)}inYRange(e,t){return or(this,e,"y",t)}getCenterPoint(e){const{x:t,y:i}=this.getProps(["x","y"],e);return{x:t,y:i}}size(e){let t=(e=e||this.options||{}).radius||0;return 2*((t=Math.max(t,t&&e.hoverRadius||0))+(t&&e.borderWidth||0))}draw(e,t){const i=this.options;this.skip||i.radius<.1||!Tt(this,t,this.size(i)/2)||(e.strokeStyle=i.borderColor,e.lineWidth=i.borderWidth,e.fillStyle=i.backgroundColor,St(e,i,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}function cr(e,t){const{x:i,y:s,base:n,width:r,height:a}=e.getProps(["x","y","base","width","height"],t);let o,l,c,h,u;return e.horizontal?(u=a/2,o=Math.min(i,n),l=Math.max(i,n),c=s-u,h=s+u):(o=i-(u=r/2),l=i+u,c=Math.min(s,n),h=Math.max(s,n)),{left:o,top:c,right:l,bottom:h}}function hr(e,t,i,s){return e?0:Z(t,i,s)}function ur(e){const t=cr(e),i=t.right-t.left,s=t.bottom-t.top,r=function(e,t,i){const s=e.options.borderWidth,n=e.borderSkipped,r=gi(s);return{t:hr(n.top,r.top,0,i),r:hr(n.right,r.right,0,t),b:hr(n.bottom,r.bottom,0,i),l:hr(n.left,r.left,0,t)}}(e,i/2,s/2),a=function(e,t,i){const{enableBorderRadius:s}=e.getProps(["enableBorderRadius"]),r=e.options.borderRadius,a=vi(r),o=Math.min(t,i),l=e.borderSkipped,c=s||n(r);return{topLeft:hr(!c||l.top||l.left,a.topLeft,0,o),topRight:hr(!c||l.top||l.right,a.topRight,0,o),bottomLeft:hr(!c||l.bottom||l.left,a.bottomLeft,0,o),bottomRight:hr(!c||l.bottom||l.right,a.bottomRight,0,o)}}(e,i/2,s/2);return{outer:{x:t.left,y:t.top,w:i,h:s,radius:a},inner:{x:t.left+r.l,y:t.top+r.t,w:i-r.l-r.r,h:s-r.t-r.b,radius:{topLeft:Math.max(0,a.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,a.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,a.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,a.bottomRight-Math.max(r.b,r.r))}}}}function dr(e,t,i,s){const n=null===t,r=null===i,a=e&&!(n&&r)&&cr(e,s);return a&&(n||Q(t,a.left,a.right))&&(r||Q(i,a.top,a.bottom))}function pr(e,t){e.rect(t.x,t.y,t.w,t.h)}function fr(e,t,i={}){const s=e.x!==i.x?-t:0,n=e.y!==i.y?-t:0,r=(e.x+e.w!==i.x+i.w?t:0)-s,a=(e.y+e.h!==i.y+i.h?t:0)-n;return{x:e.x+s,y:e.y+n,w:e.w+r,h:e.h+a,radius:e.radius}}lr.id="point",lr.defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0},lr.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};class mr extends js{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:t,options:{borderColor:i,backgroundColor:s}}=this,{inner:n,outer:r}=ur(this),a=(o=r.radius).topLeft||o.topRight||o.bottomLeft||o.bottomRight?It:pr;var o;e.save(),r.w===n.w&&r.h===n.h||(e.beginPath(),a(e,fr(r,t,n)),e.clip(),a(e,fr(n,-t,r)),e.fillStyle=i,e.fill("evenodd")),e.beginPath(),a(e,fr(n,t)),e.fillStyle=s,e.fill(),e.restore()}inRange(e,t,i){return dr(this,e,t,i)}inXRange(e,t){return dr(this,e,null,t)}inYRange(e,t){return dr(this,null,e,t)}getCenterPoint(e){const{x:t,y:i,base:s,horizontal:n}=this.getProps(["x","y","base","horizontal"],e);return{x:n?(t+s)/2:t,y:n?i:(i+s)/2}}getRange(e){return"x"===e?this.width/2:this.height/2}}mr.id="bar",mr.defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0},mr.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};var gr=Object.freeze({__proto__:null,ArcElement:Zn,LineElement:ar,PointElement:lr,BarElement:mr});function vr(e){if(e._decimated){const t=e._data;delete e._decimated,delete e._data,Object.defineProperty(e,"data",{value:t})}}function yr(e){e.data.datasets.forEach(e=>{vr(e)})}var br={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(e,t,s)=>{if(!s.enabled)return void yr(e);const n=e.width;e.data.datasets.forEach((t,r)=>{const{_data:a,indexAxis:o}=t,l=e.getDatasetMeta(r),c=a||t.data;if("y"===wi([o,e.options.indexAxis]))return;if(!l.controller.supportsDecimation)return;const h=e.scales[l.xAxisID];if("linear"!==h.type&&"time"!==h.type)return;if(e.options.parsing)return;let{start:u,count:d}=function(e,t){const i=t.length;let s,n=0;const{iScale:r}=e,{min:a,max:o,minDefined:l,maxDefined:c}=r.getUserBounds();return l&&(n=Z(te(t,r.axis,a).lo,0,i-1)),{start:n,count:s=c?Z(te(t,r.axis,o).hi+1,n,i)-n:i-n}}(l,c);if(d<=(s.threshold||4*n))return void vr(t);let p;switch(i(a)&&(t._data=c,delete t.data,Object.defineProperty(t,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(e){this._data=e}})),s.algorithm){case"lttb":p=function(e,t,i,s,n){const r=n.samples||s;if(r>=i)return e.slice(t,t+i);const a=[],o=(i-2)/(r-2);let l=0;const c=t+i-1;let h,u,d,p,f,m=t;for(a[l++]=e[m],h=0;h<r-2;h++){let s,n=0,r=0;const c=Math.floor((h+1)*o)+1+t,g=Math.min(Math.floor((h+2)*o)+1,i)+t,v=g-c;for(s=c;s<g;s++)n+=e[s].x,r+=e[s].y;n/=v,r/=v;const y=Math.floor(h*o)+1+t,b=Math.min(Math.floor((h+1)*o)+1,i)+t,{x:w,y:x}=e[m];for(d=p=-1,s=y;s<b;s++)(p=.5*Math.abs((w-n)*(e[s].y-x)-(w-e[s].x)*(r-x)))>d&&(d=p,u=e[s],f=s);a[l++]=u,m=f}return a[l++]=e[c],a}(c,u,d,n,s);break;case"min-max":p=function(e,t,s,n){let r,a,o,l,c,h,u,d,p,f,m=0,g=0;const v=[],y=t+s-1,b=e[t].x,w=e[y].x-b;for(r=t;r<t+s;++r){o=((a=e[r]).x-b)/w*n,l=a.y;const t=0|o;if(t===c)l<p?(p=l,h=r):l>f&&(f=l,u=r),m=(g*m+a.x)/++g;else{const s=r-1;if(!i(h)&&!i(u)){const t=Math.min(h,u),i=Math.max(h,u);t!==d&&t!==s&&v.push({...e[t],x:m}),i!==d&&i!==s&&v.push({...e[i],x:m})}r>0&&s!==d&&v.push(e[s]),v.push(a),c=t,g=0,p=f=l,h=u=d=r}}return v}(c,u,d,n);break;default:throw new Error(`Unsupported decimation algorithm '${s.algorithm}'`)}t._decimated=p})},destroy(e){yr(e)}};function wr(e,t,i,s){if(s)return;let n=t[e],r=i[e];return"angle"===e&&(n=X(n),r=X(r)),{property:e,start:n,end:r}}function xr(e,t,i){for(;t>e;t--){const e=i[t];if(!isNaN(e.x)&&!isNaN(e.y))break}return t}function _r(e,t,i,s){return e&&t?s(e[i],t[i]):e?e[i]:t?t[i]:0}function kr(e,t){let i=[],n=!1;return s(e)?(n=!0,i=e):i=function(e,t){const{x:i=null,y:s=null}=e||{},n=t.points,r=[];return t.segments.forEach(({start:e,end:t})=>{t=xr(e,t,n);const a=n[e],o=n[t];null!==s?(r.push({x:a.x,y:s}),r.push({x:o.x,y:s})):null!==i&&(r.push({x:i,y:a.y}),r.push({x:i,y:o.y}))}),r}(e,t),i.length?new ar({points:i,options:{tension:0},_loop:n,_fullLoop:n}):null}function Er(e){return e&&!1!==e.fill}function Sr(e,t,i){let s=e[t].fill;const n=[t];let a;if(!i)return s;for(;!1!==s&&-1===n.indexOf(s);){if(!r(s))return s;if(!(a=e[s]))return!1;if(a.visible)return s;n.push(s),s=a.fill}return!1}function Cr(e,t,i){const s=function(e){const t=e.options,i=t.fill;let s=o(i&&i.target,i);void 0===s&&(s=!!t.backgroundColor);if(!1===s||null===s)return!1;if(!0===s)return"origin";return s}(e);if(n(s))return!isNaN(s.value)&&s;let a=parseFloat(s);return r(a)&&Math.floor(a)===a?function(e,t,i,s){"-"!==e&&"+"!==e||(i=t+i);if(i===t||i<0||i>=s)return!1;return i}(s[0],t,a,i):["origin","start","end","stack","shape"].indexOf(s)>=0&&s}function Tr(e,t,i){const s=[];for(let n=0;n<i.length;n++){const r=i[n],{first:a,last:o,point:l}=Mr(r,t,"x");if(!(!l||a&&o))if(a)s.unshift(l);else if(e.push(l),!o)break}e.push(...s)}function Mr(e,t,i){const s=e.interpolate(t,i);if(!s)return{};const n=s[i],r=e.segments,a=e.points;let o=!1,l=!1;for(let e=0;e<r.length;e++){const t=r[e],s=a[t.start][i],c=a[t.end][i];if(Q(n,s,c)){o=n===s,l=n===c;break}}return{first:o,last:l,point:s}}class Pr{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,t,i){const{x:s,y:n,radius:r}=this;return t=t||{start:0,end:M},e.arc(s,n,r,t.end,t.start,!0),!i.bounds}interpolate(e){const{x:t,y:i,radius:s}=this,n=e.angle;return{x:t+Math.cos(n)*s,y:i+Math.sin(n)*s,angle:n}}}function Ar(e){const{chart:t,fill:i,line:s}=e;if(r(i))return function(e,t){const i=e.getDatasetMeta(t);return i&&e.isDatasetVisible(t)?i.dataset:null}(t,i);if("stack"===i)return function(e){const{scale:t,index:i,line:s}=e,n=[],r=s.segments,a=s.points,o=function(e,t){const i=[],s=e.getMatchingVisibleMetas("line");for(let e=0;e<s.length;e++){const n=s[e];if(n.index===t)break;n.hidden||i.unshift(n.dataset)}return i}(t,i);o.push(kr({x:null,y:t.bottom},s));for(let e=0;e<r.length;e++){const t=r[e];for(let e=t.start;e<=t.end;e++)Tr(n,a[e],o)}return new ar({points:n,options:{}})}(e);if("shape"===i)return!0;const a=function(e){if((e.scale||{}).getPointPositionForValue)return function(e){const{scale:t,fill:i}=e,s=t.options,r=t.getLabels().length,a=s.reverse?t.max:t.min,o=function(e,t,i){let s;return s="start"===e?i:"end"===e?t.options.reverse?t.min:t.max:n(e)?e.value:t.getBaseValue()}(i,t,a),l=[];if(s.grid.circular){const e=t.getPointPositionForValue(0,a);return new Pr({x:e.x,y:e.y,radius:t.getDistanceFromCenterForValue(o)})}for(let e=0;e<r;++e)l.push(t.getPointPositionForValue(e,o));return l}(e);return function(e){const{scale:t={},fill:i}=e,s=function(e,t){let i=null;return"start"===e?i=t.bottom:"end"===e?i=t.top:n(e)?i=t.getPixelForValue(e.value):t.getBasePixel&&(i=t.getBasePixel()),i}(i,t);if(r(s)){const e=t.isHorizontal();return{x:e?s:null,y:e?null:s}}return null}(e)}(e);return a instanceof Pr?a:kr(a,s)}function Or(e,t,i){const s=Ar(t),{line:n,scale:r,axis:a}=t,o=n.options,l=o.fill,c=o.backgroundColor,{above:h=c,below:u=c}=l||{};s&&n.points.length&&(Mt(e,i),function(e,t){const{line:i,target:s,above:n,below:r,area:a,scale:o}=t,l=i._loop?"angle":t.axis;e.save(),"x"===l&&r!==n&&(Dr(e,s,a.top),Lr(e,{line:i,target:s,color:n,scale:o,property:l}),e.restore(),e.save(),Dr(e,s,a.bottom));Lr(e,{line:i,target:s,color:r,scale:o,property:l}),e.restore()}(e,{line:n,target:s,above:h,below:u,area:i,scale:r,axis:a}),Pt(e))}function Dr(e,t,i){const{segments:s,points:n}=t;let r=!0,a=!1;e.beginPath();for(const o of s){const{start:s,end:l}=o,c=n[s],h=n[xr(s,l,n)];r?(e.moveTo(c.x,c.y),r=!1):(e.lineTo(c.x,i),e.lineTo(c.x,c.y)),(a=!!t.pathSegment(e,o,{move:a}))?e.closePath():e.lineTo(h.x,i)}e.lineTo(t.first().x,i),e.closePath(),e.clip()}function Lr(e,t){const{line:i,target:s,property:n,color:r,scale:a}=t,o=function(e,t,i){const s=e.segments,n=e.points,r=t.points,a=[];for(const e of s){let{start:s,end:o}=e;o=xr(s,o,n);const l=wr(i,n[s],n[o],e.loop);if(!t.segments){a.push({source:e,target:l,start:n[s],end:n[o]});continue}const c=Oi(t,l);for(const t of c){const s=wr(i,r[t.start],r[t.end],t.loop),o=Ai(e,n,s);for(const e of o)a.push({source:e,target:t,start:{[i]:_r(l,s,"start",Math.max)},end:{[i]:_r(l,s,"end",Math.min)}})}}return a}(i,s,n);for(const{source:t,target:l,start:c,end:h}of o){const{style:{backgroundColor:o=r}={}}=t,u=!0!==s;e.save(),e.fillStyle=o,Ir(e,a,u&&wr(n,c,h)),e.beginPath();const d=!!i.pathSegment(e,t);let p;if(u){d?e.closePath():$r(e,s,h,n);const t=!!s.pathSegment(e,l,{move:d,reverse:!0});(p=d&&t)||$r(e,s,c,n)}e.closePath(),e.fill(p?"evenodd":"nonzero"),e.restore()}}function Ir(e,t,i){const{top:s,bottom:n}=t.chart.chartArea,{property:r,start:a,end:o}=i||{};"x"===r&&(e.beginPath(),e.rect(a,s,o-a,n-s),e.clip())}function $r(e,t,i,s){const n=t.interpolate(i,s);n&&e.lineTo(n.x,n.y)}var Fr={id:"filler",afterDatasetsUpdate(e,t,i){const s=(e.data.datasets||[]).length,n=[];let r,a,o,l;for(a=0;a<s;++a)l=null,(o=(r=e.getDatasetMeta(a)).dataset)&&o.options&&o instanceof ar&&(l={visible:e.isDatasetVisible(a),index:a,fill:Cr(o,a,s),chart:e,axis:r.controller.options.indexAxis,scale:r.vScale,line:o}),r.$filler=l,n.push(l);for(a=0;a<s;++a)(l=n[a])&&!1!==l.fill&&(l.fill=Sr(n,a,i.propagate))},beforeDraw(e,t,i){const s="beforeDraw"===i.drawTime,n=e.getSortedVisibleDatasetMetas(),r=e.chartArea;for(let t=n.length-1;t>=0;--t){const i=n[t].$filler;i&&(i.line.updateControlPoints(r,i.axis),s&&i.fill&&Or(e.ctx,i,r))}},beforeDatasetsDraw(e,t,i){if("beforeDatasetsDraw"!==i.drawTime)return;const s=e.getSortedVisibleDatasetMetas();for(let t=s.length-1;t>=0;--t){const i=s[t].$filler;Er(i)&&Or(e.ctx,i,e.chartArea)}},beforeDatasetDraw(e,t,i){const s=t.meta.$filler;Er(s)&&"beforeDatasetDraw"===i.drawTime&&Or(e.ctx,s,e.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const Nr=(e,t)=>{let{boxHeight:i=t,boxWidth:s=t}=e;return e.usePointStyle&&(i=Math.min(i,t),s=e.pointStyleWidth||Math.min(s,t)),{boxWidth:s,boxHeight:i,itemHeight:Math.max(t,i)}},Rr=(e,t)=>null!==e&&null!==t&&e.datasetIndex===t.datasetIndex&&e.index===t.index;class jr extends js{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,i){this.maxWidth=e,this.maxHeight=t,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let t=h(e.generateLabels,[this.chart],this)||[];e.filter&&(t=t.filter(t=>e.filter(t,this.chart.data))),e.sort&&(t=t.sort((t,i)=>e.sort(t,i,this.chart.data))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){const{options:e,ctx:t}=this;if(!e.display)return void(this.width=this.height=0);const i=e.labels,s=bi(i.font),n=s.size,r=this._computeTitleHeight(),{boxWidth:a,itemHeight:o}=Nr(i,n);let l,c;t.font=s.string,this.isHorizontal()?(l=this.maxWidth,c=this._fitRows(r,n,a,o)+10):(c=this.maxHeight,l=this._fitCols(r,n,a,o)+10),this.width=Math.min(l,e.maxWidth||this.maxWidth),this.height=Math.min(c,e.maxHeight||this.maxHeight)}_fitRows(e,t,i,s){const{ctx:n,maxWidth:r,options:{labels:{padding:a}}}=this,o=this.legendHitBoxes=[],l=this.lineWidths=[0],c=s+a;let h=e;n.textAlign="left",n.textBaseline="middle";let u=-1,d=-c;return this.legendItems.forEach((e,p)=>{const f=i+t/2+n.measureText(e.text).width;(0===p||l[l.length-1]+f+2*a>r)&&(h+=c,l[l.length-(p>0?0:1)]=0,d+=c,u++),o[p]={left:0,top:d,row:u,width:f,height:s},l[l.length-1]+=f+a}),h}_fitCols(e,t,i,s){const{ctx:n,maxHeight:r,options:{labels:{padding:a}}}=this,o=this.legendHitBoxes=[],l=this.columnSizes=[],c=r-e;let h=a,u=0,d=0,p=0,f=0;return this.legendItems.forEach((e,r)=>{const m=i+t/2+n.measureText(e.text).width;r>0&&d+s+2*a>c&&(h+=u+a,l.push({width:u,height:d}),p+=u+a,f++,u=d=0),o[r]={left:p,top:d,col:f,width:m,height:s},u=Math.max(u,m),d+=s+a}),h+=u,l.push({width:u,height:d}),h}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:i,labels:{padding:s},rtl:n}}=this,r=Si(n,this.left,this.width);if(this.isHorizontal()){let n=0,a=de(i,this.left+s,this.right-this.lineWidths[n]);for(const o of t)n!==o.row&&(n=o.row,a=de(i,this.left+s,this.right-this.lineWidths[n])),o.top+=this.top+e+s,o.left=r.leftForLtr(r.x(a),o.width),a+=o.width+s}else{let n=0,a=de(i,this.top+e+s,this.bottom-this.columnSizes[n].height);for(const o of t)o.col!==n&&(n=o.col,a=de(i,this.top+e+s,this.bottom-this.columnSizes[n].height)),o.top=a,o.left+=this.left+s,o.left=r.leftForLtr(r.x(o.left),o.width),a+=o.height+s}}isHorizontal(){return"top"===this.options.position||"bottom"===this.options.position}draw(){if(this.options.display){const e=this.ctx;Mt(e,this),this._draw(),Pt(e)}}_draw(){const{options:e,columnSizes:t,lineWidths:i,ctx:s}=this,{align:n,labels:r}=e,a=rt.color,l=Si(e.rtl,this.left,this.width),c=bi(r.font),{color:h,padding:u}=r,d=c.size,p=d/2;let f;this.drawTitle(),s.textAlign=l.textAlign("left"),s.textBaseline="middle",s.lineWidth=.5,s.font=c.string;const{boxWidth:m,boxHeight:g,itemHeight:v}=Nr(r,d),y=this.isHorizontal(),b=this._computeTitleHeight();f=y?{x:de(n,this.left+u,this.right-i[0]),y:this.top+u+b,line:0}:{x:this.left+u,y:de(n,this.top+b+u,this.bottom-t[0].height),line:0},Ci(this.ctx,e.textDirection);const w=v+u;this.legendItems.forEach((x,_)=>{s.strokeStyle=x.fontColor||h,s.fillStyle=x.fontColor||h;const k=s.measureText(x.text).width,E=l.textAlign(x.textAlign||(x.textAlign=r.textAlign)),S=m+p+k;let C=f.x,T=f.y;l.setWidth(this.width),y?_>0&&C+S+u>this.right&&(T=f.y+=w,f.line++,C=f.x=de(n,this.left+u,this.right-i[f.line])):_>0&&T+w>this.bottom&&(C=f.x=C+t[f.line].width+u,f.line++,T=f.y=de(n,this.top+b+u,this.bottom-t[f.line].height)),function(e,t,i){if(isNaN(m)||m<=0||isNaN(g)||g<0)return;s.save();const n=o(i.lineWidth,1);if(s.fillStyle=o(i.fillStyle,a),s.lineCap=o(i.lineCap,"butt"),s.lineDashOffset=o(i.lineDashOffset,0),s.lineJoin=o(i.lineJoin,"miter"),s.lineWidth=n,s.strokeStyle=o(i.strokeStyle,a),s.setLineDash(o(i.lineDash,[])),r.usePointStyle){const a={radius:g*Math.SQRT2/2,pointStyle:i.pointStyle,rotation:i.rotation,borderWidth:n},o=l.xPlus(e,m/2);Ct(s,a,o,t+p,r.pointStyleWidth&&m)}else{const r=t+Math.max((d-g)/2,0),a=l.leftForLtr(e,m),o=vi(i.borderRadius);s.beginPath(),Object.values(o).some(e=>0!==e)?It(s,{x:a,y:r,w:m,h:g,radius:o}):s.rect(a,r,m,g),s.fill(),0!==n&&s.stroke()}s.restore()}(l.x(C),T,x),C=pe(E,C+m+p,y?C+S:this.right,e.rtl),function(e,t,i){Dt(s,i.text,e,t+v/2,c,{strikethrough:i.hidden,textAlign:l.textAlign(i.textAlign)})}(l.x(C),T,x),y?f.x+=S+u:f.y+=w}),Ti(this.ctx,e.textDirection)}drawTitle(){const e=this.options,t=e.title,i=bi(t.font),s=yi(t.padding);if(!t.display)return;const n=Si(e.rtl,this.left,this.width),r=this.ctx,a=t.position,o=i.size/2,l=s.top+o;let c,h=this.left,u=this.width;if(this.isHorizontal())u=Math.max(...this.lineWidths),c=this.top+l,h=de(e.align,h,this.right-u);else{const t=this.columnSizes.reduce((e,t)=>Math.max(e,t.height),0);c=l+de(e.align,this.top,this.bottom-t-e.labels.padding-this._computeTitleHeight())}const d=de(a,h,h+u);r.textAlign=n.textAlign(ue(a)),r.textBaseline="middle",r.strokeStyle=t.color,r.fillStyle=t.color,r.font=i.string,Dt(r,t.text,d,c,i)}_computeTitleHeight(){const e=this.options.title,t=bi(e.font),i=yi(e.padding);return e.display?t.lineHeight+i.height:0}_getLegendItemAt(e,t){let i,s,n;if(Q(e,this.left,this.right)&&Q(t,this.top,this.bottom))for(n=this.legendHitBoxes,i=0;i<n.length;++i)if(Q(e,(s=n[i]).left,s.left+s.width)&&Q(t,s.top,s.top+s.height))return this.legendItems[i];return null}handleEvent(e){const t=this.options;if(!function(e,t){if(("mousemove"===e||"mouseout"===e)&&(t.onHover||t.onLeave))return!0;if(t.onClick&&("click"===e||"mouseup"===e))return!0;return!1}(e.type,t))return;const i=this._getLegendItemAt(e.x,e.y);if("mousemove"===e.type||"mouseout"===e.type){const s=this._hoveredItem,n=Rr(s,i);s&&!n&&h(t.onLeave,[e,s,this],this),this._hoveredItem=i,i&&!n&&h(t.onHover,[e,i,this],this)}else i&&h(t.onClick,[e,i,this],this)}}var zr={id:"legend",_element:jr,start(e,t,i){const s=e.legend=new jr({ctx:e.ctx,options:i,chart:e});is.configure(e,s,i),is.addBox(e,s)},stop(e){is.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,i){const s=e.legend;is.configure(e,s,i),s.options=i},afterUpdate(e){const t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,i){const s=t.datasetIndex,n=i.chart;n.isDatasetVisible(s)?(n.hide(s),t.hidden=!0):(n.show(s),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const t=e.data.datasets,{labels:{usePointStyle:i,pointStyle:s,textAlign:n,color:r}}=e.legend.options;return e._getSortedDatasetMetas().map(e=>{const a=e.controller.getStyle(i?0:void 0),o=yi(a.borderWidth);return{text:t[e.index].label,fillStyle:a.backgroundColor,fontColor:r,hidden:!e.visible,lineCap:a.borderCapStyle,lineDash:a.borderDash,lineDashOffset:a.borderDashOffset,lineJoin:a.borderJoinStyle,lineWidth:(o.width+o.height)/4,strokeStyle:a.borderColor,pointStyle:s||a.pointStyle,rotation:a.rotation,textAlign:n||a.textAlign,borderRadius:0,datasetIndex:e.index}},this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};class Br extends js{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t){const i=this.options;if(this.left=0,this.top=0,!i.display)return void(this.width=this.height=this.right=this.bottom=0);this.width=this.right=e,this.height=this.bottom=t;const n=s(i.text)?i.text.length:1;this._padding=yi(i.padding);const r=n*bi(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=r:this.width=r}isHorizontal(){const e=this.options.position;return"top"===e||"bottom"===e}_drawArgs(e){const{top:t,left:i,bottom:s,right:n,options:r}=this,a=r.align;let o,l,c,h=0;return this.isHorizontal()?(l=de(a,i,n),c=t+e,o=n-i):("left"===r.position?(l=i+e,c=de(a,s,t),h=-.5*T):(l=n-e,c=de(a,t,s),h=.5*T),o=s-t),{titleX:l,titleY:c,maxWidth:o,rotation:h}}draw(){const e=this.ctx,t=this.options;if(!t.display)return;const i=bi(t.font),s=i.lineHeight/2+this._padding.top,{titleX:n,titleY:r,maxWidth:a,rotation:o}=this._drawArgs(s);Dt(e,t.text,0,0,i,{color:t.color,maxWidth:a,rotation:o,textAlign:ue(t.align),textBaseline:"middle",translation:[n,r]})}}var Vr={id:"title",_element:Br,start(e,t,i){!function(e,t){const i=new Br({ctx:e.ctx,options:t,chart:e});is.configure(e,i,t),is.addBox(e,i),e.titleBlock=i}(e,i)},stop(e){const t=e.titleBlock;is.removeBox(e,t),delete e.titleBlock},beforeUpdate(e,t,i){const s=e.titleBlock;is.configure(e,s,i),s.options=i},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Hr=new WeakMap;var Wr={id:"subtitle",start(e,t,i){const s=new Br({ctx:e.ctx,options:i,chart:e});is.configure(e,s,i),is.addBox(e,s),Hr.set(e,s)},stop(e){is.removeBox(e,Hr.get(e)),Hr.delete(e)},beforeUpdate(e,t,i){const s=Hr.get(e);is.configure(e,s,i),s.options=i},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Yr={average(e){if(!e.length)return!1;let t,i,s=0,n=0,r=0;for(t=0,i=e.length;t<i;++t){const i=e[t].element;if(i&&i.hasValue()){const e=i.tooltipPosition();s+=e.x,n+=e.y,++r}}return{x:s/r,y:n/r}},nearest(e,t){if(!e.length)return!1;let i,s,n,r=t.x,a=t.y,o=Number.POSITIVE_INFINITY;for(i=0,s=e.length;i<s;++i){const s=e[i].element;if(s&&s.hasValue()){const e=U(t,s.getCenterPoint());e<o&&(o=e,n=s)}}if(n){const e=n.tooltipPosition();r=e.x,a=e.y}return{x:r,y:a}}};function qr(e,t){return t&&(s(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function Ur(e){return("string"==typeof e||e instanceof String)&&e.indexOf("\n")>-1?e.split("\n"):e}function Gr(e,t){const{element:i,datasetIndex:s,index:n}=t,r=e.getDatasetMeta(s).controller,{label:a,value:o}=r.getLabelAndValue(n);return{chart:e,label:a,parsed:r.getParsed(n),raw:e.data.datasets[s].data[n],formattedValue:o,dataset:r.getDataset(),dataIndex:n,datasetIndex:s,element:i}}function Xr(e,t){const i=e.chart.ctx,{body:s,footer:n,title:r}=e,{boxWidth:a,boxHeight:o}=t,l=bi(t.bodyFont),c=bi(t.titleFont),h=bi(t.footerFont),d=r.length,p=n.length,f=s.length,m=yi(t.padding);let g=m.height,v=0,y=s.reduce((e,t)=>e+t.before.length+t.lines.length+t.after.length,0);if(y+=e.beforeBody.length+e.afterBody.length,d&&(g+=d*c.lineHeight+(d-1)*t.titleSpacing+t.titleMarginBottom),y){g+=f*(t.displayColors?Math.max(o,l.lineHeight):l.lineHeight)+(y-f)*l.lineHeight+(y-1)*t.bodySpacing}p&&(g+=t.footerMarginTop+p*h.lineHeight+(p-1)*t.footerSpacing);let b=0;const w=function(e){v=Math.max(v,i.measureText(e).width+b)};return i.save(),i.font=c.string,u(e.title,w),i.font=l.string,u(e.beforeBody.concat(e.afterBody),w),b=t.displayColors?a+2+t.boxPadding:0,u(s,e=>{u(e.before,w),u(e.lines,w),u(e.after,w)}),b=0,i.font=h.string,u(e.footer,w),i.restore(),{width:v+=m.width,height:g}}function Kr(e,t,i,s){const{x:n,width:r}=i,{width:a,chartArea:{left:o,right:l}}=e;let c="center";return"center"===s?c=n<=(o+l)/2?"left":"right":n<=r/2?c="left":n>=a-r/2&&(c="right"),function(e,t,i,s){const{x:n,width:r}=s,a=i.caretSize+i.caretPadding;return"left"===e&&n+r+a>t.width||"right"===e&&n-r-a<0||void 0}(c,e,t,i)&&(c="center"),c}function Zr(e,t,i){const s=i.yAlign||t.yAlign||function(e,t){const{y:i,height:s}=t;return i<s/2?"top":i>e.height-s/2?"bottom":"center"}(e,i);return{xAlign:i.xAlign||t.xAlign||Kr(e,t,i,s),yAlign:s}}function Jr(e,t,i,s){const{caretSize:n,caretPadding:r,cornerRadius:a}=e,{xAlign:o,yAlign:l}=i,c=n+r,{topLeft:h,topRight:u,bottomLeft:d,bottomRight:p}=vi(a);let f=function(e,t){let{x:i,width:s}=e;return"right"===t?i-=s:"center"===t&&(i-=s/2),i}(t,o);const m=function(e,t,i){let{y:s,height:n}=e;return"top"===t?s+=i:s-="bottom"===t?n+i:n/2,s}(t,l,c);return"center"===l?"left"===o?f+=c:"right"===o&&(f-=c):"left"===o?f-=Math.max(h,d)+n:"right"===o&&(f+=Math.max(u,p)+n),{x:Z(f,0,s.width-t.width),y:Z(m,0,s.height-t.height)}}function Qr(e,t,i){const s=yi(i.padding);return"center"===t?e.x+e.width/2:"right"===t?e.x+e.width-s.right:e.x+s.left}function ea(e){return qr([],Ur(e))}function ta(e,t){const i=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return i?e.override(i):e}class ia extends js{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart||e._chart,this._chart=this.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const t=this.chart,i=this.options.setContext(this.getContext()),s=i.enabled&&t.options.animation&&i.animations,n=new Ss(this.chart,s);return s._cacheable&&(this._cachedAnimations=Object.freeze(n)),n}getContext(){return this.$context||(this.$context=(e=this.chart.getContext(),t=this,i=this._tooltipItems,_i(e,{tooltip:t,tooltipItems:i,type:"tooltip"})));var e,t,i}getTitle(e,t){const{callbacks:i}=t,s=i.beforeTitle.apply(this,[e]),n=i.title.apply(this,[e]),r=i.afterTitle.apply(this,[e]);let a=[];return a=qr(a,Ur(s)),a=qr(a,Ur(n)),a=qr(a,Ur(r))}getBeforeBody(e,t){return ea(t.callbacks.beforeBody.apply(this,[e]))}getBody(e,t){const{callbacks:i}=t,s=[];return u(e,e=>{const t={before:[],lines:[],after:[]},n=ta(i,e);qr(t.before,Ur(n.beforeLabel.call(this,e))),qr(t.lines,n.label.call(this,e)),qr(t.after,Ur(n.afterLabel.call(this,e))),s.push(t)}),s}getAfterBody(e,t){return ea(t.callbacks.afterBody.apply(this,[e]))}getFooter(e,t){const{callbacks:i}=t,s=i.beforeFooter.apply(this,[e]),n=i.footer.apply(this,[e]),r=i.afterFooter.apply(this,[e]);let a=[];return a=qr(a,Ur(s)),a=qr(a,Ur(n)),a=qr(a,Ur(r))}_createItems(e){const t=this._active,i=this.chart.data,s=[],n=[],r=[];let a,o,l=[];for(a=0,o=t.length;a<o;++a)l.push(Gr(this.chart,t[a]));return e.filter&&(l=l.filter((t,s,n)=>e.filter(t,s,n,i))),e.itemSort&&(l=l.sort((t,s)=>e.itemSort(t,s,i))),u(l,t=>{const i=ta(e.callbacks,t);s.push(i.labelColor.call(this,t)),n.push(i.labelPointStyle.call(this,t)),r.push(i.labelTextColor.call(this,t))}),this.labelColors=s,this.labelPointStyles=n,this.labelTextColors=r,this.dataPoints=l,l}update(e,t){const i=this.options.setContext(this.getContext()),s=this._active;let n,r=[];if(s.length){const e=Yr[i.position].call(this,s,this._eventPosition);r=this._createItems(i),this.title=this.getTitle(r,i),this.beforeBody=this.getBeforeBody(r,i),this.body=this.getBody(r,i),this.afterBody=this.getAfterBody(r,i),this.footer=this.getFooter(r,i);const t=this._size=Xr(this,i),a=Object.assign({},e,t),o=Zr(this.chart,i,a),l=Jr(i,a,o,this.chart);this.xAlign=o.xAlign,this.yAlign=o.yAlign,n={opacity:1,x:l.x,y:l.y,width:t.width,height:t.height,caretX:e.x,caretY:e.y}}else 0!==this.opacity&&(n={opacity:0});this._tooltipItems=r,this.$context=void 0,n&&this._resolveAnimations().update(this,n),e&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:t})}drawCaret(e,t,i,s){const n=this.getCaretPosition(e,i,s);t.lineTo(n.x1,n.y1),t.lineTo(n.x2,n.y2),t.lineTo(n.x3,n.y3)}getCaretPosition(e,t,i){const{xAlign:s,yAlign:n}=this,{caretSize:r,cornerRadius:a}=i,{topLeft:o,topRight:l,bottomLeft:c,bottomRight:h}=vi(a),{x:u,y:d}=e,{width:p,height:f}=t;let m,g,v,y,b,w;return"center"===n?(b=d+f/2,"left"===s?(g=(m=u)-r,y=b+r,w=b-r):(g=(m=u+p)+r,y=b-r,w=b+r),v=m):(g="left"===s?u+Math.max(o,c)+r:"right"===s?u+p-Math.max(l,h)-r:this.caretX,"top"===n?(b=(y=d)-r,m=g-r,v=g+r):(b=(y=d+f)+r,m=g+r,v=g-r),w=y),{x1:m,x2:g,x3:v,y1:y,y2:b,y3:w}}drawTitle(e,t,i){const s=this.title,n=s.length;let r,a,o;if(n){const l=Si(i.rtl,this.x,this.width);for(e.x=Qr(this,i.titleAlign,i),t.textAlign=l.textAlign(i.titleAlign),t.textBaseline="middle",r=bi(i.titleFont),a=i.titleSpacing,t.fillStyle=i.titleColor,t.font=r.string,o=0;o<n;++o)t.fillText(s[o],l.x(e.x),e.y+r.lineHeight/2),e.y+=r.lineHeight+a,o+1===n&&(e.y+=i.titleMarginBottom-a)}}_drawColorBox(e,t,i,s,r){const a=this.labelColors[i],o=this.labelPointStyles[i],{boxHeight:l,boxWidth:c,boxPadding:h}=r,u=bi(r.bodyFont),d=Qr(this,"left",r),p=s.x(d),f=l<u.lineHeight?(u.lineHeight-l)/2:0,m=t.y+f;if(r.usePointStyle){const t={radius:Math.min(c,l)/2,pointStyle:o.pointStyle,rotation:o.rotation,borderWidth:1},i=s.leftForLtr(p,c)+c/2,n=m+l/2;e.strokeStyle=r.multiKeyBackground,e.fillStyle=r.multiKeyBackground,St(e,t,i,n),e.strokeStyle=a.borderColor,e.fillStyle=a.backgroundColor,St(e,t,i,n)}else{e.lineWidth=n(a.borderWidth)?Math.max(...Object.values(a.borderWidth)):a.borderWidth||1,e.strokeStyle=a.borderColor,e.setLineDash(a.borderDash||[]),e.lineDashOffset=a.borderDashOffset||0;const t=s.leftForLtr(p,c-h),i=s.leftForLtr(s.xPlus(p,1),c-h-2),o=vi(a.borderRadius);Object.values(o).some(e=>0!==e)?(e.beginPath(),e.fillStyle=r.multiKeyBackground,It(e,{x:t,y:m,w:c,h:l,radius:o}),e.fill(),e.stroke(),e.fillStyle=a.backgroundColor,e.beginPath(),It(e,{x:i,y:m+1,w:c-2,h:l-2,radius:o}),e.fill()):(e.fillStyle=r.multiKeyBackground,e.fillRect(t,m,c,l),e.strokeRect(t,m,c,l),e.fillStyle=a.backgroundColor,e.fillRect(i,m+1,c-2,l-2))}e.fillStyle=this.labelTextColors[i]}drawBody(e,t,i){const{body:s}=this,{bodySpacing:n,bodyAlign:r,displayColors:a,boxHeight:o,boxWidth:l,boxPadding:c}=i,h=bi(i.bodyFont);let d=h.lineHeight,p=0;const f=Si(i.rtl,this.x,this.width),m=function(i){t.fillText(i,f.x(e.x+p),e.y+d/2),e.y+=d+n},g=f.textAlign(r);let v,y,b,w,x,_,k;for(t.textAlign=r,t.textBaseline="middle",t.font=h.string,e.x=Qr(this,g,i),t.fillStyle=i.bodyColor,u(this.beforeBody,m),p=a&&"right"!==g?"center"===r?l/2+c:l+2+c:0,w=0,_=s.length;w<_;++w){for(v=s[w],y=this.labelTextColors[w],t.fillStyle=y,u(v.before,m),b=v.lines,a&&b.length&&(this._drawColorBox(t,e,w,f,i),d=Math.max(h.lineHeight,o)),x=0,k=b.length;x<k;++x)m(b[x]),d=h.lineHeight;u(v.after,m)}p=0,d=h.lineHeight,u(this.afterBody,m),e.y-=n}drawFooter(e,t,i){const s=this.footer,n=s.length;let r,a;if(n){const o=Si(i.rtl,this.x,this.width);for(e.x=Qr(this,i.footerAlign,i),e.y+=i.footerMarginTop,t.textAlign=o.textAlign(i.footerAlign),t.textBaseline="middle",r=bi(i.footerFont),t.fillStyle=i.footerColor,t.font=r.string,a=0;a<n;++a)t.fillText(s[a],o.x(e.x),e.y+r.lineHeight/2),e.y+=r.lineHeight+i.footerSpacing}}drawBackground(e,t,i,s){const{xAlign:n,yAlign:r}=this,{x:a,y:o}=e,{width:l,height:c}=i,{topLeft:h,topRight:u,bottomLeft:d,bottomRight:p}=vi(s.cornerRadius);t.fillStyle=s.backgroundColor,t.strokeStyle=s.borderColor,t.lineWidth=s.borderWidth,t.beginPath(),t.moveTo(a+h,o),"top"===r&&this.drawCaret(e,t,i,s),t.lineTo(a+l-u,o),t.quadraticCurveTo(a+l,o,a+l,o+u),"center"===r&&"right"===n&&this.drawCaret(e,t,i,s),t.lineTo(a+l,o+c-p),t.quadraticCurveTo(a+l,o+c,a+l-p,o+c),"bottom"===r&&this.drawCaret(e,t,i,s),t.lineTo(a+d,o+c),t.quadraticCurveTo(a,o+c,a,o+c-d),"center"===r&&"left"===n&&this.drawCaret(e,t,i,s),t.lineTo(a,o+h),t.quadraticCurveTo(a,o,a+h,o),t.closePath(),t.fill(),s.borderWidth>0&&t.stroke()}_updateAnimationTarget(e){const t=this.chart,i=this.$animations,s=i&&i.x,n=i&&i.y;if(s||n){const i=Yr[e.position].call(this,this._active,this._eventPosition);if(!i)return;const r=this._size=Xr(this,e),a=Object.assign({},i,this._size),o=Zr(t,e,a),l=Jr(e,a,o,t);s._to===l.x&&n._to===l.y||(this.xAlign=o.xAlign,this.yAlign=o.yAlign,this.width=r.width,this.height=r.height,this.caretX=i.x,this.caretY=i.y,this._resolveAnimations().update(this,l))}}_willRender(){return!!this.opacity}draw(e){const t=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(t);const s={width:this.width,height:this.height},n={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const r=yi(t.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;t.enabled&&a&&(e.save(),e.globalAlpha=i,this.drawBackground(n,e,s,t),Ci(e,t.textDirection),n.y+=r.top,this.drawTitle(n,e,t),this.drawBody(n,e,t),this.drawFooter(n,e,t),Ti(e,t.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,t){const i=this._active,s=e.map(({datasetIndex:e,index:t})=>{const i=this.chart.getDatasetMeta(e);if(!i)throw new Error("Cannot find a dataset at index "+e);return{datasetIndex:e,element:i.data[t],index:t}}),n=!d(i,s),r=this._positionChanged(s,t);(n||r)&&(this._active=s,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,t,i=!0){if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const s=this.options,n=this._active||[],r=this._getActiveElements(e,n,t,i),a=this._positionChanged(r,e),o=t||!d(r,n)||a;return o&&(this._active=r,(s.enabled||s.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,t))),o}_getActiveElements(e,t,i,s){const n=this.options;if("mouseout"===e.type)return[];if(!s)return t;const r=this.chart.getElementsAtEventForMode(e,n.mode,n,i);return n.reverse&&r.reverse(),r}_positionChanged(e,t){const{caretX:i,caretY:s,options:n}=this,r=Yr[n.position].call(this,e,t);return!1!==r&&(i!==r.x||s!==r.y)}}ia.positioners=Yr;var sa={id:"tooltip",_element:ia,positioners:Yr,afterInit(e,t,i){i&&(e.tooltip=new ia({chart:e,options:i}))},beforeUpdate(e,t,i){e.tooltip&&e.tooltip.initialize(i)},reset(e,t,i){e.tooltip&&e.tooltip.initialize(i)},afterDraw(e){const t=e.tooltip;if(t&&t._willRender()){const i={tooltip:t};if(!1===e.notifyPlugins("beforeTooltipDraw",i))return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",i)}},afterEvent(e,t){if(e.tooltip){const i=t.replay;e.tooltip.handleEvent(t.event,i,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:{beforeTitle:e,title(e){if(e.length>0){const t=e[0],i=t.chart.data.labels,s=i?i.length:0;if(this&&this.options&&"dataset"===this.options.mode)return t.dataset.label||"";if(t.label)return t.label;if(s>0&&t.dataIndex<s)return i[t.dataIndex]}return""},afterTitle:e,beforeBody:e,beforeLabel:e,label(e){if(this&&this.options&&"dataset"===this.options.mode)return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");const s=e.formattedValue;return i(s)||(t+=s),t},labelColor(e){const t=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const t=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:e,afterBody:e,beforeFooter:e,footer:e,afterFooter:e}},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>"filter"!==e&&"itemSort"!==e&&"external"!==e,_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},na=Object.freeze({__proto__:null,Decimation:br,Filler:Fr,Legend:zr,SubTitle:Wr,Title:Vr,Tooltip:sa});const ra=(e,t,i,s)=>("string"==typeof t?(i=e.push(t)-1,s.unshift({index:i,label:t})):isNaN(t)&&(i=null),i);const aa=(e,t)=>null===e?null:Z(Math.round(e),0,t);class oa extends Zs{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const t=this._addedLabels;if(t.length){const e=this.getLabels();for(const{index:i,label:s}of t)e[i]===s&&e.splice(i,1);this._addedLabels=[]}super.init(e)}parse(e,t){if(i(e))return null;const s=this.getLabels();return t=isFinite(t)&&s[t]===e?t:function(e,t,i,s){const n=e.indexOf(t);return-1===n?ra(e,t,i,s):n!==e.lastIndexOf(t)?i:n}(s,e,o(t,e),this._addedLabels),aa(t,s.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let{min:i,max:s}=this.getMinMax(!0);"ticks"===this.options.bounds&&(e||(i=0),t||(s=this.getLabels().length-1)),this.min=i,this.max=s}buildTicks(){const e=this.min,t=this.max,i=this.options.offset,s=[];let n=this.getLabels();n=0===e&&t===n.length-1?n:n.slice(e,t+1),this._valueRange=Math.max(n.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let i=e;i<=t;i++)s.push({value:i});return s}getLabelForValue(e){const t=this.getLabels();return e>=0&&e<t.length?t[e]:e}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return"number"!=typeof e&&(e=this.parse(e)),null===e?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}function la(e,t,{horizontal:i,minRotation:s}){const n=H(s),r=(i?Math.sin(n):Math.cos(n))||.001,a=.75*t*(""+e).length;return Math.min(t/r,a)}oa.id="category",oa.defaults={ticks:{callback:oa.prototype.getLabelForValue}};class ca extends Zs{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return i(e)?null:("number"==typeof e||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:t,maxDefined:i}=this.getUserBounds();let{min:s,max:n}=this;const r=e=>s=t?s:e,a=e=>n=i?n:e;if(e){const e=F(s),t=F(n);e<0&&t<0?a(0):e>0&&t>0&&r(0)}if(s===n){let t=1;(n>=Number.MAX_SAFE_INTEGER||s<=Number.MIN_SAFE_INTEGER)&&(t=Math.abs(.05*n)),a(n+t),e||r(s-t)}this.min=s,this.max=n}getTickLimit(){const e=this.options.ticks;let t,{maxTicksLimit:i,stepSize:s}=e;return s?(t=Math.ceil(this.max/s)-Math.floor(this.min/s)+1)>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${s} would result generating up to ${t} ticks. Limiting to 1000.`),t=1e3):(t=this.computeTickLimit(),i=i||11),i&&(t=Math.min(i,t)),t}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,t=e.ticks;let s=this.getTickLimit();const n=function(e,t){const s=[],{bounds:n,step:r,min:a,max:o,precision:l,count:c,maxTicks:h,maxDigits:u,includeBounds:d}=e,p=r||1,f=h-1,{min:m,max:g}=t,v=!i(a),y=!i(o),b=!i(c),w=(g-m)/(u+1);let x,_,k,E,S=N((g-m)/f/p)*p;if(S<1e-14&&!v&&!y)return[{value:m},{value:g}];(E=Math.ceil(g/S)-Math.floor(m/S))>f&&(S=N(E*S/f/p)*p),i(l)||(x=Math.pow(10,l),S=Math.ceil(S*x)/x),"ticks"===n?(_=Math.floor(m/S)*S,k=Math.ceil(g/S)*S):(_=m,k=g),v&&y&&r&&B((o-a)/r,S/1e3)?(S=(o-a)/(E=Math.round(Math.min((o-a)/S,h))),_=a,k=o):b?S=((k=y?o:k)-(_=v?a:_))/(E=c-1):E=z(E=(k-_)/S,Math.round(E),S/1e3)?Math.round(E):Math.ceil(E);const C=Math.max(Y(S),Y(_));x=Math.pow(10,i(l)?C:l),_=Math.round(_*x)/x,k=Math.round(k*x)/x;let T=0;for(v&&(d&&_!==a?(s.push({value:a}),_<a&&T++,z(Math.round((_+T*S)*x)/x,a,la(a,w,e))&&T++):_<a&&T++);T<E;++T)s.push({value:Math.round((_+T*S)*x)/x});return y&&d&&k!==o?s.length&&z(s[s.length-1].value,o,la(o,w,e))?s[s.length-1].value=o:s.push({value:o}):y&&k!==o||s.push({value:k}),s}({maxTicks:s=Math.max(2,s),bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:!1!==t.includeBounds},this._range||this);return"ticks"===e.bounds&&V(n,this,"value"),e.reverse?(n.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),n}configure(){const e=this.ticks;let t=this.min,i=this.max;if(super.configure(),this.options.offset&&e.length){const s=(i-t)/Math.max(e.length-1,1)/2;t-=s,i+=s}this._startValue=t,this._endValue=i,this._valueRange=i-t}getLabelForValue(e){return hi(e,this.chart.options.locale,this.options.ticks.format)}}class ha extends ca{determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=r(e)?e:0,this.max=r(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),t=e?this.width:this.height,i=H(this.options.ticks.minRotation),s=(e?Math.sin(i):Math.cos(i))||.001,n=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,n.lineHeight/s))}getPixelForValue(e){return null===e?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}function ua(e){return 1===e/Math.pow(10,Math.floor($(e)))}ha.id="linear",ha.defaults={ticks:{callback:Bs.formatters.numeric}};class da extends Zs{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,t){const i=ca.prototype.parse.apply(this,[e,t]);if(0!==i)return r(i)&&i>0?i:null;this._zero=!0}determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=r(e)?Math.max(0,e):null,this.max=r(t)?Math.max(0,t):null,this.options.beginAtZero&&(this._zero=!0),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let i=this.min,s=this.max;const n=t=>i=e?i:t,r=e=>s=t?s:e,a=(e,t)=>Math.pow(10,Math.floor($(e))+t);i===s&&(i<=0?(n(1),r(10)):(n(a(i,-1)),r(a(s,1)))),i<=0&&n(a(s,-1)),s<=0&&r(a(i,1)),this._zero&&this.min!==this._suggestedMin&&i===a(this.min,0)&&n(a(i,-1)),this.min=i,this.max=s}buildTicks(){const e=this.options,t=function(e,t){const i=Math.floor($(t.max)),s=Math.ceil(t.max/Math.pow(10,i)),n=[];let r=a(e.min,Math.pow(10,Math.floor($(t.min)))),o=Math.floor($(r)),l=Math.floor(r/Math.pow(10,o)),c=o<0?Math.pow(10,Math.abs(o)):1;do{n.push({value:r,major:ua(r)}),10==++l&&(l=1,c=++o>=0?1:c),r=Math.round(l*Math.pow(10,o)*c)/c}while(o<i||o===i&&l<s);const h=a(e.max,r);return n.push({value:h,major:ua(r)}),n}({min:this._userMin,max:this._userMax},this);return"ticks"===e.bounds&&V(t,this,"value"),e.reverse?(t.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),t}getLabelForValue(e){return void 0===e?"0":hi(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=$(e),this._valueRange=$(this.max)-$(e)}getPixelForValue(e){return void 0!==e&&0!==e||(e=this.min),null===e||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:($(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const t=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+t*this._valueRange)}}function pa(e){const t=e.ticks;if(t.display&&e.display){const e=yi(t.backdropPadding);return o(t.font&&t.font.size,rt.font.size)+e.height}return 0}function fa(e,t,i,s,n){return e===s||e===n?{start:t-i/2,end:t+i/2}:e<s||e>n?{start:t-i,end:t}:{start:t,end:t+i}}function ma(e){const t={l:e.left+e._padding.left,r:e.right-e._padding.right,t:e.top+e._padding.top,b:e.bottom-e._padding.bottom},i=Object.assign({},t),n=[],r=[],a=e._pointLabels.length,o=e.options.pointLabels,l=o.centerPointLabels?T/a:0;for(let d=0;d<a;d++){const a=o.setContext(e.getPointLabelContext(d));r[d]=a.padding;const p=e.getPointPosition(d,e.drawingArea+r[d],l),f=bi(a.font),m=(c=e.ctx,h=f,u=s(u=e._pointLabels[d])?u:[u],{w:_t(c,h.string,u),h:u.length*h.lineHeight});n[d]=m;const g=X(e.getIndexAngle(d)+l),v=Math.round(W(g));ga(i,t,g,fa(v,p.x,m.w,0,180),fa(v,p.y,m.h,90,270))}var c,h,u;e.setCenterPoint(t.l-i.l,i.r-t.r,t.t-i.t,i.b-t.b),e._pointLabelItems=function(e,t,i){const s=[],n=e._pointLabels.length,r=e.options,a=pa(r)/2,o=e.drawingArea,l=r.pointLabels.centerPointLabels?T/n:0;for(let r=0;r<n;r++){const n=e.getPointPosition(r,o+a+i[r],l),c=Math.round(W(X(n.angle+D))),h=t[r],u=ba(n.y,h.h,c),d=va(c),p=ya(n.x,h.w,d);s.push({x:n.x,y:u,textAlign:d,left:p,top:u,right:p+h.w,bottom:u+h.h})}return s}(e,n,r)}function ga(e,t,i,s,n){const r=Math.abs(Math.sin(i)),a=Math.abs(Math.cos(i));let o=0,l=0;s.start<t.l?(o=(t.l-s.start)/r,e.l=Math.min(e.l,t.l-o)):s.end>t.r&&(o=(s.end-t.r)/r,e.r=Math.max(e.r,t.r+o)),n.start<t.t?(l=(t.t-n.start)/a,e.t=Math.min(e.t,t.t-l)):n.end>t.b&&(l=(n.end-t.b)/a,e.b=Math.max(e.b,t.b+l))}function va(e){return 0===e||180===e?"center":e<180?"left":"right"}function ya(e,t,i){return"right"===i?e-=t:"center"===i&&(e-=t/2),e}function ba(e,t,i){return 90===i||270===i?e-=t/2:(i>270||i<90)&&(e-=t),e}function wa(e,t,i,s){const{ctx:n}=e;if(i)n.arc(e.xCenter,e.yCenter,t,0,M);else{let i=e.getPointPosition(0,t);n.moveTo(i.x,i.y);for(let r=1;r<s;r++)i=e.getPointPosition(r,t),n.lineTo(i.x,i.y)}}da.id="logarithmic",da.defaults={ticks:{callback:Bs.formatters.logarithmic,major:{enabled:!0}}};class xa extends ca{constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=yi(pa(this.options)/2),t=this.width=this.maxWidth-e.width,i=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+t/2+e.left),this.yCenter=Math.floor(this.top+i/2+e.top),this.drawingArea=Math.floor(Math.min(t,i)/2)}determineDataLimits(){const{min:e,max:t}=this.getMinMax(!1);this.min=r(e)&&!isNaN(e)?e:0,this.max=r(t)&&!isNaN(t)?t:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/pa(this.options))}generateTickLabels(e){ca.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((e,t)=>{const i=h(this.options.pointLabels.callback,[e,t],this);return i||0===i?i:""}).filter((e,t)=>this.chart.getDataVisibility(t))}fit(){const e=this.options;e.display&&e.pointLabels.display?ma(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,t,i,s){this.xCenter+=Math.floor((e-t)/2),this.yCenter+=Math.floor((i-s)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,t,i,s))}getIndexAngle(e){return X(e*(M/(this._pointLabels.length||1))+H(this.options.startAngle||0))}getDistanceFromCenterForValue(e){if(i(e))return NaN;const t=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*t:(e-this.min)*t}getValueForDistanceFromCenter(e){if(i(e))return NaN;const t=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-t:this.min+t}getPointLabelContext(e){const t=this._pointLabels||[];if(e>=0&&e<t.length){const i=t[e];return function(e,t,i){return _i(e,{label:i,index:t,type:"pointLabel"})}(this.getContext(),e,i)}}getPointPosition(e,t,i=0){const s=this.getIndexAngle(e)-D+i;return{x:Math.cos(s)*t+this.xCenter,y:Math.sin(s)*t+this.yCenter,angle:s}}getPointPositionForValue(e,t){return this.getPointPosition(e,this.getDistanceFromCenterForValue(t))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:t,top:i,right:s,bottom:n}=this._pointLabelItems[e];return{left:t,top:i,right:s,bottom:n}}drawBackground(){const{backgroundColor:e,grid:{circular:t}}=this.options;if(e){const i=this.ctx;i.save(),i.beginPath(),wa(this,this.getDistanceFromCenterForValue(this._endValue),t,this._pointLabels.length),i.closePath(),i.fillStyle=e,i.fill(),i.restore()}}drawGrid(){const e=this.ctx,t=this.options,{angleLines:s,grid:n}=t,r=this._pointLabels.length;let a,o,l;if(t.pointLabels.display&&function(e,t){const{ctx:s,options:{pointLabels:n}}=e;for(let r=t-1;r>=0;r--){const t=n.setContext(e.getPointLabelContext(r)),a=bi(t.font),{x:o,y:l,textAlign:c,left:h,top:u,right:d,bottom:p}=e._pointLabelItems[r],{backdropColor:f}=t;if(!i(f)){const e=vi(t.borderRadius),i=yi(t.backdropPadding);s.fillStyle=f;const n=h-i.left,r=u-i.top,a=d-h+i.width,o=p-u+i.height;Object.values(e).some(e=>0!==e)?(s.beginPath(),It(s,{x:n,y:r,w:a,h:o,radius:e}),s.fill()):s.fillRect(n,r,a,o)}Dt(s,e._pointLabels[r],o,l+a.lineHeight/2,a,{color:t.color,textAlign:c,textBaseline:"middle"})}}(this,r),n.display&&this.ticks.forEach((e,t)=>{if(0!==t){o=this.getDistanceFromCenterForValue(e.value),function(e,t,i,s){const n=e.ctx,r=t.circular,{color:a,lineWidth:o}=t;!r&&!s||!a||!o||i<0||(n.save(),n.strokeStyle=a,n.lineWidth=o,n.setLineDash(t.borderDash),n.lineDashOffset=t.borderDashOffset,n.beginPath(),wa(e,i,r,s),n.closePath(),n.stroke(),n.restore())}(this,n.setContext(this.getContext(t-1)),o,r)}}),s.display){for(e.save(),a=r-1;a>=0;a--){const i=s.setContext(this.getPointLabelContext(a)),{color:n,lineWidth:r}=i;r&&n&&(e.lineWidth=r,e.strokeStyle=n,e.setLineDash(i.borderDash),e.lineDashOffset=i.borderDashOffset,o=this.getDistanceFromCenterForValue(t.ticks.reverse?this.min:this.max),l=this.getPointPosition(a,o),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(l.x,l.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,t=this.options,i=t.ticks;if(!i.display)return;const s=this.getIndexAngle(0);let n,r;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(s),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((s,a)=>{if(0===a&&!t.reverse)return;const o=i.setContext(this.getContext(a)),l=bi(o.font);if(n=this.getDistanceFromCenterForValue(this.ticks[a].value),o.showLabelBackdrop){e.font=l.string,r=e.measureText(s.label).width,e.fillStyle=o.backdropColor;const t=yi(o.backdropPadding);e.fillRect(-r/2-t.left,-n-l.size/2-t.top,r+t.width,l.size+t.height)}Dt(e,s.label,0,-n,l,{color:o.color})}),e.restore()}drawTitle(){}}xa.id="radialLinear",xa.defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Bs.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback:e=>e,padding:5,centerPointLabels:!1}},xa.defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"},xa.descriptors={angleLines:{_fallback:"grid"}};const _a={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},ka=Object.keys(_a);function Ea(e,t){return e-t}function Sa(e,t){if(i(t))return null;const s=e._adapter,{parser:n,round:a,isoWeekday:o}=e._parseOpts;let l=t;return"function"==typeof n&&(l=n(l)),r(l)||(l="string"==typeof n?s.parse(l,n):s.parse(l)),null===l?null:(a&&(l="week"!==a||!j(o)&&!0!==o?s.startOf(l,a):s.startOf(l,"isoWeek",o)),+l)}function Ca(e,t,i,s){const n=ka.length;for(let r=ka.indexOf(e);r<n-1;++r){const e=_a[ka[r]],n=e.steps?e.steps:Number.MAX_SAFE_INTEGER;if(e.common&&Math.ceil((i-t)/(n*e.size))<=s)return ka[r]}return ka[n-1]}function Ta(e,t,i){if(i){if(i.length){const{lo:s,hi:n}=ee(i,t);e[i[s]>=t?i[s]:i[n]]=!0}}else e[t]=!0}function Ma(e,t,i){const s=[],n={},r=t.length;let a,o;for(a=0;a<r;++a)n[o=t[a]]=a,s.push({value:o,major:!1});return 0!==r&&i?function(e,t,i,s){const n=e._adapter,r=+n.startOf(t[0].value,s),a=t[t.length-1].value;let o,l;for(o=r;o<=a;o=+n.add(o,1,s))(l=i[o])>=0&&(t[l].major=!0);return t}(e,s,n,i):s}class Pa extends Zs{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,t){const i=e.time||(e.time={}),s=this._adapter=new Mn._date(e.adapters.date);s.init(t),v(i.displayFormats,s.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(e),this._normalized=t.normalized}parse(e,t){return void 0===e?null:Sa(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,t=this._adapter,i=e.time.unit||"day";let{min:s,max:n,minDefined:a,maxDefined:o}=this.getUserBounds();function l(e){a||isNaN(e.min)||(s=Math.min(s,e.min)),o||isNaN(e.max)||(n=Math.max(n,e.max))}a&&o||(l(this._getLabelBounds()),"ticks"===e.bounds&&"labels"===e.ticks.source||l(this.getMinMax(!1))),s=r(s)&&!isNaN(s)?s:+t.startOf(Date.now(),i),n=r(n)&&!isNaN(n)?n:+t.endOf(Date.now(),i)+1,this.min=Math.min(s,n-1),this.max=Math.max(s+1,n)}_getLabelBounds(){const e=this.getLabelTimestamps();let t=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return e.length&&(t=e[0],i=e[e.length-1]),{min:t,max:i}}buildTicks(){const e=this.options,t=e.time,i=e.ticks,s="labels"===i.source?this.getLabelTimestamps():this._generate();"ticks"===e.bounds&&s.length&&(this.min=this._userMin||s[0],this.max=this._userMax||s[s.length-1]);const n=this.min,r=se(s,n,this.max);return this._unit=t.unit||(i.autoSkip?Ca(t.minUnit,this.min,this.max,this._getLabelCapacity(n)):function(e,t,i,s,n){for(let r=ka.length-1;r>=ka.indexOf(i);r--){const i=ka[r];if(_a[i].common&&e._adapter.diff(n,s,i)>=t-1)return i}return ka[i?ka.indexOf(i):0]}(this,r.length,t.minUnit,this.min,this.max)),this._majorUnit=i.major.enabled&&"year"!==this._unit?function(e){for(let t=ka.indexOf(e)+1,i=ka.length;t<i;++t)if(_a[ka[t]].common)return ka[t]}(this._unit):void 0,this.initOffsets(s),e.reverse&&r.reverse(),Ma(this,r,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e){let t,i,s=0,n=0;this.options.offset&&e.length&&(t=this.getDecimalForValue(e[0]),s=1===e.length?1-t:(this.getDecimalForValue(e[1])-t)/2,i=this.getDecimalForValue(e[e.length-1]),n=1===e.length?i:(i-this.getDecimalForValue(e[e.length-2]))/2);const r=e.length<3?.5:.25;s=Z(s,0,r),n=Z(n,0,r),this._offsets={start:s,end:n,factor:1/(s+1+n)}}_generate(){const e=this._adapter,t=this.min,i=this.max,s=this.options,n=s.time,r=n.unit||Ca(n.minUnit,t,i,this._getLabelCapacity(t)),a=o(n.stepSize,1),l="week"===r&&n.isoWeekday,c=j(l)||!0===l,h={};let u,d,p=t;if(c&&(p=+e.startOf(p,"isoWeek",l)),p=+e.startOf(p,c?"day":r),e.diff(i,t,r)>1e5*a)throw new Error(t+" and "+i+" are too far apart with stepSize of "+a+" "+r);const f="data"===s.ticks.source&&this.getDataTimestamps();for(u=p,d=0;u<i;u=+e.add(u,a,r),d++)Ta(h,u,f);return u!==i&&"ticks"!==s.bounds&&1!==d||Ta(h,u,f),Object.keys(h).sort((e,t)=>e-t).map(e=>+e)}getLabelForValue(e){const t=this._adapter,i=this.options.time;return i.tooltipFormat?t.format(e,i.tooltipFormat):t.format(e,i.displayFormats.datetime)}_tickFormatFunction(e,t,i,s){const n=this.options,r=n.time.displayFormats,a=this._unit,o=this._majorUnit,l=a&&r[a],c=o&&r[o],u=i[t],d=o&&c&&u&&u.major,p=this._adapter.format(e,s||(d?c:l)),f=n.ticks.callback;return f?h(f,[p,t,i],this):p}generateTickLabels(e){let t,i,s;for(t=0,i=e.length;t<i;++t)(s=e[t]).label=this._tickFormatFunction(s.value,t,e)}getDecimalForValue(e){return null===e?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const t=this._offsets,i=this.getDecimalForValue(e);return this.getPixelForDecimal((t.start+i)*t.factor)}getValueForPixel(e){const t=this._offsets,i=this.getDecimalForPixel(e)/t.factor-t.end;return this.min+i*(this.max-this.min)}_getLabelSize(e){const t=this.options.ticks,i=this.ctx.measureText(e).width,s=H(this.isHorizontal()?t.maxRotation:t.minRotation),n=Math.cos(s),r=Math.sin(s),a=this._resolveTickFontOptions(0).size;return{w:i*n+a*r,h:i*r+a*n}}_getLabelCapacity(e){const t=this.options.time,i=t.displayFormats,s=i[t.unit]||i.millisecond,n=this._tickFormatFunction(e,0,Ma(this,[e],this._majorUnit),s),r=this._getLabelSize(n),a=Math.floor(this.isHorizontal()?this.width/r.w:this.height/r.h)-1;return a>0?a:1}getDataTimestamps(){let e,t,i=this._cache.data||[];if(i.length)return i;const s=this.getMatchingVisibleMetas();if(this._normalized&&s.length)return this._cache.data=s[0].controller.getAllParsedValues(this);for(e=0,t=s.length;e<t;++e)i=i.concat(s[e].controller.getAllParsedValues(this));return this._cache.data=this.normalize(i)}getLabelTimestamps(){const e=this._cache.labels||[];let t,i;if(e.length)return e;const s=this.getLabels();for(t=0,i=s.length;t<i;++t)e.push(Sa(this,s[t]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return oe(e.sort(Ea))}}function Aa(e,t,i){let s,n,r,a,o=0,l=e.length-1;i?(t>=e[o].pos&&t<=e[l].pos&&({lo:o,hi:l}=te(e,"pos",t)),({pos:s,time:r}=e[o]),({pos:n,time:a}=e[l])):(t>=e[o].time&&t<=e[l].time&&({lo:o,hi:l}=te(e,"time",t)),({time:s,pos:r}=e[o]),({time:n,pos:a}=e[l]));const c=n-s;return c?r+(a-r)*(t-s)/c:r}Pa.id="time",Pa.defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",major:{enabled:!1}}};class Oa extends Pa{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(e);this._minPos=Aa(t,this.min),this._tableRange=Aa(t,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:t,max:i}=this,s=[],n=[];let r,a,o,l,c;for(r=0,a=e.length;r<a;++r)(l=e[r])>=t&&l<=i&&s.push(l);if(s.length<2)return[{time:t,pos:0},{time:i,pos:1}];for(r=0,a=s.length;r<a;++r)c=s[r+1],o=s[r-1],l=s[r],Math.round((c+o)/2)!==l&&n.push({time:l,pos:r/(a-1)});return n}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const t=this.getDataTimestamps(),i=this.getLabelTimestamps();return e=t.length&&i.length?this.normalize(t.concat(i)):t.length?t:i,e=this._cache.all=e}getDecimalForValue(e){return(Aa(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const t=this._offsets,i=this.getDecimalForPixel(e)/t.factor-t.end;return Aa(this._table,i*this._tableRange+this._minPos,!0)}}Oa.id="timeseries",Oa.defaults=Pa.defaults;var Da=Object.freeze({__proto__:null,CategoryScale:oa,LinearScale:ha,LogarithmicScale:da,RadialLinearScale:xa,TimeScale:Pa,TimeSeriesScale:Oa});return En.register(Yn,Da,gr,na),En.helpers={...Fi},En._adapters=Mn,En.Animation=ks,En.Animations=Ss,En.animator=ge,En.controllers=Qs.controllers.items,En.DatasetController=Rs,En.Element=js,En.elements=gr,En.Interaction=Hi,En.layouts=is,En.platforms=xs,En.Scale=Zs,En.Ticks=Bs,Object.assign(En,Yn,Da,gr,na,xs),En.Chart=En,"undefined"!=typeof window&&(window.Chart=En),En}),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).window=e.window||{})}(this,function(e){"use strict";function t(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),i.push.apply(i,s)}return i}function i(e){for(var i=1;i<arguments.length;i++){var s=null!=arguments[i]?arguments[i]:{};i%2?t(Object(s),!0).forEach(function(t){o(e,t,s[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):t(Object(s)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))})}return e}function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){for(var i=0;i<t.length;i++){var s=t[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}function a(e,t,i){return t&&r(e.prototype,t),i&&r(e,i),Object.defineProperty(e,"prototype",{writable:!1}),e}function o(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&h(e,t)}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var i,s=c(e);if(t){var n=c(this).constructor;i=Reflect.construct(s,arguments,n)}else i=s.apply(this,arguments);return function(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return u(e)}(this,i)}}function p(){return(p="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,i){var s=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=c(e)););return e}(e,t);if(s){var n=Object.getOwnPropertyDescriptor(s,t);return n.get?n.get.call(arguments.length<3?e:i):n.value}}).apply(this,arguments)}function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var i=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=i){var s,n,r=[],a=!0,o=!1;try{for(i=i.call(e);!(a=(s=i.next()).done)&&(r.push(s.value),!t||r.length!==t);a=!0);}catch(e){o=!0,n=e}finally{try{a||null==i.return||i.return()}finally{if(o)throw n}}return r}}(e,t)||g(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e){return function(e){if(Array.isArray(e))return v(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||g(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){if(e){if("string"==typeof e)return v(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?v(e,t):void 0}}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,s=new Array(t);i<t;i++)s[i]=e[i];return s}function y(e,t){var i="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!i){if(Array.isArray(e)||(i=g(e))||t&&e&&"number"==typeof e.length){i&&(e=i);var s=0,n=function(){};return{s:n,n:function(){return s>=e.length?{done:!0}:{done:!1,value:e[s++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,a=!0,o=!1;return{s:function(){i=i.call(e)},n:function(){var e=i.next();return a=e.done,e},e:function(e){o=!0,r=e},f:function(){try{a||null==i.return||i.return()}finally{if(o)throw r}}}}var b=function(e){return"object"===s(e)&&null!==e&&e.constructor===Object&&"[object Object]"===Object.prototype.toString.call(e)},w=function e(){for(var t=!1,i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];"boolean"==typeof n[0]&&(t=n.shift());var a=n[0];if(!a||"object"!==s(a))throw new Error("extendee must be an object");for(var o=n.slice(1),l=o.length,c=0;c<l;c++){var h=o[c];for(var u in h)if(h.hasOwnProperty(u)){var d=h[u];if(t&&(Array.isArray(d)||b(d))){var p=Array.isArray(d)?[]:{};a[u]=e(!0,a.hasOwnProperty(u)?a[u]:p,d)}else a[u]=d}}return a},x=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e4;return e=parseFloat(e)||0,Math.round((e+Number.EPSILON)*t)/t},_=function e(t){return!!(t&&"object"===s(t)&&t instanceof Element&&t!==document.body)&&!t.__Panzoom&&(function(e){var t=getComputedStyle(e)["overflow-y"],i=getComputedStyle(e)["overflow-x"],s=("scroll"===t||"auto"===t)&&Math.abs(e.scrollHeight-e.clientHeight)>1,n=("scroll"===i||"auto"===i)&&Math.abs(e.scrollWidth-e.clientWidth)>1;return s||n}(t)?t:e(t.parentNode))},k="undefined"!=typeof window&&window.ResizeObserver||function(){function e(t){n(this,e),this.observables=[],this.boundCheck=this.check.bind(this),this.boundCheck(),this.callback=t}return a(e,[{key:"observe",value:function(e){if(!this.observables.some(function(t){return t.el===e})){var t={el:e,size:{height:e.clientHeight,width:e.clientWidth}};this.observables.push(t)}}},{key:"unobserve",value:function(e){this.observables=this.observables.filter(function(t){return t.el!==e})}},{key:"disconnect",value:function(){this.observables=[]}},{key:"check",value:function(){var e=this.observables.filter(function(e){var t=e.el.clientHeight,i=e.el.clientWidth;if(e.size.height!==t||e.size.width!==i)return e.size.height=t,e.size.width=i,!0}).map(function(e){return e.el});e.length>0&&this.callback(e),window.requestAnimationFrame(this.boundCheck)}}]),e}(),E=a(function e(t){n(this,e),this.id=self.Touch&&t instanceof Touch?t.identifier:-1,this.pageX=t.pageX,this.pageY=t.pageY,this.clientX=t.clientX,this.clientY=t.clientY}),S=function(e,t){return t?Math.sqrt(Math.pow(t.clientX-e.clientX,2)+Math.pow(t.clientY-e.clientY,2)):0},C=function(e,t){return t?{clientX:(e.clientX+t.clientX)/2,clientY:(e.clientY+t.clientY)/2}:e},T=function(e){return"changedTouches"in e},M=function(){function e(t){var i=this,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=s.start,a=void 0===r?function(){return!0}:r,o=s.move,l=void 0===o?function(){}:o,c=s.end,h=void 0===c?function(){}:c;n(this,e),this._element=t,this.startPointers=[],this.currentPointers=[],this._pointerStart=function(e){if(!(e.buttons>0&&0!==e.button)){var t=new E(e);i.currentPointers.some(function(e){return e.id===t.id})||i._triggerPointerStart(t,e)&&(window.addEventListener("mousemove",i._move),window.addEventListener("mouseup",i._pointerEnd))}},this._touchStart=function(e){for(var t=0,s=Array.from(e.changedTouches||[]);t<s.length;t++){var n=s[t];i._triggerPointerStart(new E(n),e)}},this._move=function(e){var t,s=i.currentPointers.slice(),n=T(e)?Array.from(e.changedTouches).map(function(e){return new E(e)}):[new E(e)],r=[],a=y(n);try{var o=function(){var e=t.value,s=i.currentPointers.findIndex(function(t){return t.id===e.id});if(s<0)return"continue";r.push(e),i.currentPointers[s]=e};for(a.s();!(t=a.n()).done;)o()}catch(e){a.e(e)}finally{a.f()}i._moveCallback(s,i.currentPointers.slice(),e)},this._triggerPointerEnd=function(e,t){var s=i.currentPointers.findIndex(function(t){return t.id===e.id});return!(s<0||(i.currentPointers.splice(s,1),i.startPointers.splice(s,1),i._endCallback(e,t),0))},this._pointerEnd=function(e){e.buttons>0&&0!==e.button||i._triggerPointerEnd(new E(e),e)&&(window.removeEventListener("mousemove",i._move,{passive:!1}),window.removeEventListener("mouseup",i._pointerEnd,{passive:!1}))},this._touchEnd=function(e){for(var t=0,s=Array.from(e.changedTouches||[]);t<s.length;t++){var n=s[t];i._triggerPointerEnd(new E(n),e)}},this._startCallback=a,this._moveCallback=l,this._endCallback=h,this._element.addEventListener("mousedown",this._pointerStart,{passive:!1}),this._element.addEventListener("touchstart",this._touchStart,{passive:!1}),this._element.addEventListener("touchmove",this._move,{passive:!1}),this._element.addEventListener("touchend",this._touchEnd),this._element.addEventListener("touchcancel",this._touchEnd)}return a(e,[{key:"stop",value:function(){this._element.removeEventListener("mousedown",this._pointerStart,{passive:!1}),this._element.removeEventListener("touchstart",this._touchStart,{passive:!1}),this._element.removeEventListener("touchmove",this._move,{passive:!1}),this._element.removeEventListener("touchend",this._touchEnd),this._element.removeEventListener("touchcancel",this._touchEnd),window.removeEventListener("mousemove",this._move),window.removeEventListener("mouseup",this._pointerEnd)}},{key:"_triggerPointerStart",value:function(e,t){return!!this._startCallback(e,t)&&(this.currentPointers.push(e),this.startPointers.push(e),!0)}}]),e}(),P=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n(this,e),this.options=w(!0,{},t),this.plugins=[],this.events={};for(var i=0,s=["on","once"];i<s.length;i++)for(var r=s[i],a=0,o=Object.entries(this.options[r]||{});a<o.length;a++){var l=o[a];this[r].apply(this,m(l))}}return a(e,[{key:"option",value:function(e,t){var i=function(e,t){return e.split(".").reduce(function(e,t){return e&&e[t]},t)}(e=String(e),this.options);if("function"==typeof i){for(var s,n=arguments.length,r=new Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];i=(s=i).call.apply(s,[this,this].concat(r))}return void 0===i?t:i}},{key:"localize",value:function(e){var t=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return(e=String(e).replace(/\{\{(\w+).?(\w+)?\}\}/g,function(e,s,n){var r="";n?r=t.option("".concat(s[0]+s.toLowerCase().substring(1),".l10n.").concat(n)):s&&(r=t.option("l10n.".concat(s))),r||(r=e);for(var a=0;a<i.length;a++)r=r.split(i[a][0]).join(i[a][1]);return r})).replace(/\{\{(.*)\}\}/,function(e,t){return t})}},{key:"on",value:function(e,t){var i=this;if(b(e)){for(var s=0,n=Object.entries(e);s<n.length;s++){var r=n[s];this.on.apply(this,m(r))}return this}return String(e).split(" ").forEach(function(e){var s=i.events[e]=i.events[e]||[];-1==s.indexOf(t)&&s.push(t)}),this}},{key:"once",value:function(e,t){var i=this;if(b(e)){for(var s=0,n=Object.entries(e);s<n.length;s++){var r=n[s];this.once.apply(this,m(r))}return this}return String(e).split(" ").forEach(function(e){var s=function s(){i.off(e,s);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];t.call.apply(t,[i,i].concat(r))};s._=t,i.on(e,s)}),this}},{key:"off",value:function(e,t){var i=this;if(!b(e))return e.split(" ").forEach(function(e){var s=i.events[e];if(!s||!s.length)return i;for(var n=-1,r=0,a=s.length;r<a;r++){var o=s[r];if(o&&(o===t||o._===t)){n=r;break}}-1!=n&&s.splice(n,1)}),this;for(var s=0,n=Object.entries(e);s<n.length;s++){var r=n[s];this.off.apply(this,m(r))}}},{key:"trigger",value:function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),s=1;s<t;s++)i[s-1]=arguments[s];var n,r=y(m(this.events[e]||[]).slice());try{for(r.s();!(n=r.n()).done;){var a=n.value;if(a&&!1===a.call.apply(a,[this,this].concat(i)))return!1}}catch(e){r.e(e)}finally{r.f()}var o,l=y(m(this.events["*"]||[]).slice());try{for(l.s();!(o=l.n()).done;){var c=o.value;if(c&&!1===c.call.apply(c,[this,e,this].concat(i)))return!1}}catch(e){l.e(e)}finally{l.f()}return!0}},{key:"attachPlugins",value:function(e){for(var t={},i=0,s=Object.entries(e||{});i<s.length;i++){var n=f(s[i],2),r=n[0],a=n[1];!1===this.options[r]||this.plugins[r]||(this.options[r]=w({},a.defaults||{},this.options[r]),t[r]=new a(this))}for(var o=0,l=Object.entries(t);o<l.length;o++){var c=f(l[o],2);c[0],c[1].attach(this)}return this.plugins=Object.assign({},this.plugins,t),this}},{key:"detachPlugins",value:function(){for(var e in this.plugins){var t=void 0;(t=this.plugins[e])&&"function"==typeof t.detach&&t.detach(this)}return this.plugins={},this}}]),e}(),A={touch:!0,zoom:!0,pinchToZoom:!0,panOnlyZoomed:!1,lockAxis:!1,friction:.64,decelFriction:.88,zoomFriction:.74,bounceForce:.2,baseScale:1,minScale:1,maxScale:2,step:.5,textSelection:!1,click:"toggleZoom",wheel:"zoom",wheelFactor:42,wheelLimit:5,draggableClass:"is-draggable",draggingClass:"is-dragging",ratio:1},O=function(e){l(s,P);var t=d(s);function s(e){var i,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};n(this,s),(i=t.call(this,w(!0,{},A,r))).state="init",i.$container=e;for(var a=0,o=["onLoad","onWheel","onClick"];a<o.length;a++){var l=o[a];i[l]=i[l].bind(u(i))}return i.initLayout(),i.resetValues(),i.attachPlugins(s.Plugins),i.trigger("init"),i.updateMetrics(),i.attachEvents(),i.trigger("ready"),!1===i.option("centerOnStart")?i.state="ready":i.panTo({friction:0}),e.__Panzoom=u(i),i}return a(s,[{key:"initLayout",value:function(){var e=this.$container;if(!(e instanceof HTMLElement))throw new Error("Panzoom: Container not found");var t=this.option("content")||e.querySelector(".panzoom__content");if(!t)throw new Error("Panzoom: Content not found");this.$content=t;var i,s=this.option("viewport")||e.querySelector(".panzoom__viewport");s||!1===this.option("wrapInner")||((s=document.createElement("div")).classList.add("panzoom__viewport"),(i=s).append.apply(i,m(e.childNodes)),e.appendChild(s)),this.$viewport=s||t.parentNode}},{key:"resetValues",value:function(){this.updateRate=this.option("updateRate",/iPhone|iPad|iPod|Android/i.test(navigator.userAgent)?250:24),this.container={width:0,height:0},this.viewport={width:0,height:0},this.content={origWidth:0,origHeight:0,width:0,height:0,x:this.option("x",0),y:this.option("y",0),scale:this.option("baseScale")},this.transform={x:0,y:0,scale:1},this.resetDragPosition()}},{key:"onLoad",value:function(e){this.updateMetrics(),this.panTo({scale:this.option("baseScale"),friction:0}),this.trigger("load",e)}},{key:"onClick",value:function(e){if(!(e.defaultPrevented||document.activeElement&&document.activeElement.closest("[contenteditable]")))if(!this.option("textSelection")||!window.getSelection().toString().length||e.target&&e.target.hasAttribute("data-fancybox-close")){var t=this.$content.getClientRects()[0];if("ready"!==this.state&&(this.dragPosition.midPoint||Math.abs(t.top-this.dragStart.rect.top)>1||Math.abs(t.left-this.dragStart.rect.left)>1))return e.preventDefault(),void e.stopPropagation();!1!==this.trigger("click",e)&&this.option("zoom")&&"toggleZoom"===this.option("click")&&(e.preventDefault(),e.stopPropagation(),this.zoomWithClick(e))}else e.stopPropagation()}},{key:"onWheel",value:function(e){!1!==this.trigger("wheel",e)&&this.option("zoom")&&this.option("wheel")&&this.zoomWithWheel(e)}},{key:"zoomWithWheel",value:function(e){void 0===this.changedDelta&&(this.changedDelta=0);var t=Math.max(-1,Math.min(1,-e.deltaY||-e.deltaX||e.wheelDelta||-e.detail)),i=this.content.scale,s=i*(100+t*this.option("wheelFactor"))/100;if(t<0&&Math.abs(i-this.option("minScale"))<.01||t>0&&Math.abs(i-this.option("maxScale"))<.01?(this.changedDelta+=Math.abs(t),s=i):(this.changedDelta=0,s=Math.max(Math.min(s,this.option("maxScale")),this.option("minScale"))),!(this.changedDelta>this.option("wheelLimit"))&&(e.preventDefault(),s!==i)){var n=this.$content.getBoundingClientRect(),r=e.clientX-n.left,a=e.clientY-n.top;this.zoomTo(s,{x:r,y:a})}}},{key:"zoomWithClick",value:function(e){var t=this.$content.getClientRects()[0],i=e.clientX-t.left,s=e.clientY-t.top;this.toggleZoom({x:i,y:s})}},{key:"attachEvents",value:function(){var e=this;this.$content.addEventListener("load",this.onLoad),this.$container.addEventListener("wheel",this.onWheel,{passive:!1}),this.$container.addEventListener("click",this.onClick,{passive:!1}),this.initObserver();var t=new M(this.$container,{start:function(i,s){if(!e.option("touch"))return!1;if(e.velocity.scale<0)return!1;var n=s.composedPath()[0];if(!t.currentPointers.length){if(-1!==["BUTTON","TEXTAREA","OPTION","INPUT","SELECT","VIDEO"].indexOf(n.nodeName))return!1;if(e.option("textSelection")&&function(e,t,i){for(var s=e.childNodes,n=document.createRange(),r=0;r<s.length;r++){var a=s[r];if(a.nodeType===Node.TEXT_NODE){n.selectNodeContents(a);var o=n.getBoundingClientRect();if(t>=o.left&&i>=o.top&&t<=o.right&&i<=o.bottom)return a}}return!1}(n,i.clientX,i.clientY))return!1}return!_(n)&&!1!==e.trigger("touchStart",s)&&("mousedown"===s.type&&s.preventDefault(),e.state="pointerdown",e.resetDragPosition(),e.dragPosition.midPoint=null,e.dragPosition.time=Date.now(),!0)},move:function(i,s,n){if("pointerdown"===e.state)if(!1!==e.trigger("touchMove",n)){if(!(s.length<2&&!0===e.option("panOnlyZoomed")&&e.content.width<=e.viewport.width&&e.content.height<=e.viewport.height&&e.transform.scale<=e.option("baseScale"))&&(!(s.length>1)||e.option("zoom")&&!1!==e.option("pinchToZoom"))){var r=C(i[0],i[1]),a=C(s[0],s[1]),o=a.clientX-r.clientX,l=a.clientY-r.clientY,c=S(i[0],i[1]),h=S(s[0],s[1]),u=c&&h?h/c:1;e.dragOffset.x+=o,e.dragOffset.y+=l,e.dragOffset.scale*=u,e.dragOffset.time=Date.now()-e.dragPosition.time;var d=1===e.dragStart.scale&&e.option("lockAxis");if(d&&!e.lockAxis){if(Math.abs(e.dragOffset.x)<6&&Math.abs(e.dragOffset.y)<6)return void n.preventDefault();var p=Math.abs(180*Math.atan2(e.dragOffset.y,e.dragOffset.x)/Math.PI);e.lockAxis=p>45&&p<135?"y":"x"}if("xy"===d||"y"!==e.lockAxis){if(n.preventDefault(),n.stopPropagation(),n.stopImmediatePropagation(),e.lockAxis&&(e.dragOffset["x"===e.lockAxis?"y":"x"]=0),e.$container.classList.add(e.option("draggingClass")),e.transform.scale===e.option("baseScale")&&"y"===e.lockAxis||(e.dragPosition.x=e.dragStart.x+e.dragOffset.x),e.transform.scale===e.option("baseScale")&&"x"===e.lockAxis||(e.dragPosition.y=e.dragStart.y+e.dragOffset.y),e.dragPosition.scale=e.dragStart.scale*e.dragOffset.scale,s.length>1){var f=C(t.startPointers[0],t.startPointers[1]),m=f.clientX-e.dragStart.rect.x,g=f.clientY-e.dragStart.rect.y,v=e.getZoomDelta(e.content.scale*e.dragOffset.scale,m,g),y=v.deltaX,b=v.deltaY;e.dragPosition.x-=y,e.dragPosition.y-=b,e.dragPosition.midPoint=a}else e.setDragResistance();e.transform={x:e.dragPosition.x,y:e.dragPosition.y,scale:e.dragPosition.scale},e.startAnimation()}}}else n.preventDefault()},end:function(s,n){if("pointerdown"===e.state)if(e._dragOffset=i({},e.dragOffset),t.currentPointers.length)e.resetDragPosition();else if(e.state="decel",e.friction=e.option("decelFriction"),e.recalculateTransform(),e.$container.classList.remove(e.option("draggingClass")),!1!==e.trigger("touchEnd",n)&&"decel"===e.state){var r=e.option("minScale");if(e.transform.scale<r)e.zoomTo(r,{friction:.64});else{var a=e.option("maxScale");if(e.transform.scale-a>.01){var o=e.dragPosition.midPoint||s,l=e.$content.getClientRects()[0];e.zoomTo(a,{friction:.64,x:o.clientX-l.left,y:o.clientY-l.top})}}}}});this.pointerTracker=t}},{key:"initObserver",value:function(){var e=this;this.resizeObserver||(this.resizeObserver=new k(function(){e.updateTimer||(e.updateTimer=setTimeout(function(){var t=e.$container.getBoundingClientRect();t.width&&t.height?((Math.abs(t.width-e.container.width)>1||Math.abs(t.height-e.container.height)>1)&&(e.isAnimating()&&e.endAnimation(!0),e.updateMetrics(),e.panTo({x:e.content.x,y:e.content.y,scale:e.option("baseScale"),friction:0})),e.updateTimer=null):e.updateTimer=null},e.updateRate))}),this.resizeObserver.observe(this.$container))}},{key:"resetDragPosition",value:function(){this.lockAxis=null,this.friction=this.option("friction"),this.velocity={x:0,y:0,scale:0};var e=this.content,t=e.x,s=e.y,n=e.scale;this.dragStart={rect:this.$content.getBoundingClientRect(),x:t,y:s,scale:n},this.dragPosition=i(i({},this.dragPosition),{},{x:t,y:s,scale:n}),this.dragOffset={x:0,y:0,scale:1,time:0}}},{key:"updateMetrics",value:function(e){!0!==e&&this.trigger("beforeUpdate");var t,s=this.$container,n=this.$content,r=this.$viewport,a=n instanceof HTMLImageElement,o=this.option("zoom"),l=this.option("resizeParent",o),c=this.option("width"),h=this.option("height"),u=c||(t=n,Math.max(parseFloat(t.naturalWidth||0),parseFloat(t.width&&t.width.baseVal&&t.width.baseVal.value||0),parseFloat(t.offsetWidth||0),parseFloat(t.scrollWidth||0))),d=h||function(e){return Math.max(parseFloat(e.naturalHeight||0),parseFloat(e.height&&e.height.baseVal&&e.height.baseVal.value||0),parseFloat(e.offsetHeight||0),parseFloat(e.scrollHeight||0))}(n);Object.assign(n.style,{width:c?"".concat(c,"px"):"",height:h?"".concat(h,"px"):"",maxWidth:"",maxHeight:""}),l&&Object.assign(r.style,{width:"",height:""});var p=this.option("ratio");c=u=x(u*p),h=d=x(d*p);var f=n.getBoundingClientRect(),m=r.getBoundingClientRect(),g=r==s?m:s.getBoundingClientRect(),v=Math.max(r.offsetWidth,x(m.width)),y=Math.max(r.offsetHeight,x(m.height)),b=window.getComputedStyle(r);if(v-=parseFloat(b.paddingLeft)+parseFloat(b.paddingRight),y-=parseFloat(b.paddingTop)+parseFloat(b.paddingBottom),this.viewport.width=v,this.viewport.height=y,o){if(Math.abs(u-f.width)>.1||Math.abs(d-f.height)>.1){var w=function(e,t,i,s){var n=Math.min(i/e||0,s/t);return{width:e*n||0,height:t*n||0}}(u,d,Math.min(u,f.width),Math.min(d,f.height));c=x(w.width),h=x(w.height)}Object.assign(n.style,{width:"".concat(c,"px"),height:"".concat(h,"px"),transform:""})}if(l&&(Object.assign(r.style,{width:"".concat(c,"px"),height:"".concat(h,"px")}),this.viewport=i(i({},this.viewport),{},{width:c,height:h})),a&&o&&"function"!=typeof this.options.maxScale){var _=this.option("maxScale");this.options.maxScale=function(){return this.content.origWidth>0&&this.content.fitWidth>0?this.content.origWidth/this.content.fitWidth:_}}this.content=i(i({},this.content),{},{origWidth:u,origHeight:d,fitWidth:c,fitHeight:h,width:c,height:h,scale:1,isZoomable:o}),this.container={width:g.width,height:g.height},!0!==e&&this.trigger("afterUpdate")}},{key:"zoomIn",value:function(e){this.zoomTo(this.content.scale+(e||this.option("step")))}},{key:"zoomOut",value:function(e){this.zoomTo(this.content.scale-(e||this.option("step")))}},{key:"toggleZoom",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.option("maxScale"),i=this.option("baseScale"),s=this.content.scale>i+.5*(t-i)?i:t;this.zoomTo(s,e)}},{key:"zoomTo",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.option("baseScale"),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=t.x,s=void 0===i?null:i,n=t.y,r=void 0===n?null:n;e=Math.max(Math.min(e,this.option("maxScale")),this.option("minScale"));var a=x(this.content.scale/(this.content.width/this.content.fitWidth),1e7);null===s&&(s=this.content.width*a*.5),null===r&&(r=this.content.height*a*.5);var o=this.getZoomDelta(e,s,r),l=o.deltaX,c=o.deltaY;s=this.content.x-l,r=this.content.y-c,this.panTo({x:s,y:r,scale:e,friction:this.option("zoomFriction")})}},{key:"getZoomDelta",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,s=this.content.fitWidth*this.content.scale,n=this.content.fitHeight*this.content.scale,r=t>0&&s?t/s:0,a=i>0&&n?i/n:0;return{deltaX:(this.content.fitWidth*e-s)*r,deltaY:(this.content.fitHeight*e-n)*a}}},{key:"panTo",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.x,s=void 0===t?this.content.x:t,n=e.y,r=void 0===n?this.content.y:n,a=e.scale,o=e.friction,l=void 0===o?this.option("friction"):o,c=e.ignoreBounds,h=void 0!==c&&c;if(a=a||this.content.scale||1,!h){var u=this.getBounds(a),d=u.boundX,p=u.boundY;d&&(s=Math.max(Math.min(s,d.to),d.from)),p&&(r=Math.max(Math.min(r,p.to),p.from))}this.friction=l,this.transform=i(i({},this.transform),{},{x:s,y:r,scale:a}),l?(this.state="panning",this.velocity={x:(1/this.friction-1)*(s-this.content.x),y:(1/this.friction-1)*(r-this.content.y),scale:(1/this.friction-1)*(a-this.content.scale)},this.startAnimation()):this.endAnimation()}},{key:"startAnimation",value:function(){var e=this;this.rAF?cancelAnimationFrame(this.rAF):this.trigger("startAnimation"),this.rAF=requestAnimationFrame(function(){return e.animate()})}},{key:"animate",value:function(){var e=this;if(this.setEdgeForce(),this.setDragForce(),this.velocity.x*=this.friction,this.velocity.y*=this.friction,this.velocity.scale*=this.friction,this.content.x+=this.velocity.x,this.content.y+=this.velocity.y,this.content.scale+=this.velocity.scale,this.isAnimating())this.setTransform();else if("pointerdown"!==this.state)return void this.endAnimation();this.rAF=requestAnimationFrame(function(){return e.animate()})}},{key:"getBounds",value:function(e){var t=this.boundX,i=this.boundY;if(void 0!==t&&void 0!==i)return{boundX:t,boundY:i};t={from:0,to:0},i={from:0,to:0},e=e||this.transform.scale;var s=this.content.fitWidth*e,n=this.content.fitHeight*e,r=this.viewport.width,a=this.viewport.height;if(s<r){var o=x(.5*(r-s));t.from=o,t.to=o}else t.from=x(r-s);if(n<a){var l=.5*(a-n);i.from=l,i.to=l}else i.from=x(a-n);return{boundX:t,boundY:i}}},{key:"setEdgeForce",value:function(){if("decel"===this.state){var e,t,i,s,n=this.option("bounceForce"),r=this.getBounds(Math.max(this.transform.scale,this.content.scale)),a=r.boundX,o=r.boundY;if(a&&(e=this.content.x<a.from,t=this.content.x>a.to),o&&(i=this.content.y<o.from,s=this.content.y>o.to),e||t){var l=((e?a.from:a.to)-this.content.x)*n,c=this.content.x+(this.velocity.x+l)/this.friction;c>=a.from&&c<=a.to&&(l+=this.velocity.x),this.velocity.x=l,this.recalculateTransform()}if(i||s){var h=((i?o.from:o.to)-this.content.y)*n,u=this.content.y+(h+this.velocity.y)/this.friction;u>=o.from&&u<=o.to&&(h+=this.velocity.y),this.velocity.y=h,this.recalculateTransform()}}}},{key:"setDragResistance",value:function(){if("pointerdown"===this.state){var e,t,i,s,n=this.getBounds(this.dragPosition.scale),r=n.boundX,a=n.boundY;if(r&&(e=this.dragPosition.x<r.from,t=this.dragPosition.x>r.to),a&&(i=this.dragPosition.y<a.from,s=this.dragPosition.y>a.to),(e||t)&&(!e||!t)){var o=e?r.from:r.to,l=o-this.dragPosition.x;this.dragPosition.x=o-.3*l}if((i||s)&&(!i||!s)){var c=i?a.from:a.to,h=c-this.dragPosition.y;this.dragPosition.y=c-.3*h}}}},{key:"setDragForce",value:function(){"pointerdown"===this.state&&(this.velocity.x=this.dragPosition.x-this.content.x,this.velocity.y=this.dragPosition.y-this.content.y,this.velocity.scale=this.dragPosition.scale-this.content.scale)}},{key:"recalculateTransform",value:function(){this.transform.x=this.content.x+this.velocity.x/(1/this.friction-1),this.transform.y=this.content.y+this.velocity.y/(1/this.friction-1),this.transform.scale=this.content.scale+this.velocity.scale/(1/this.friction-1)}},{key:"isAnimating",value:function(){return!(!this.friction||!(Math.abs(this.velocity.x)>.05||Math.abs(this.velocity.y)>.05||Math.abs(this.velocity.scale)>.05))}},{key:"setTransform",value:function(e){var t,s,n,r,a;e?(t=x(this.transform.x),s=x(this.transform.y),n=this.transform.scale,this.content=i(i({},this.content),{},{x:t,y:s,scale:n})):(t=x(this.content.x),s=x(this.content.y),n=this.content.scale/(this.content.width/this.content.fitWidth),this.content=i(i({},this.content),{},{x:t,y:s})),this.trigger("beforeTransform"),t=x(this.content.x),s=x(this.content.y),e&&this.option("zoom")?(r=x(this.content.fitWidth*n),a=x(this.content.fitHeight*n),this.content.width=r,this.content.height=a,this.transform=i(i({},this.transform),{},{width:r,height:a,scale:n}),Object.assign(this.$content.style,{width:"".concat(r,"px"),height:"".concat(a,"px"),maxWidth:"none",maxHeight:"none",transform:"translate3d(".concat(t,"px, ").concat(s,"px, 0) scale(1)")})):this.$content.style.transform="translate3d(".concat(t,"px, ").concat(s,"px, 0) scale(").concat(n,")"),this.trigger("afterTransform")}},{key:"endAnimation",value:function(e){cancelAnimationFrame(this.rAF),this.rAF=null,this.velocity={x:0,y:0,scale:0},this.setTransform(!0),this.state="ready",this.handleCursor(),!0!==e&&this.trigger("endAnimation")}},{key:"handleCursor",value:function(){var e=this.option("draggableClass");e&&this.option("touch")&&(1==this.option("panOnlyZoomed")&&this.content.width<=this.viewport.width&&this.content.height<=this.viewport.height&&this.transform.scale<=this.option("baseScale")?this.$container.classList.remove(e):this.$container.classList.add(e))}},{key:"detachEvents",value:function(){this.$content.removeEventListener("load",this.onLoad),this.$container.removeEventListener("wheel",this.onWheel,{passive:!1}),this.$container.removeEventListener("click",this.onClick,{passive:!1}),this.pointerTracker&&(this.pointerTracker.stop(),this.pointerTracker=null),this.resizeObserver&&(this.resizeObserver.disconnect(),this.resizeObserver=null)}},{key:"destroy",value:function(){"destroy"!==this.state&&(this.state="destroy",clearTimeout(this.updateTimer),this.updateTimer=null,cancelAnimationFrame(this.rAF),this.rAF=null,this.detachEvents(),this.detachPlugins(),this.resetDragPosition())}}]),s}();O.version="4.0.31",O.Plugins={};var D=function(e,t){var i=0;return function(){var s=(new Date).getTime();if(!(s-i<t))return i=s,e.apply(void 0,arguments)}},L=function(){function e(t){n(this,e),this.$container=null,this.$prev=null,this.$next=null,this.carousel=t,this.onRefresh=this.onRefresh.bind(this)}return a(e,[{key:"option",value:function(e){return this.carousel.option("Navigation.".concat(e))}},{key:"createButton",value:function(e){var t,i=this,s=document.createElement("button");s.setAttribute("title",this.carousel.localize("{{".concat(e.toUpperCase(),"}}")));var n=this.option("classNames.button")+" "+this.option("classNames.".concat(e));return(t=s.classList).add.apply(t,m(n.split(" "))),s.setAttribute("tabindex","0"),s.innerHTML=this.carousel.localize(this.option("".concat(e,"Tpl"))),s.addEventListener("click",function(t){t.preventDefault(),t.stopPropagation(),i.carousel["slide".concat("next"===e?"Next":"Prev")]()}),s}},{key:"build",value:function(){var e;this.$container||(this.$container=document.createElement("div"),(e=this.$container.classList).add.apply(e,m(this.option("classNames.main").split(" "))),this.carousel.$container.appendChild(this.$container)),this.$next||(this.$next=this.createButton("next"),this.$container.appendChild(this.$next)),this.$prev||(this.$prev=this.createButton("prev"),this.$container.appendChild(this.$prev))}},{key:"onRefresh",value:function(){var e=this.carousel.pages.length;e<=1||e>1&&this.carousel.elemDimWidth<this.carousel.wrapDimWidth&&!Number.isInteger(this.carousel.option("slidesPerPage"))?this.cleanup():(this.build(),this.$prev.removeAttribute("disabled"),this.$next.removeAttribute("disabled"),this.carousel.option("infiniteX",this.carousel.option("infinite"))||(this.carousel.page<=0&&this.$prev.setAttribute("disabled",""),this.carousel.page>=e-1&&this.$next.setAttribute("disabled","")))}},{key:"cleanup",value:function(){this.$prev&&this.$prev.remove(),this.$prev=null,this.$next&&this.$next.remove(),this.$next=null,this.$container&&this.$container.remove(),this.$container=null}},{key:"attach",value:function(){this.carousel.on("refresh change",this.onRefresh)}},{key:"detach",value:function(){this.carousel.off("refresh change",this.onRefresh),this.cleanup()}}]),e}();L.defaults={prevTpl:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" tabindex="-1"><path d="M15 3l-9 9 9 9"/></svg>',nextTpl:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" tabindex="-1"><path d="M9 3l9 9-9 9"/></svg>',classNames:{main:"carousel__nav",button:"carousel__button",next:"is-next",prev:"is-prev"}};var I=function(){function e(t){n(this,e),this.carousel=t,this.$list=null,this.events={change:this.onChange.bind(this),refresh:this.onRefresh.bind(this)}}return a(e,[{key:"buildList",value:function(){var e=this;if(!(this.carousel.pages.length<this.carousel.option("Dots.minSlideCount"))){var t=document.createElement("ol");return t.classList.add("carousel__dots"),t.addEventListener("click",function(t){if("page"in t.target.dataset){t.preventDefault(),t.stopPropagation();var i=parseInt(t.target.dataset.page,10),s=e.carousel;i!==s.page&&(s.pages.length<3&&s.option("infinite")?s[0==i?"slidePrev":"slideNext"]():s.slideTo(i))}}),this.$list=t,this.carousel.$container.appendChild(t),this.carousel.$container.classList.add("has-dots"),t}}},{key:"removeList",value:function(){this.$list&&(this.$list.parentNode.removeChild(this.$list),this.$list=null),this.carousel.$container.classList.remove("has-dots")}},{key:"rebuildDots",value:function(){var e=this,t=this.$list,i=!!t,s=this.carousel.pages.length;if(s<2)i&&this.removeList();else{i||(t=this.buildList());var n=this.$list.children.length;if(n>s)for(var r=s;r<n;r++)this.$list.removeChild(this.$list.lastChild);else{for(var a=function(t){var i=document.createElement("li");i.classList.add("carousel__dot"),i.dataset.page=t,i.setAttribute("role","button"),i.setAttribute("tabindex","0"),i.setAttribute("title",e.carousel.localize("{{GOTO}}",[["%d",t+1]])),i.addEventListener("keydown",function(e){var t,s=e.code;"Enter"===s||"NumpadEnter"===s?t=i:"ArrowRight"===s?t=i.nextSibling:"ArrowLeft"===s&&(t=i.previousSibling),t&&t.click()}),e.$list.appendChild(i)},o=n;o<s;o++)a(o);this.setActiveDot()}}}},{key:"setActiveDot",value:function(){if(this.$list){this.$list.childNodes.forEach(function(e){e.classList.remove("is-selected")});var e=this.$list.childNodes[this.carousel.page];e&&e.classList.add("is-selected")}}},{key:"onChange",value:function(){this.setActiveDot()}},{key:"onRefresh",value:function(){this.rebuildDots()}},{key:"attach",value:function(){this.carousel.on(this.events)}},{key:"detach",value:function(){this.removeList(),this.carousel.off(this.events),this.carousel=null}}]),e}(),$=function(){function e(t){n(this,e),this.carousel=t,this.selectedIndex=null,this.friction=0,this.onNavReady=this.onNavReady.bind(this),this.onNavClick=this.onNavClick.bind(this),this.onNavCreateSlide=this.onNavCreateSlide.bind(this),this.onTargetChange=this.onTargetChange.bind(this)}return a(e,[{key:"addAsTargetFor",value:function(e){this.target=this.carousel,this.nav=e,this.attachEvents()}},{key:"addAsNavFor",value:function(e){this.target=e,this.nav=this.carousel,this.attachEvents()}},{key:"attachEvents",value:function(){this.nav.options.initialSlide=this.target.options.initialPage,this.nav.on("ready",this.onNavReady),this.nav.on("createSlide",this.onNavCreateSlide),this.nav.on("Panzoom.click",this.onNavClick),this.target.on("change",this.onTargetChange),this.target.on("Panzoom.afterUpdate",this.onTargetChange)}},{key:"onNavReady",value:function(){this.onTargetChange(!0)}},{key:"onNavClick",value:function(e,t,i){var s=i.target.closest(".carousel__slide");if(s){i.stopPropagation();var n=parseInt(s.dataset.index,10),r=this.target.findPageForSlide(n);this.target.page!==r&&this.target.slideTo(r,{friction:this.friction}),this.markSelectedSlide(n)}}},{key:"onNavCreateSlide",value:function(e,t){t.index===this.selectedIndex&&this.markSelectedSlide(t.index)}},{key:"onTargetChange",value:function(){var e=this.target.pages[this.target.page].indexes[0],t=this.nav.findPageForSlide(e);this.nav.slideTo(t),this.markSelectedSlide(e)}},{key:"markSelectedSlide",value:function(e){this.selectedIndex=e,m(this.nav.slides).filter(function(e){return e.$el&&e.$el.classList.remove("is-nav-selected")});var t=this.nav.slides[e];t&&t.$el&&t.$el.classList.add("is-nav-selected")}},{key:"attach",value:function(e){var t=e.options.Sync;(t.target||t.nav)&&(t.target?this.addAsNavFor(t.target):t.nav&&this.addAsTargetFor(t.nav),this.friction=t.friction)}},{key:"detach",value:function(){this.nav&&(this.nav.off("ready",this.onNavReady),this.nav.off("Panzoom.click",this.onNavClick),this.nav.off("createSlide",this.onNavCreateSlide)),this.target&&(this.target.off("Panzoom.afterUpdate",this.onTargetChange),this.target.off("change",this.onTargetChange))}}]),e}();$.defaults={friction:.92};var F={Navigation:L,Dots:I,Sync:$},N={slides:[],preload:0,slidesPerPage:"auto",initialPage:null,initialSlide:null,friction:.92,center:!0,infinite:!0,fill:!0,dragFree:!1,prefix:"",classNames:{viewport:"carousel__viewport",track:"carousel__track",slide:"carousel__slide",slideSelected:"is-selected"},l10n:{NEXT:"Next slide",PREV:"Previous slide",GOTO:"Go to slide #%d"}},R=function(e){l(s,P);var t=d(s);function s(e){var i,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(n(this,s),r=w(!0,{},N,r),(i=t.call(this,r)).state="init",i.$container=e,!(i.$container instanceof HTMLElement))throw new Error("No root element provided");return i.slideNext=D(i.slideNext.bind(u(i)),250),i.slidePrev=D(i.slidePrev.bind(u(i)),250),i.init(),e.__Carousel=u(i),i}return a(s,[{key:"init",value:function(){this.pages=[],this.page=this.pageIndex=null,this.prevPage=this.prevPageIndex=null,this.attachPlugins(s.Plugins),this.trigger("init"),this.initLayout(),this.initSlides(),this.updateMetrics(),this.$track&&this.pages.length&&(this.$track.style.transform="translate3d(".concat(-1*this.pages[this.page].left,"px, 0px, 0) scale(1)")),this.manageSlideVisiblity(),this.initPanzoom(),this.state="ready",this.trigger("ready")}},{key:"initLayout",value:function(){var e,t,i,s,n=this.option("prefix"),r=this.option("classNames");this.$viewport=this.option("viewport")||this.$container.querySelector(".".concat(n).concat(r.viewport)),this.$viewport||(this.$viewport=document.createElement("div"),(e=this.$viewport.classList).add.apply(e,m((n+r.viewport).split(" "))),(t=this.$viewport).append.apply(t,m(this.$container.childNodes)),this.$container.appendChild(this.$viewport)),this.$track=this.option("track")||this.$container.querySelector(".".concat(n).concat(r.track)),this.$track||(this.$track=document.createElement("div"),(i=this.$track.classList).add.apply(i,m((n+r.track).split(" "))),(s=this.$track).append.apply(s,m(this.$viewport.childNodes)),this.$viewport.appendChild(this.$track))}},{key:"initSlides",value:function(){var e=this;this.slides=[],this.$viewport.querySelectorAll(".".concat(this.option("prefix")).concat(this.option("classNames.slide"))).forEach(function(t){var i={$el:t,isDom:!0};e.slides.push(i),e.trigger("createSlide",i,e.slides.length)}),Array.isArray(this.options.slides)&&(this.slides=w(!0,m(this.slides),this.options.slides))}},{key:"updateMetrics",value:function(){var e,t=this,s=0,n=[];this.slides.forEach(function(i,r){var a=i.$el,o=i.isDom||!e?t.getSlideMetrics(a):e;i.index=r,i.width=o,i.left=s,e=o,s+=o,n.push(r)});var r=Math.max(this.$track.offsetWidth,x(this.$track.getBoundingClientRect().width)),a=getComputedStyle(this.$track);r-=parseFloat(a.paddingLeft)+parseFloat(a.paddingRight),this.contentWidth=s,this.viewportWidth=r;var o=[],l=this.option("slidesPerPage");if(Number.isInteger(l)&&s>r)for(var c=0;c<this.slides.length;c+=l)o.push({indexes:n.slice(c,c+l),slides:this.slides.slice(c,c+l)});else for(var h=0,u=0,d=0;d<this.slides.length;d+=1){var p=this.slides[d];(!o.length||u+p.width>r)&&(o.push({indexes:[],slides:[]}),h=o.length-1,u=0),u+=p.width,o[h].indexes.push(d),o[h].slides.push(p)}var f=this.option("center"),g=this.option("fill");o.forEach(function(e,i){e.index=i,e.width=e.slides.reduce(function(e,t){return e+t.width},0),e.left=e.slides[0].left,f&&(e.left+=.5*(r-e.width)*-1),g&&!t.option("infiniteX",t.option("infinite"))&&s>r&&(e.left=Math.max(e.left,0),e.left=Math.min(e.left,s-r))});var v,y=[];o.forEach(function(e){var t=i({},e);v&&t.left===v.left?(v.width+=t.width,v.slides=[].concat(m(v.slides),m(t.slides)),v.indexes=[].concat(m(v.indexes),m(t.indexes))):(t.index=y.length,v=t,y.push(t))}),this.pages=y;var b=this.page;if(null===b){var w=this.option("initialSlide");b=null!==w?this.findPageForSlide(w):parseInt(this.option("initialPage",0),10)||0,y[b]||(b=y.length&&b>y.length?y[y.length-1].index:0),this.page=b,this.pageIndex=b}this.updatePanzoom(),this.trigger("refresh")}},{key:"getSlideMetrics",value:function(e){if(!e){var t,i,s=this.slides[0];(e=document.createElement("div")).dataset.isTestEl=1,e.style.visibility="hidden",(t=e.classList).add.apply(t,m((this.option("prefix")+this.option("classNames.slide")).split(" "))),s.customClass&&(i=e.classList).add.apply(i,m(s.customClass.split(" "))),this.$track.prepend(e)}var n=Math.max(e.offsetWidth,x(e.getBoundingClientRect().width)),r=e.currentStyle||window.getComputedStyle(e);return n=n+(parseFloat(r.marginLeft)||0)+(parseFloat(r.marginRight)||0),e.dataset.isTestEl&&e.remove(),n}},{key:"findPageForSlide",value:function(e){e=parseInt(e,10)||0;var t=this.pages.find(function(t){return t.indexes.indexOf(e)>-1});return t?t.index:null}},{key:"slideNext",value:function(){this.slideTo(this.pageIndex+1)}},{key:"slidePrev",value:function(){this.slideTo(this.pageIndex-1)}},{key:"slideTo",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=t.x,s=void 0===i?-1*this.setPage(e,!0):i,n=t.y,r=void 0===n?0:n,a=t.friction,o=void 0===a?this.option("friction"):a;this.Panzoom.content.x===s&&!this.Panzoom.velocity.x&&o||(this.Panzoom.panTo({x:s,y:r,friction:o,ignoreBounds:!0}),"ready"===this.state&&"ready"===this.Panzoom.state&&this.trigger("settle"))}},{key:"initPanzoom",value:function(){var e=this;this.Panzoom&&this.Panzoom.destroy();var t=w(!0,{},{content:this.$track,wrapInner:!1,resizeParent:!1,zoom:!1,click:!1,lockAxis:"x",x:this.pages.length?-1*this.pages[this.page].left:0,centerOnStart:!1,textSelection:function(){return e.option("textSelection",!1)},panOnlyZoomed:function(){return this.content.width<=this.viewport.width}},this.option("Panzoom"));this.Panzoom=new O(this.$container,t),this.Panzoom.on({"*":function(t){for(var i=arguments.length,s=new Array(i>1?i-1:0),n=1;n<i;n++)s[n-1]=arguments[n];return e.trigger.apply(e,["Panzoom.".concat(t)].concat(s))},afterUpdate:function(){e.updatePage()},beforeTransform:this.onBeforeTransform.bind(this),touchEnd:this.onTouchEnd.bind(this),endAnimation:function(){e.trigger("settle")}}),this.updateMetrics(),this.manageSlideVisiblity()}},{key:"updatePanzoom",value:function(){this.Panzoom&&(this.Panzoom.content=i(i({},this.Panzoom.content),{},{fitWidth:this.contentWidth,origWidth:this.contentWidth,width:this.contentWidth}),this.pages.length>1&&this.option("infiniteX",this.option("infinite"))?this.Panzoom.boundX=null:this.pages.length&&(this.Panzoom.boundX={from:-1*this.pages[this.pages.length-1].left,to:-1*this.pages[0].left}),this.option("infiniteY",this.option("infinite"))?this.Panzoom.boundY=null:this.Panzoom.boundY={from:0,to:0},this.Panzoom.handleCursor())}},{key:"manageSlideVisiblity",value:function(){var e=this,t=this.contentWidth,i=this.viewportWidth,s=this.Panzoom?-1*this.Panzoom.content.x:this.pages.length?this.pages[this.page].left:0,n=this.option("preload"),r=this.option("infiniteX",this.option("infinite")),a=parseFloat(getComputedStyle(this.$viewport,null).getPropertyValue("padding-left")),o=parseFloat(getComputedStyle(this.$viewport,null).getPropertyValue("padding-right"));this.slides.forEach(function(l){var c,h,u=0;c=s-a,h=s+i+o,c-=n*(i+a+o),h+=n*(i+a+o);var d=l.left+l.width>c&&l.left<h;c=s+t-a,h=s+t+i+o,c-=n*(i+a+o);var p=r&&l.left+l.width>c&&l.left<h;c=s-t-a,h=s-t+i+o,c-=n*(i+a+o);var f=r&&l.left+l.width>c&&l.left<h;p||d||f?(e.createSlideEl(l),d&&(u=0),p&&(u=-1),f&&(u=1),l.left+l.width>s&&l.left<=s+i+o&&(u=0)):e.removeSlideEl(l),l.hasDiff=u});var l=0,c=0;this.slides.forEach(function(e,i){var s=0;e.$el?(i!==l||e.hasDiff?s=c+e.hasDiff*t:c=0,e.$el.style.left=Math.abs(s)>.1?"".concat(c+e.hasDiff*t,"px"):"",l++):c+=e.width}),this.markSelectedSlides()}},{key:"createSlideEl",value:function(e){var t;if(e){if(!e.$el){var i,s=document.createElement("div");s.dataset.index=e.index,(t=s.classList).add.apply(t,m((this.option("prefix")+this.option("classNames.slide")).split(" "))),e.customClass&&(i=s.classList).add.apply(i,m(e.customClass.split(" "))),e.html&&(s.innerHTML=e.html);var n=[];this.slides.forEach(function(e,t){e.$el&&n.push(t)});var r=e.index,a=null;if(n.length){var o=n.reduce(function(e,t){return Math.abs(t-r)<Math.abs(e-r)?t:e});a=this.slides[o]}return this.$track.insertBefore(s,a&&a.$el?a.index<e.index?a.$el.nextSibling:a.$el:null),e.$el=s,this.trigger("createSlide",e,r),e}var l,c=e.$el.dataset.index;c&&parseInt(c,10)===e.index||(e.$el.dataset.index=e.index,e.$el.querySelectorAll("[data-lazy-srcset]").forEach(function(e){e.srcset=e.dataset.lazySrcset}),e.$el.querySelectorAll("[data-lazy-src]").forEach(function(e){var t=e.dataset.lazySrc;e instanceof HTMLImageElement?e.src=t:e.style.backgroundImage="url('".concat(t,"')")}),(l=e.$el.dataset.lazySrc)&&(e.$el.style.backgroundImage="url('".concat(l,"')")),e.state="ready")}}},{key:"removeSlideEl",value:function(e){e.$el&&!e.isDom&&(this.trigger("removeSlide",e),e.$el.remove(),e.$el=null)}},{key:"markSelectedSlides",value:function(){var e=this,t=this.option("classNames.slideSelected"),i="aria-hidden";this.slides.forEach(function(s,n){var r=s.$el;if(r){var a=e.pages[e.page];a&&a.indexes&&a.indexes.indexOf(n)>-1?(t&&!r.classList.contains(t)&&(r.classList.add(t),e.trigger("selectSlide",s)),r.removeAttribute(i)):(t&&r.classList.contains(t)&&(r.classList.remove(t),e.trigger("unselectSlide",s)),r.setAttribute(i,!0))}})}},{key:"updatePage",value:function(){this.updateMetrics(),this.slideTo(this.page,{friction:0})}},{key:"onBeforeTransform",value:function(){this.option("infiniteX",this.option("infinite"))&&this.manageInfiniteTrack(),this.manageSlideVisiblity()}},{key:"manageInfiniteTrack",value:function(){var e=this.contentWidth,t=this.viewportWidth;if(!(!this.option("infiniteX",this.option("infinite"))||this.pages.length<2||e<t)){var i=this.Panzoom,s=!1;return i.content.x<-1*(e-t)&&(i.content.x+=e,this.pageIndex=this.pageIndex-this.pages.length,s=!0),i.content.x>t&&(i.content.x-=e,this.pageIndex=this.pageIndex+this.pages.length,s=!0),s&&"pointerdown"===i.state&&i.resetDragPosition(),s}}},{key:"onTouchEnd",value:function(e,t){var i=this.option("dragFree");if(!i&&this.pages.length>1&&e.dragOffset.time<350&&Math.abs(e.dragOffset.y)<1&&Math.abs(e.dragOffset.x)>5)this[e.dragOffset.x<0?"slideNext":"slidePrev"]();else if(i){var s=f(this.getPageFromPosition(-1*e.transform.x),2)[1];this.setPage(s)}else this.slideToClosest()}},{key:"slideToClosest",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=f(this.getPageFromPosition(-1*this.Panzoom.content.x),2)[1];this.slideTo(t,e)}},{key:"getPageFromPosition",value:function(e){var t=this.pages.length;this.option("center")&&(e+=.5*this.viewportWidth);var i=Math.floor(e/this.contentWidth);e-=i*this.contentWidth;var s=this.slides.find(function(t){return t.left<=e&&t.left+t.width>e});if(s){var n=this.findPageForSlide(s.index);return[n,n+i*t]}return[0,0]}},{key:"setPage",value:function(e,t){var i=0,s=parseInt(e,10)||0,n=this.page,r=this.pageIndex,a=this.pages.length,o=this.contentWidth,l=this.viewportWidth;if(e=(s%a+a)%a,this.option("infiniteX",this.option("infinite"))&&o>l){var c=Math.floor(s/a)||0,h=o;if(i=this.pages[e].left+c*h,!0===t&&a>2){var u=-1*this.Panzoom.content.x,d=i-h,p=i+h,f=Math.abs(u-i),m=Math.abs(u-d),g=Math.abs(u-p);g<f&&g<=m?(i=p,s+=a):m<f&&m<g&&(i=d,s-=a)}}else e=s=Math.max(0,Math.min(s,a-1)),i=this.pages.length?this.pages[e].left:0;return this.page=e,this.pageIndex=s,null!==n&&e!==n&&(this.prevPage=n,this.prevPageIndex=r,this.trigger("change",e,n)),i}},{key:"destroy",value:function(){var e=this;this.state="destroy",this.slides.forEach(function(t){e.removeSlideEl(t)}),this.slides=[],this.Panzoom.destroy(),this.detachPlugins()}}]),s}();R.version="4.0.31",R.Plugins=F;var j=!("undefined"==typeof window||!window.document||!window.document.createElement),z=null,B=["a[href]","area[href]",'input:not([disabled]):not([type="hidden"]):not([aria-hidden])',"select:not([disabled]):not([aria-hidden])","textarea:not([disabled]):not([aria-hidden])","button:not([disabled]):not([aria-hidden])","iframe","object","embed","video","audio","[contenteditable]",'[tabindex]:not([tabindex^="-"]):not([disabled]):not([aria-hidden])'],V=function(e){if(e&&j){null===z&&document.createElement("div").focus({get preventScroll(){return z=!0,!1}});try{if(e.setActive)e.setActive();else if(z)e.focus({preventScroll:!0});else{var t=window.pageXOffset||document.body.scrollTop,i=window.pageYOffset||document.body.scrollLeft;e.focus(),document.body.scrollTo({top:t,left:i,behavior:"auto"})}}catch(e){}}},H=function(){function e(t){n(this,e),this.fancybox=t,this.viewport=null,this.pendingUpdate=null;for(var i=0,s=["onReady","onResize","onTouchstart","onTouchmove"];i<s.length;i++){var r=s[i];this[r]=this[r].bind(this)}}return a(e,[{key:"onReady",value:function(){var e=window.visualViewport;e&&(this.viewport=e,this.startY=0,e.addEventListener("resize",this.onResize),this.updateViewport()),window.addEventListener("touchstart",this.onTouchstart,{passive:!1}),window.addEventListener("touchmove",this.onTouchmove,{passive:!1}),window.addEventListener("wheel",this.onWheel,{passive:!1})}},{key:"onResize",value:function(){this.updateViewport()}},{key:"updateViewport",value:function(){var e=this.fancybox,t=this.viewport,i=t.scale||1,s=e.$container;if(s){var n="",r="",a="";i-1>.1&&(n="".concat(t.width*i,"px"),r="".concat(t.height*i,"px"),a="translate3d(".concat(t.offsetLeft,"px, ").concat(t.offsetTop,"px, 0) scale(").concat(1/i,")")),s.style.width=n,s.style.height=r,s.style.transform=a}}},{key:"onTouchstart",value:function(e){this.startY=e.touches?e.touches[0].screenY:e.screenY}},{key:"onTouchmove",value:function(e){var t=this.startY,i=window.innerWidth/window.document.documentElement.clientWidth;if(e.cancelable&&!(e.touches.length>1||1!==i)){var s=_(e.composedPath()[0]);if(s){var n=window.getComputedStyle(s),r=parseInt(n.getPropertyValue("height"),10),a=e.touches?e.touches[0].screenY:e.screenY,o=t<=a&&0===s.scrollTop,l=t>=a&&s.scrollHeight-s.scrollTop===r;(o||l)&&e.preventDefault()}else e.preventDefault()}}},{key:"onWheel",value:function(e){_(e.composedPath()[0])||e.preventDefault()}},{key:"cleanup",value:function(){this.pendingUpdate&&(cancelAnimationFrame(this.pendingUpdate),this.pendingUpdate=null);var e=this.viewport;e&&(e.removeEventListener("resize",this.onResize),this.viewport=null),window.removeEventListener("touchstart",this.onTouchstart,!1),window.removeEventListener("touchmove",this.onTouchmove,!1),window.removeEventListener("wheel",this.onWheel,{passive:!1})}},{key:"attach",value:function(){this.fancybox.on("initLayout",this.onReady)}},{key:"detach",value:function(){this.fancybox.off("initLayout",this.onReady),this.cleanup()}}]),e}(),W=function(){function e(t){n(this,e),this.fancybox=t,this.$container=null,this.state="init";for(var i=0,s=["onPrepare","onClosing","onKeydown"];i<s.length;i++){var r=s[i];this[r]=this[r].bind(this)}this.events={prepare:this.onPrepare,closing:this.onClosing,keydown:this.onKeydown}}return a(e,[{key:"onPrepare",value:function(){this.getSlides().length<this.fancybox.option("Thumbs.minSlideCount")?this.state="disabled":!0===this.fancybox.option("Thumbs.autoStart")&&this.fancybox.Carousel.Panzoom.content.height>=this.fancybox.option("Thumbs.minScreenHeight")&&this.build()}},{key:"onClosing",value:function(){this.Carousel&&this.Carousel.Panzoom.detachEvents()}},{key:"onKeydown",value:function(e,t){t===e.option("Thumbs.key")&&this.toggle()}},{key:"build",value:function(){var e=this;if(!this.$container){var t=document.createElement("div");t.classList.add("fancybox__thumbs"),this.fancybox.$carousel.parentNode.insertBefore(t,this.fancybox.$carousel.nextSibling),this.Carousel=new R(t,w(!0,{Dots:!1,Navigation:!1,Sync:{friction:0},infinite:!1,center:!0,fill:!0,dragFree:!0,slidesPerPage:1,preload:1},this.fancybox.option("Thumbs.Carousel"),{Sync:{target:this.fancybox.Carousel},slides:this.getSlides()})),this.Carousel.Panzoom.on("wheel",function(t,i){i.preventDefault(),e.fancybox[i.deltaY<0?"prev":"next"]()}),this.$container=t,this.state="visible"}}},{key:"getSlides",value:function(){var e,t=[],i=y(this.fancybox.items);try{for(i.s();!(e=i.n()).done;){var s=e.value,n=s.thumb;n&&t.push({html:this.fancybox.option("Thumbs.tpl").replace(/\{\{src\}\}/gi,n),customClass:"has-thumb has-".concat(s.type||"image")})}}catch(e){i.e(e)}finally{i.f()}return t}},{key:"toggle",value:function(){"visible"===this.state?this.hide():"hidden"===this.state?this.show():this.build()}},{key:"show",value:function(){"hidden"===this.state&&(this.$container.style.display="",this.Carousel.Panzoom.attachEvents(),this.state="visible")}},{key:"hide",value:function(){"visible"===this.state&&(this.Carousel.Panzoom.detachEvents(),this.$container.style.display="none",this.state="hidden")}},{key:"cleanup",value:function(){this.Carousel&&(this.Carousel.destroy(),this.Carousel=null),this.$container&&(this.$container.remove(),this.$container=null),this.state="init"}},{key:"attach",value:function(){this.fancybox.on(this.events)}},{key:"detach",value:function(){this.fancybox.off(this.events),this.cleanup()}}]),e}();W.defaults={minSlideCount:2,minScreenHeight:500,autoStart:!0,key:"t",Carousel:{},tpl:'<div class="fancybox__thumb" style="background-image:url(\'{{src}}\')"></div>'};var Y=function(e,t){for(var i=new URL(e),s=new URLSearchParams(i.search),n=new URLSearchParams,r=0,a=[].concat(m(s),m(Object.entries(t)));r<a.length;r++){var o=f(a[r],2),l=o[0],c=o[1];"t"===l?n.set("start",parseInt(c)):n.set(l,c)}n=n.toString();var h=e.match(/#t=((.*)?\d+s)/);return h&&(n+="#t=".concat(h[1])),n},q={video:{autoplay:!0,ratio:16/9},youtube:{autohide:1,fs:1,rel:0,hd:1,wmode:"transparent",enablejsapi:1,html5:1},vimeo:{hd:1,show_title:1,show_byline:1,show_portrait:0,fullscreen:1},html5video:{tpl:'<video class="fancybox__html5video" playsinline controls controlsList="nodownload" poster="{{poster}}">\n  <source src="{{src}}" type="{{format}}" />Sorry, your browser doesn\'t support embedded videos.</video>',format:""}},U=function(){function e(t){n(this,e),this.fancybox=t;for(var i=0,s=["onInit","onReady","onCreateSlide","onRemoveSlide","onSelectSlide","onUnselectSlide","onRefresh","onMessage"];i<s.length;i++){var r=s[i];this[r]=this[r].bind(this)}this.events={init:this.onInit,ready:this.onReady,"Carousel.createSlide":this.onCreateSlide,"Carousel.removeSlide":this.onRemoveSlide,"Carousel.selectSlide":this.onSelectSlide,"Carousel.unselectSlide":this.onUnselectSlide,"Carousel.refresh":this.onRefresh}}return a(e,[{key:"onInit",value:function(){var e,t=y(this.fancybox.items);try{for(t.s();!(e=t.n()).done;){var i=e.value;this.processType(i)}}catch(e){t.e(e)}finally{t.f()}}},{key:"processType",value:function(e){if(e.html)return e.src=e.html,e.type="html",void delete e.html;var t=e.src||"",i=e.type||this.fancybox.options.type,s=null;if(!t||"string"==typeof t){if(s=t.match(/(?:youtube\.com|youtu\.be|youtube\-nocookie\.com)\/(?:watch\?(?:.*&)?v=|v\/|u\/|embed\/?)?(videoseries\?list=(?:.*)|[\w-]{11}|\?listType=(?:.*)&list=(?:.*))(?:.*)/i)){var n=Y(t,this.fancybox.option("Html.youtube")),r=encodeURIComponent(s[1]);e.videoId=r,e.src="https://www.youtube-nocookie.com/embed/".concat(r,"?").concat(n),e.thumb=e.thumb||"https://i.ytimg.com/vi/".concat(r,"/mqdefault.jpg"),e.vendor="youtube",i="video"}else if(s=t.match(/^.+vimeo.com\/(?:\/)?([\d]+)(.*)?/)){var a=Y(t,this.fancybox.option("Html.vimeo")),o=encodeURIComponent(s[1]);e.videoId=o,e.src="https://player.vimeo.com/video/".concat(o,"?").concat(a),e.vendor="vimeo",i="video"}else(s=t.match(/(?:maps\.)?google\.([a-z]{2,3}(?:\.[a-z]{2})?)\/(?:(?:(?:maps\/(?:place\/(?:.*)\/)?\@(.*),(\d+.?\d+?)z))|(?:\?ll=))(.*)?/i))?(e.src="//maps.google.".concat(s[1],"/?ll=").concat((s[2]?s[2]+"&z="+Math.floor(s[3])+(s[4]?s[4].replace(/^\//,"&"):""):s[4]+"").replace(/\?/,"&"),"&output=").concat(s[4]&&s[4].indexOf("layer=c")>0?"svembed":"embed"),i="map"):(s=t.match(/(?:maps\.)?google\.([a-z]{2,3}(?:\.[a-z]{2})?)\/(?:maps\/search\/)(.*)/i))&&(e.src="//maps.google.".concat(s[1],"/maps?q=").concat(s[2].replace("query=","q=").replace("api=1",""),"&output=embed"),i="map");i||("#"===t.charAt(0)?i="inline":(s=t.match(/\.(mp4|mov|ogv|webm)((\?|#).*)?$/i))?(i="html5video",e.format=e.format||"video/"+("ogv"===s[1]?"ogg":s[1])):t.match(/(^data:image\/[a-z0-9+\/=]*,)|(\.(jp(e|g|eg)|gif|png|bmp|webp|svg|ico)((\?|#).*)?$)/i)?i="image":t.match(/\.(pdf)((\?|#).*)?$/i)&&(i="pdf")),e.type=i||this.fancybox.option("defaultType","image"),"html5video"!==i&&"video"!==i||(e.video=w({},this.fancybox.option("Html.video"),e.video),e._width&&e._height?e.ratio=parseFloat(e._width)/parseFloat(e._height):e.ratio=e.ratio||e.video.ratio||q.video.ratio)}}},{key:"onReady",value:function(){var e=this;this.fancybox.Carousel.slides.forEach(function(t){t.$el&&(e.setContent(t),t.index===e.fancybox.getSlide().index&&e.playVideo(t))})}},{key:"onCreateSlide",value:function(e,t,i){"ready"===this.fancybox.state&&this.setContent(i)}},{key:"loadInlineContent",value:function(e){var t;if(e.src instanceof HTMLElement)t=e.src;else if("string"==typeof e.src){var i=e.src.split("#",2),s=2===i.length&&""===i[0]?i[1]:i[0];t=document.getElementById(s)}if(t){if("clone"===e.type||t.$placeHolder){var n=(t=t.cloneNode(!0)).getAttribute("id");n=n?"".concat(n,"--clone"):"clone-".concat(this.fancybox.id,"-").concat(e.index),t.setAttribute("id",n)}else{var r=document.createElement("div");r.classList.add("fancybox-placeholder"),t.parentNode.insertBefore(r,t),t.$placeHolder=r}this.fancybox.setContent(e,t)}else this.fancybox.setError(e,"{{ELEMENT_NOT_FOUND}}")}},{key:"loadAjaxContent",value:function(e){var t=this.fancybox,i=new XMLHttpRequest;t.showLoading(e),i.onreadystatechange=function(){i.readyState===XMLHttpRequest.DONE&&"ready"===t.state&&(t.hideLoading(e),200===i.status?t.setContent(e,i.responseText):t.setError(e,404===i.status?"{{AJAX_NOT_FOUND}}":"{{AJAX_FORBIDDEN}}"))};var s=e.ajax||null;i.open(s?"POST":"GET",e.src),i.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),i.setRequestHeader("X-Requested-With","XMLHttpRequest"),i.send(s),e.xhr=i}},{key:"loadIframeContent",value:function(e){var t=this,i=this.fancybox,s=document.createElement("iframe");if(s.className="fancybox__iframe",s.setAttribute("id","fancybox__iframe_".concat(i.id,"_").concat(e.index)),s.setAttribute("allow","autoplay; fullscreen"),s.setAttribute("scrolling","auto"),e.$iframe=s,"iframe"!==e.type||!1===e.preload)return s.setAttribute("src",e.src),this.fancybox.setContent(e,s),void this.resizeIframe(e);i.showLoading(e);var n=document.createElement("div");n.style.visibility="hidden",this.fancybox.setContent(e,n),n.appendChild(s),s.onerror=function(){i.setError(e,"{{IFRAME_ERROR}}")},s.onload=function(){i.hideLoading(e);var n=!1;s.isReady||(s.isReady=!0,n=!0),s.src.length&&(s.parentNode.style.visibility="",t.resizeIframe(e),n&&i.revealContent(e))},s.setAttribute("src",e.src)}},{key:"setAspectRatio",value:function(e){var t=e.$content,i=e.ratio;if(t){var s=e._width,n=e._height;if(i||s&&n){Object.assign(t.style,{width:s&&n?"100%":"",height:s&&n?"100%":"",maxWidth:"",maxHeight:""});var r=t.offsetWidth,a=t.offsetHeight;if(n=n||a,(s=s||r)>r||n>a){var o=Math.min(r/s,a/n);s*=o,n*=o}Math.abs(s/n-i)>.01&&(i<s/n?s=n*i:n=s/i),Object.assign(t.style,{width:"".concat(s,"px"),height:"".concat(n,"px")})}}}},{key:"resizeIframe",value:function(e){var t=e.$iframe;if(t){var i=e._width||0,s=e._height||0;i&&s&&(e.autoSize=!1);var n=t.parentNode,r=n&&n.style;if(!1!==e.preload&&!1!==e.autoSize&&r)try{var a=window.getComputedStyle(n),o=parseFloat(a.paddingLeft)+parseFloat(a.paddingRight),l=parseFloat(a.paddingTop)+parseFloat(a.paddingBottom),c=t.contentWindow.document,h=c.getElementsByTagName("html")[0],u=c.body;r.width="",u.style.overflow="hidden",i=i||h.scrollWidth+o,r.width="".concat(i,"px"),u.style.overflow="",r.flex="0 0 auto",r.height="".concat(u.scrollHeight,"px"),s=h.scrollHeight+l}catch(e){}if(i||s){var d={flex:"0 1 auto"};i&&(d.width="".concat(i,"px")),s&&(d.height="".concat(s,"px")),Object.assign(r,d)}}}},{key:"onRefresh",value:function(e,t){var i=this;t.slides.forEach(function(e){e.$el&&(e.$iframe&&i.resizeIframe(e),e.ratio&&i.setAspectRatio(e))})}},{key:"setContent",value:function(e){if(e&&!e.isDom){switch(e.type){case"html":this.fancybox.setContent(e,e.src);break;case"html5video":this.fancybox.setContent(e,this.fancybox.option("Html.html5video.tpl").replace(/\{\{src\}\}/gi,e.src).replace("{{format}}",e.format||e.html5video&&e.html5video.format||"").replace("{{poster}}",e.poster||e.thumb||""));break;case"inline":case"clone":this.loadInlineContent(e);break;case"ajax":this.loadAjaxContent(e);break;case"pdf":case"video":case"map":e.preload=!1;case"iframe":this.loadIframeContent(e)}e.ratio&&this.setAspectRatio(e)}}},{key:"onSelectSlide",value:function(e,t,i){"ready"===e.state&&this.playVideo(i)}},{key:"playVideo",value:function(e){if("html5video"===e.type&&e.video.autoplay)try{var t=e.$el.querySelector("video");if(t){var i=t.play();void 0!==i&&i.then(function(){}).catch(function(e){t.muted=!0,t.play()})}}catch(e){}"video"===e.type&&e.$iframe&&e.$iframe.contentWindow&&function t(){if("done"===e.state&&e.$iframe&&e.$iframe.contentWindow){var i;if(e.$iframe.isReady)return e.video&&e.video.autoplay&&(i="youtube"==e.vendor?{event:"command",func:"playVideo"}:{method:"play",value:"true"}),void(i&&e.$iframe.contentWindow.postMessage(JSON.stringify(i),"*"));"youtube"===e.vendor&&(i={event:"listening",id:e.$iframe.getAttribute("id")},e.$iframe.contentWindow.postMessage(JSON.stringify(i),"*"))}e.poller=setTimeout(t,250)}()}},{key:"onUnselectSlide",value:function(e,t,i){if("html5video"!==i.type){var s=!1;"vimeo"==i.vendor?s={method:"pause",value:"true"}:"youtube"===i.vendor&&(s={event:"command",func:"pauseVideo"}),s&&i.$iframe&&i.$iframe.contentWindow&&i.$iframe.contentWindow.postMessage(JSON.stringify(s),"*"),clearTimeout(i.poller)}else try{i.$el.querySelector("video").pause()}catch(e){}}},{key:"onRemoveSlide",value:function(e,t,i){i.xhr&&(i.xhr.abort(),i.xhr=null),i.$iframe&&(i.$iframe.onload=i.$iframe.onerror=null,i.$iframe.src="//about:blank",i.$iframe=null);var s=i.$content;"inline"===i.type&&s&&(s.classList.remove("fancybox__content"),"none"!==s.style.display&&(s.style.display="none")),i.$closeButton&&(i.$closeButton.remove(),i.$closeButton=null);var n=s&&s.$placeHolder;n&&(n.parentNode.insertBefore(s,n),n.remove(),s.$placeHolder=null)}},{key:"onMessage",value:function(e){try{var t=JSON.parse(e.data);if("https://player.vimeo.com"===e.origin){if("ready"===t.event){var i,s=y(document.getElementsByClassName("fancybox__iframe"));try{for(s.s();!(i=s.n()).done;){var n=i.value;n.contentWindow===e.source&&(n.isReady=1)}}catch(e){s.e(e)}finally{s.f()}}}else"https://www.youtube-nocookie.com"===e.origin&&"onReady"===t.event&&(document.getElementById(t.id).isReady=1)}catch(e){}}},{key:"attach",value:function(){this.fancybox.on(this.events),window.addEventListener("message",this.onMessage,!1)}},{key:"detach",value:function(){this.fancybox.off(this.events),window.removeEventListener("message",this.onMessage,!1)}}]),e}();U.defaults=q;var G=function(){function e(t){n(this,e),this.fancybox=t;for(var i=0,s=["onReady","onClosing","onDone","onPageChange","onCreateSlide","onRemoveSlide","onImageStatusChange"];i<s.length;i++){var r=s[i];this[r]=this[r].bind(this)}this.events={ready:this.onReady,closing:this.onClosing,done:this.onDone,"Carousel.change":this.onPageChange,"Carousel.createSlide":this.onCreateSlide,"Carousel.removeSlide":this.onRemoveSlide}}return a(e,[{key:"onReady",value:function(){var e=this;this.fancybox.Carousel.slides.forEach(function(t){t.$el&&e.setContent(t)})}},{key:"onDone",value:function(e,t){this.handleCursor(t)}},{key:"onClosing",value:function(e){clearTimeout(this.clickTimer),this.clickTimer=null,e.Carousel.slides.forEach(function(e){e.$image&&(e.state="destroy"),e.Panzoom&&e.Panzoom.detachEvents()}),"closing"===this.fancybox.state&&this.canZoom(e.getSlide())&&this.zoomOut()}},{key:"onCreateSlide",value:function(e,t,i){"ready"===this.fancybox.state&&this.setContent(i)}},{key:"onRemoveSlide",value:function(e,t,i){i.$image&&(i.$el.classList.remove(e.option("Image.canZoomInClass")),i.$image.remove(),i.$image=null),i.Panzoom&&(i.Panzoom.destroy(),i.Panzoom=null),i.$el&&i.$el.dataset&&delete i.$el.dataset.imageFit}},{key:"setContent",value:function(e){var t=this;if(!(e.isDom||e.html||e.type&&"image"!==e.type||e.$image)){e.type="image",e.state="loading";var i=document.createElement("div");i.style.visibility="hidden";var s=document.createElement("img");s.addEventListener("load",function(i){i.stopImmediatePropagation(),t.onImageStatusChange(e)}),s.addEventListener("error",function(){t.onImageStatusChange(e)}),s.src=e.src,s.alt="",s.draggable=!1,s.classList.add("fancybox__image"),e.srcset&&s.setAttribute("srcset",e.srcset),e.sizes&&s.setAttribute("sizes",e.sizes),e.$image=s;var n=this.fancybox.option("Image.wrap");if(n){var r=document.createElement("div");r.classList.add("string"==typeof n?n:"fancybox__image-wrap"),r.appendChild(s),i.appendChild(r),e.$wrap=r}else i.appendChild(s);e.$el.dataset.imageFit=this.fancybox.option("Image.fit"),this.fancybox.setContent(e,i),s.complete||s.error?this.onImageStatusChange(e):this.fancybox.showLoading(e)}}},{key:"onImageStatusChange",value:function(e){var t=this,i=e.$image;i&&"loading"===e.state&&(i.complete&&i.naturalWidth&&i.naturalHeight?(this.fancybox.hideLoading(e),"contain"===this.fancybox.option("Image.fit")&&this.initSlidePanzoom(e),e.$el.addEventListener("wheel",function(i){return t.onWheel(e,i)},{passive:!1}),e.$content.addEventListener("click",function(i){return t.onClick(e,i)},{passive:!1}),this.revealContent(e)):this.fancybox.setError(e,"{{IMAGE_ERROR}}"))}},{key:"initSlidePanzoom",value:function(e){var t=this;e.Panzoom||(e.Panzoom=new O(e.$el,w(!0,this.fancybox.option("Image.Panzoom",{}),{viewport:e.$wrap,content:e.$image,width:e._width,height:e._height,wrapInner:!1,textSelection:!0,touch:this.fancybox.option("Image.touch"),panOnlyZoomed:!0,click:!1,wheel:!1})),e.Panzoom.on("startAnimation",function(){t.fancybox.trigger("Image.startAnimation",e)}),e.Panzoom.on("endAnimation",function(){"zoomIn"===e.state&&t.fancybox.done(e),t.handleCursor(e),t.fancybox.trigger("Image.endAnimation",e)}),e.Panzoom.on("afterUpdate",function(){t.handleCursor(e),t.fancybox.trigger("Image.afterUpdate",e)}))}},{key:"revealContent",value:function(e){null===this.fancybox.Carousel.prevPage&&e.index===this.fancybox.options.startIndex&&this.canZoom(e)?this.zoomIn():this.fancybox.revealContent(e)}},{key:"getZoomInfo",value:function(e){var t=e.$thumb.getBoundingClientRect(),i=t.width,s=t.height,n=e.$content.getBoundingClientRect(),r=n.width,a=n.height,o=n.top-t.top,l=n.left-t.left,c=this.fancybox.option("Image.zoomOpacity");return"auto"===c&&(c=Math.abs(i/s-r/a)>.1),{top:o,left:l,scale:r&&i?i/r:1,opacity:c}}},{key:"canZoom",value:function(e){var t=this.fancybox,i=t.$container;if(window.visualViewport&&1!==window.visualViewport.scale)return!1;if(e.Panzoom&&!e.Panzoom.content.width)return!1;if(!t.option("Image.zoom")||"contain"!==t.option("Image.fit"))return!1;var s=e.$thumb;if(!s||"loading"===e.state)return!1;i.classList.add("fancybox__no-click");var n,r=s.getBoundingClientRect();if(this.fancybox.option("Image.ignoreCoveredThumbnail")){var a=document.elementFromPoint(r.left+1,r.top+1)===s,o=document.elementFromPoint(r.right-1,r.bottom-1)===s;n=a&&o}else n=document.elementFromPoint(r.left+.5*r.width,r.top+.5*r.height)===s;return i.classList.remove("fancybox__no-click"),n}},{key:"zoomIn",value:function(){var e=this.fancybox,t=e.getSlide(),i=t.Panzoom,s=this.getZoomInfo(t),n=s.top,r=s.left,a=s.scale,o=s.opacity;e.trigger("reveal",t),i.panTo({x:-1*r,y:-1*n,scale:a,friction:0,ignoreBounds:!0}),t.$content.style.visibility="",t.state="zoomIn",!0===o&&i.on("afterTransform",function(e){"zoomIn"!==t.state&&"zoomOut"!==t.state||(e.$content.style.opacity=Math.min(1,1-(1-e.content.scale)/(1-a)))}),i.panTo({x:0,y:0,scale:1,friction:this.fancybox.option("Image.zoomFriction")})}},{key:"zoomOut",value:function(){var e=this,t=this.fancybox,i=t.getSlide(),s=i.Panzoom;if(s){i.state="zoomOut",t.state="customClosing",i.$caption&&(i.$caption.style.visibility="hidden");var n=this.fancybox.option("Image.zoomFriction"),r=function(t){var r=e.getZoomInfo(i),a=r.top,o=r.left,l=r.scale,c=r.opacity;t||c||(n*=.82),s.panTo({x:-1*o,y:-1*a,scale:l,friction:n,ignoreBounds:!0}),n*=.98};window.addEventListener("scroll",r),s.once("endAnimation",function(){window.removeEventListener("scroll",r),t.destroy()}),r()}}},{key:"handleCursor",value:function(e){if("image"===e.type&&e.$el){var t=e.Panzoom,i=this.fancybox.option("Image.click",!1,e),s=this.fancybox.option("Image.touch"),n=e.$el.classList,r=this.fancybox.option("Image.canZoomInClass"),a=this.fancybox.option("Image.canZoomOutClass");n.remove(a),n.remove(r),t&&"toggleZoom"===i?t&&1===t.content.scale&&t.option("maxScale")-t.content.scale>.01?n.add(r):t.content.scale>1&&!s&&n.add(a):"close"===i&&n.add(a)}}},{key:"onWheel",value:function(e,t){if("ready"===this.fancybox.state&&!1!==this.fancybox.trigger("Image.wheel",t))switch(this.fancybox.option("Image.wheel")){case"zoom":"done"===e.state&&e.Panzoom&&e.Panzoom.zoomWithWheel(t);break;case"close":this.fancybox.close();break;case"slide":this.fancybox[t.deltaY<0?"prev":"next"]()}}},{key:"onClick",value:function(e,t){var i=this;if("ready"===this.fancybox.state){var s=e.Panzoom;if(!s||!s.dragPosition.midPoint&&0===s.dragOffset.x&&0===s.dragOffset.y&&1===s.dragOffset.scale){if(this.fancybox.Carousel.Panzoom.lockAxis)return!1;var n=function(s){switch(s){case"toggleZoom":t.stopPropagation(),e.Panzoom&&e.Panzoom.zoomWithClick(t);break;case"close":i.fancybox.close();break;case"next":t.stopPropagation(),i.fancybox.next()}},r=this.fancybox.option("Image.click"),a=this.fancybox.option("Image.doubleClick");a?this.clickTimer?(clearTimeout(this.clickTimer),this.clickTimer=null,n(a)):this.clickTimer=setTimeout(function(){i.clickTimer=null,n(r)},300):n(r)}}}},{key:"onPageChange",value:function(e,t){var i=e.getSlide();t.slides.forEach(function(e){e.Panzoom&&"done"===e.state&&e.index!==i.index&&e.Panzoom.panTo({x:0,y:0,scale:1,friction:.8})})}},{key:"attach",value:function(){this.fancybox.on(this.events)}},{key:"detach",value:function(){this.fancybox.off(this.events)}}]),e}();G.defaults={canZoomInClass:"can-zoom_in",canZoomOutClass:"can-zoom_out",zoom:!0,zoomOpacity:"auto",zoomFriction:.82,ignoreCoveredThumbnail:!1,touch:!0,click:"toggleZoom",doubleClick:null,wheel:"zoom",fit:"contain",wrap:!1,Panzoom:{ratio:1}};var X=function(){function e(t){n(this,e),this.fancybox=t;for(var i=0,s=["onChange","onClosing"];i<s.length;i++){var r=s[i];this[r]=this[r].bind(this)}this.events={initCarousel:this.onChange,"Carousel.change":this.onChange,closing:this.onClosing},this.hasCreatedHistory=!1,this.origHash="",this.timer=null}return a(e,[{key:"onChange",value:function(e){var t=this,i=e.Carousel;this.timer&&clearTimeout(this.timer);var s=null===i.prevPage,n=e.getSlide(),r=new URL(document.URL).hash,a=!1;if(n.slug)a="#"+n.slug;else{var o=n.$trigger&&n.$trigger.dataset,l=e.option("slug")||o&&o.fancybox;l&&l.length&&"true"!==l&&(a="#"+l+(i.slides.length>1?"-"+(n.index+1):""))}s&&(this.origHash=r!==a?r:""),a&&r!==a&&(this.timer=setTimeout(function(){try{window.history[s?"pushState":"replaceState"]({},document.title,window.location.pathname+window.location.search+a),s&&(t.hasCreatedHistory=!0)}catch(e){}},300))}},{key:"onClosing",value:function(){if(this.timer&&clearTimeout(this.timer),!0!==this.hasSilentClose)try{return void window.history.replaceState({},document.title,window.location.pathname+window.location.search+(this.origHash||""))}catch(e){}}},{key:"attach",value:function(e){e.on(this.events)}},{key:"detach",value:function(e){e.off(this.events)}}],[{key:"startFromUrl",value:function(){var t=e.Fancybox;if(t&&!t.getInstance()&&!1!==t.defaults.Hash){var i=e.getParsedURL(),s=i.hash,n=i.slug,r=i.index;if(n){var a=document.querySelector('[data-slug="'.concat(s,'"]'));if(a&&a.dispatchEvent(new CustomEvent("click",{bubbles:!0,cancelable:!0})),!t.getInstance()){var o=document.querySelectorAll('[data-fancybox="'.concat(n,'"]'));o.length&&(null===r&&1===o.length?a=o[0]:r&&(a=o[r-1]),a&&a.dispatchEvent(new CustomEvent("click",{bubbles:!0,cancelable:!0})))}}}}},{key:"onHashChange",value:function(){var t=e.getParsedURL(),i=t.slug,s=t.index,n=e.Fancybox,r=n&&n.getInstance();if(r&&r.plugins.Hash){if(i){var a=r.Carousel;if(i===r.option("slug"))return a.slideTo(s-1);var o,l=y(a.slides);try{for(l.s();!(o=l.n()).done;){var c=o.value;if(c.slug&&c.slug===i)return a.slideTo(c.index)}}catch(e){l.e(e)}finally{l.f()}var h=r.getSlide(),u=h.$trigger&&h.$trigger.dataset;if(u&&u.fancybox===i)return a.slideTo(s-1)}r.plugins.Hash.hasSilentClose=!0,r.close()}e.startFromUrl()}},{key:"create",value:function(t){function i(){window.addEventListener("hashchange",e.onHashChange,!1),e.startFromUrl()}e.Fancybox=t,j&&window.requestAnimationFrame(function(){/complete|interactive|loaded/.test(document.readyState)?i():document.addEventListener("DOMContentLoaded",i)})}},{key:"destroy",value:function(){window.removeEventListener("hashchange",e.onHashChange,!1)}},{key:"getParsedURL",value:function(){var e=window.location.hash.substr(1),t=e.split("-"),i=t.length>1&&/^\+?\d+$/.test(t[t.length-1])&&parseInt(t.pop(-1),10)||null;return{hash:e,slug:t.join("-"),index:i}}}]),e}(),K={pageXOffset:0,pageYOffset:0,element:function(){return document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement},activate:function(e){K.pageXOffset=window.pageXOffset,K.pageYOffset=window.pageYOffset,e.requestFullscreen?e.requestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen():e.msRequestFullscreen&&e.msRequestFullscreen()},deactivate:function(){document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen()}},Z=function(){function e(t){n(this,e),this.fancybox=t,this.active=!1,this.handleVisibilityChange=this.handleVisibilityChange.bind(this)}return a(e,[{key:"isActive",value:function(){return this.active}},{key:"setTimer",value:function(){var e=this;if(this.active&&!this.timer){var t=this.fancybox.option("slideshow.delay",3e3);this.timer=setTimeout(function(){e.timer=null,e.fancybox.option("infinite")||e.fancybox.getSlide().index!==e.fancybox.Carousel.slides.length-1?e.fancybox.next():e.fancybox.jumpTo(0,{friction:0})},t);var i=this.$progress;i||((i=document.createElement("div")).classList.add("fancybox__progress"),this.fancybox.$carousel.parentNode.insertBefore(i,this.fancybox.$carousel),this.$progress=i,i.offsetHeight),i.style.transitionDuration="".concat(t,"ms"),i.style.transform="scaleX(1)"}}},{key:"clearTimer",value:function(){clearTimeout(this.timer),this.timer=null,this.$progress&&(this.$progress.style.transitionDuration="",this.$progress.style.transform="",this.$progress.offsetHeight)}},{key:"activate",value:function(){this.active||(this.active=!0,this.fancybox.$container.classList.add("has-slideshow"),"done"===this.fancybox.getSlide().state&&this.setTimer(),document.addEventListener("visibilitychange",this.handleVisibilityChange,!1))}},{key:"handleVisibilityChange",value:function(){this.deactivate()}},{key:"deactivate",value:function(){this.active=!1,this.clearTimer(),this.fancybox.$container.classList.remove("has-slideshow"),document.removeEventListener("visibilitychange",this.handleVisibilityChange,!1)}},{key:"toggle",value:function(){this.active?this.deactivate():this.fancybox.Carousel.slides.length>1&&this.activate()}}]),e}(),J={display:["counter","zoom","slideshow","fullscreen","thumbs","close"],autoEnable:!0,items:{counter:{position:"left",type:"div",class:"fancybox__counter",html:'<span data-fancybox-index=""></span>&nbsp;/&nbsp;<span data-fancybox-count=""></span>',attr:{tabindex:-1}},prev:{type:"button",class:"fancybox__button--prev",label:"PREV",html:'<svg viewBox="0 0 24 24"><path d="M15 4l-8 8 8 8"/></svg>',attr:{"data-fancybox-prev":""}},next:{type:"button",class:"fancybox__button--next",label:"NEXT",html:'<svg viewBox="0 0 24 24"><path d="M8 4l8 8-8 8"/></svg>',attr:{"data-fancybox-next":""}},fullscreen:{type:"button",class:"fancybox__button--fullscreen",label:"TOGGLE_FULLSCREEN",html:'<svg viewBox="0 0 24 24">\n                <g><path d="M3 8 V3h5"></path><path d="M21 8V3h-5"></path><path d="M8 21H3v-5"></path><path d="M16 21h5v-5"></path></g>\n                <g><path d="M7 2v5H2M17 2v5h5M2 17h5v5M22 17h-5v5"/></g>\n            </svg>',click:function(e){e.preventDefault(),K.element()?K.deactivate():K.activate(this.fancybox.$container)}},slideshow:{type:"button",class:"fancybox__button--slideshow",label:"TOGGLE_SLIDESHOW",html:'<svg viewBox="0 0 24 24">\n                <g><path d="M6 4v16"/><path d="M20 12L6 20"/><path d="M20 12L6 4"/></g>\n                <g><path d="M7 4v15M17 4v15"/></g>\n            </svg>',click:function(e){e.preventDefault(),this.Slideshow.toggle()}},zoom:{type:"button",class:"fancybox__button--zoom",label:"TOGGLE_ZOOM",html:'<svg viewBox="0 0 24 24"><circle cx="10" cy="10" r="7"></circle><path d="M16 16 L21 21"></svg>',click:function(e){e.preventDefault();var t=this.fancybox.getSlide().Panzoom;t&&t.toggleZoom()}},download:{type:"link",label:"DOWNLOAD",class:"fancybox__button--download",html:'<svg viewBox="0 0 24 24"><path d="M12 15V3m0 12l-4-4m4 4l4-4M2 17l.62 2.48A2 2 0 004.56 21h14.88a2 2 0 001.94-1.51L22 17"/></svg>',click:function(e){e.stopPropagation()}},thumbs:{type:"button",label:"TOGGLE_THUMBS",class:"fancybox__button--thumbs",html:'<svg viewBox="0 0 24 24"><circle cx="4" cy="4" r="1" /><circle cx="12" cy="4" r="1" transform="rotate(90 12 4)"/><circle cx="20" cy="4" r="1" transform="rotate(90 20 4)"/><circle cx="4" cy="12" r="1" transform="rotate(90 4 12)"/><circle cx="12" cy="12" r="1" transform="rotate(90 12 12)"/><circle cx="20" cy="12" r="1" transform="rotate(90 20 12)"/><circle cx="4" cy="20" r="1" transform="rotate(90 4 20)"/><circle cx="12" cy="20" r="1" transform="rotate(90 12 20)"/><circle cx="20" cy="20" r="1" transform="rotate(90 20 20)"/></svg>',click:function(e){e.stopPropagation();var t=this.fancybox.plugins.Thumbs;t&&t.toggle()}},close:{type:"button",label:"CLOSE",class:"fancybox__button--close",html:'<svg viewBox="0 0 24 24"><path d="M20 20L4 4m16 0L4 20"></path></svg>',attr:{"data-fancybox-close":"",tabindex:0}}}},Q=function(){function e(t){var i=this;n(this,e),this.fancybox=t,this.$container=null,this.state="init";for(var s=0,r=["onInit","onPrepare","onDone","onKeydown","onClosing","onChange","onSettle","onRefresh"];s<r.length;s++){var a=r[s];this[a]=this[a].bind(this)}this.events={init:this.onInit,prepare:this.onPrepare,done:this.onDone,keydown:this.onKeydown,closing:this.onClosing,"Carousel.change":this.onChange,"Carousel.settle":this.onSettle,"Carousel.Panzoom.touchStart":function(){return i.onRefresh()},"Image.startAnimation":function(e,t){return i.onRefresh(t)},"Image.afterUpdate":function(e,t){return i.onRefresh(t)}}}return a(e,[{key:"onInit",value:function(){if(this.fancybox.option("Toolbar.autoEnable")){var e,t=!1,i=y(this.fancybox.items);try{for(i.s();!(e=i.n()).done;)if("image"===e.value.type){t=!0;break}}catch(e){i.e(e)}finally{i.f()}if(!t)return void(this.state="disabled")}var s,n=y(this.fancybox.option("Toolbar.display"));try{for(n.s();!(s=n.n()).done;){var r=s.value;if("close"===(b(r)?r.id:r)){this.fancybox.options.closeButton=!1;break}}}catch(e){n.e(e)}finally{n.f()}}},{key:"onPrepare",value:function(){var e=this.fancybox;if("init"===this.state&&(this.build(),this.update(),this.Slideshow=new Z(e),!e.Carousel.prevPage&&(e.option("slideshow.autoStart")&&this.Slideshow.activate(),e.option("fullscreen.autoStart")&&!K.element())))try{K.activate(e.$container)}catch(e){}}},{key:"onFsChange",value:function(){window.scrollTo(K.pageXOffset,K.pageYOffset)}},{key:"onSettle",value:function(){var e=this.fancybox,t=this.Slideshow;t&&t.isActive()&&(e.getSlide().index!==e.Carousel.slides.length-1||e.option("infinite")?"done"===e.getSlide().state&&t.setTimer():t.deactivate())}},{key:"onChange",value:function(){this.update(),this.Slideshow&&this.Slideshow.isActive()&&this.Slideshow.clearTimer()}},{key:"onDone",value:function(e,t){var i=this.Slideshow;t.index===e.getSlide().index&&(this.update(),i&&i.isActive()&&(e.option("infinite")||t.index!==e.Carousel.slides.length-1?i.setTimer():i.deactivate()))}},{key:"onRefresh",value:function(e){e&&e.index!==this.fancybox.getSlide().index||(this.update(),!this.Slideshow||!this.Slideshow.isActive()||e&&"done"!==e.state||this.Slideshow.deactivate())}},{key:"onKeydown",value:function(e,t,i){" "===t&&this.Slideshow&&(this.Slideshow.toggle(),i.preventDefault())}},{key:"onClosing",value:function(){this.Slideshow&&this.Slideshow.deactivate(),document.removeEventListener("fullscreenchange",this.onFsChange)}},{key:"createElement",value:function(e){var t,i;for(var s in"div"===e.type?t=document.createElement("div"):(t=document.createElement("link"===e.type?"a":"button")).classList.add("carousel__button"),t.innerHTML=e.html,t.setAttribute("tabindex",e.tabindex||0),e.class&&(i=t.classList).add.apply(i,m(e.class.split(" "))),e.attr)t.setAttribute(s,e.attr[s]);e.label&&t.setAttribute("title",this.fancybox.localize("{{".concat(e.label,"}}"))),e.click&&t.addEventListener("click",e.click.bind(this)),"prev"===e.id&&t.setAttribute("data-fancybox-prev",""),"next"===e.id&&t.setAttribute("data-fancybox-next","");var n=t.querySelector("svg");return n&&(n.setAttribute("role","img"),n.setAttribute("tabindex","-1"),n.setAttribute("xmlns","http://www.w3.org/2000/svg")),t}},{key:"build",value:function(){var e=this;this.cleanup();var t,i=this.fancybox.option("Toolbar.items"),s=[{position:"left",items:[]},{position:"center",items:[]},{position:"right",items:[]}],n=this.fancybox.plugins.Thumbs,r=y(this.fancybox.option("Toolbar.display"));try{var a=function(){var r=t.value,a=void 0,o=void 0;if(b(r)?(a=r.id,o=w({},i[a],r)):o=i[a=r],["counter","next","prev","slideshow"].includes(a)&&e.fancybox.items.length<2)return"continue";if("fullscreen"===a){if(!document.fullscreenEnabled||window.fullScreen)return"continue";document.addEventListener("fullscreenchange",e.onFsChange)}if("thumbs"===a&&(!n||"disabled"===n.state))return"continue";if(!o)return"continue";var l=o.position||"right",c=s.find(function(e){return e.position===l});c&&c.items.push(o)};for(r.s();!(t=r.n()).done;)a()}catch(e){r.e(e)}finally{r.f()}var o=document.createElement("div");o.classList.add("fancybox__toolbar");for(var l=0,c=s;l<c.length;l++){var h=c[l];if(h.items.length){var u=document.createElement("div");u.classList.add("fancybox__toolbar__items"),u.classList.add("fancybox__toolbar__items--".concat(h.position));var d,p=y(h.items);try{for(p.s();!(d=p.n()).done;){var f=d.value;u.appendChild(this.createElement(f))}}catch(e){p.e(e)}finally{p.f()}o.appendChild(u)}}this.fancybox.$carousel.parentNode.insertBefore(o,this.fancybox.$carousel),this.$container=o}},{key:"update",value:function(){var e,t=this.fancybox.getSlide(),i=t.index,s=this.fancybox.items.length,n=t.downloadSrc||("image"!==t.type||t.error?null:t.src),r=y(this.fancybox.$container.querySelectorAll("a.fancybox__button--download"));try{for(r.s();!(e=r.n()).done;){var a=e.value;n?(a.removeAttribute("disabled"),a.removeAttribute("tabindex"),a.setAttribute("href",n),a.setAttribute("download",n),a.setAttribute("target","_blank")):(a.setAttribute("disabled",""),a.setAttribute("tabindex",-1),a.removeAttribute("href"),a.removeAttribute("download"))}}catch(e){r.e(e)}finally{r.f()}var o,l=t.Panzoom,c=l&&l.option("maxScale")>l.option("baseScale"),h=y(this.fancybox.$container.querySelectorAll(".fancybox__button--zoom"));try{for(h.s();!(o=h.n()).done;){var u=o.value;c?u.removeAttribute("disabled"):u.setAttribute("disabled","")}}catch(e){h.e(e)}finally{h.f()}var d,p=y(this.fancybox.$container.querySelectorAll("[data-fancybox-index]"));try{for(p.s();!(d=p.n()).done;)d.value.innerHTML=t.index+1}catch(e){p.e(e)}finally{p.f()}var f,m=y(this.fancybox.$container.querySelectorAll("[data-fancybox-count]"));try{for(m.s();!(f=m.n()).done;)f.value.innerHTML=s}catch(e){m.e(e)}finally{m.f()}if(!this.fancybox.option("infinite")){var g,v=y(this.fancybox.$container.querySelectorAll("[data-fancybox-prev]"));try{for(v.s();!(g=v.n()).done;){var b=g.value;0===i?b.setAttribute("disabled",""):b.removeAttribute("disabled")}}catch(e){v.e(e)}finally{v.f()}var w,x=y(this.fancybox.$container.querySelectorAll("[data-fancybox-next]"));try{for(x.s();!(w=x.n()).done;){var _=w.value;i===s-1?_.setAttribute("disabled",""):_.removeAttribute("disabled")}}catch(e){x.e(e)}finally{x.f()}}}},{key:"cleanup",value:function(){this.Slideshow&&this.Slideshow.isActive()&&this.Slideshow.clearTimer(),this.$container&&this.$container.remove(),this.$container=null}},{key:"attach",value:function(){this.fancybox.on(this.events)}},{key:"detach",value:function(){this.fancybox.off(this.events),this.cleanup()}}]),e}();Q.defaults=J;var ee={ScrollLock:H,Thumbs:W,Html:U,Toolbar:Q,Image:G,Hash:X},te={startIndex:0,preload:1,infinite:!0,showClass:"fancybox-zoomInUp",hideClass:"fancybox-fadeOut",animated:!0,hideScrollbar:!0,parentEl:null,mainClass:null,autoFocus:!0,trapFocus:!0,placeFocusBack:!0,click:"close",closeButton:"inside",dragToClose:!0,keyboard:{Escape:"close",Delete:"close",Backspace:"close",PageUp:"next",PageDown:"prev",ArrowUp:"next",ArrowDown:"prev",ArrowRight:"next",ArrowLeft:"prev"},template:{closeButton:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" tabindex="-1"><path d="M20 20L4 4m16 0L4 20"/></svg>',spinner:'<svg xmlns="http://www.w3.org/2000/svg" width="50" height="50" viewBox="25 25 50 50" tabindex="-1"><circle cx="50" cy="50" r="20"/></svg>',main:null},l10n:{CLOSE:"Close",NEXT:"Next",PREV:"Previous",MODAL:"You can close this modal content with the ESC key",ERROR:"Something Went Wrong, Please Try Again Later",IMAGE_ERROR:"Image Not Found",ELEMENT_NOT_FOUND:"HTML Element Not Found",AJAX_NOT_FOUND:"Error Loading AJAX : Not Found",AJAX_FORBIDDEN:"Error Loading AJAX : Forbidden",IFRAME_ERROR:"Error Loading Page",TOGGLE_ZOOM:"Toggle zoom level",TOGGLE_THUMBS:"Toggle thumbnails",TOGGLE_SLIDESHOW:"Toggle slideshow",TOGGLE_FULLSCREEN:"Toggle full-screen mode",DOWNLOAD:"Download"}},ie=new Map,se=0,ne=function(e){l(i,P);var t=d(i);function i(e){var s,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return n(this,i),e=e.map(function(e){return e.width&&(e._width=e.width),e.height&&(e._height=e.height),e}),(s=t.call(this,w(!0,{},te,r))).bindHandlers(),s.state="init",s.setItems(e),s.attachPlugins(i.Plugins),s.trigger("init"),!0===s.option("hideScrollbar")&&s.hideScrollbar(),s.initLayout(),s.initCarousel(),s.attachEvents(),ie.set(s.id,u(s)),s.trigger("prepare"),s.state="ready",s.trigger("ready"),s.$container.setAttribute("aria-hidden","false"),s.option("trapFocus")&&s.focus(),s}return a(i,[{key:"option",value:function(e){for(var t,s=this.getSlide(),n=s?s[e]:void 0,r=arguments.length,a=new Array(r>1?r-1:0),o=1;o<r;o++)a[o-1]=arguments[o];var l;return void 0!==n?("function"==typeof n&&(n=(l=n).call.apply(l,[this,this].concat(a))),n):(t=p(c(i.prototype),"option",this)).call.apply(t,[this,e].concat(a))}},{key:"bindHandlers",value:function(){for(var e=0,t=["onMousedown","onKeydown","onClick","onFocus","onCreateSlide","onSettle","onTouchMove","onTouchEnd","onTransform"];e<t.length;e++){var i=t[e];this[i]=this[i].bind(this)}}},{key:"attachEvents",value:function(){document.addEventListener("mousedown",this.onMousedown),document.addEventListener("keydown",this.onKeydown,!0),this.option("trapFocus")&&document.addEventListener("focus",this.onFocus,!0),this.$container.addEventListener("click",this.onClick)}},{key:"detachEvents",value:function(){document.removeEventListener("mousedown",this.onMousedown),document.removeEventListener("keydown",this.onKeydown,!0),document.removeEventListener("focus",this.onFocus,!0),this.$container.removeEventListener("click",this.onClick)}},{key:"initLayout",value:function(){var e=this;this.$root=this.option("parentEl")||document.body;var t=this.option("template.main");t&&(this.$root.insertAdjacentHTML("beforeend",this.localize(t)),this.$container=this.$root.querySelector(".fancybox__container")),this.$container||(this.$container=document.createElement("div"),this.$root.appendChild(this.$container)),this.$container.onscroll=function(){return e.$container.scrollLeft=0,!1},Object.entries({class:"fancybox__container",role:"dialog",tabIndex:"-1","aria-modal":"true","aria-hidden":"true","aria-label":this.localize("{{MODAL}}")}).forEach(function(t){var i;return(i=e.$container).setAttribute.apply(i,m(t))}),this.option("animated")&&this.$container.classList.add("is-animated"),this.$backdrop=this.$container.querySelector(".fancybox__backdrop"),this.$backdrop||(this.$backdrop=document.createElement("div"),this.$backdrop.classList.add("fancybox__backdrop"),this.$container.appendChild(this.$backdrop)),this.$carousel=this.$container.querySelector(".fancybox__carousel"),this.$carousel||(this.$carousel=document.createElement("div"),this.$carousel.classList.add("fancybox__carousel"),this.$container.appendChild(this.$carousel)),this.$container.Fancybox=this,this.id=this.$container.getAttribute("id"),this.id||(this.id=this.options.id||++se,this.$container.setAttribute("id","fancybox-"+this.id));var i,s=this.option("mainClass");return s&&(i=this.$container.classList).add.apply(i,m(s.split(" "))),document.documentElement.classList.add("with-fancybox"),this.trigger("initLayout"),this}},{key:"setItems",value:function(e){var t,i=[],s=y(e);try{for(s.s();!(t=s.n()).done;){var n=t.value,r=n.$trigger;if(r){var a=r.dataset||{};n.src=a.src||r.getAttribute("href")||n.src,n.type=a.type||n.type,!n.src&&r instanceof HTMLImageElement&&(n.src=r.currentSrc||n.$trigger.src)}var o=n.$thumb;if(!o){var l=n.$trigger&&n.$trigger.origTarget;l&&(o=l instanceof HTMLImageElement?l:l.querySelector("img:not([aria-hidden])")),!o&&n.$trigger&&(o=n.$trigger instanceof HTMLImageElement?n.$trigger:n.$trigger.querySelector("img:not([aria-hidden])"))}n.$thumb=o||null;var c=n.thumb;!c&&o&&!(c=o.currentSrc||o.src)&&o.dataset&&(c=o.dataset.lazySrc||o.dataset.src),c||"image"!==n.type||(c=n.src),n.thumb=c||null,n.caption=n.caption||"",i.push(n)}}catch(e){s.e(e)}finally{s.f()}this.items=i}},{key:"initCarousel",value:function(){var e=this;return this.Carousel=new R(this.$carousel,w(!0,{},{prefix:"",classNames:{viewport:"fancybox__viewport",track:"fancybox__track",slide:"fancybox__slide"},textSelection:!0,preload:this.option("preload"),friction:.88,slides:this.items,initialPage:this.options.startIndex,slidesPerPage:1,infiniteX:this.option("infinite"),infiniteY:!0,l10n:this.option("l10n"),Dots:!1,Navigation:{classNames:{main:"fancybox__nav",button:"carousel__button",next:"is-next",prev:"is-prev"}},Panzoom:{textSelection:!0,panOnlyZoomed:function(){return e.Carousel&&e.Carousel.pages&&e.Carousel.pages.length<2&&!e.option("dragToClose")},lockAxis:function(){if(e.Carousel){var t="x";return e.option("dragToClose")&&(t+="y"),t}}},on:{"*":function(t){for(var i=arguments.length,s=new Array(i>1?i-1:0),n=1;n<i;n++)s[n-1]=arguments[n];return e.trigger.apply(e,["Carousel.".concat(t)].concat(s))},init:function(t){return e.Carousel=t},createSlide:this.onCreateSlide,settle:this.onSettle}},this.option("Carousel"))),this.option("dragToClose")&&this.Carousel.Panzoom.on({touchMove:this.onTouchMove,afterTransform:this.onTransform,touchEnd:this.onTouchEnd}),this.trigger("initCarousel"),this}},{key:"onCreateSlide",value:function(e,t){var i=t.caption||"";if("function"==typeof this.options.caption&&(i=this.options.caption.call(this,this,this.Carousel,t)),"string"==typeof i&&i.length){var s=document.createElement("div"),n="fancybox__caption_".concat(this.id,"_").concat(t.index);s.className="fancybox__caption",s.innerHTML=i,s.setAttribute("id",n),t.$caption=t.$el.appendChild(s),t.$el.classList.add("has-caption"),t.$el.setAttribute("aria-labelledby",n)}}},{key:"onSettle",value:function(){this.option("autoFocus")&&this.focus()}},{key:"onFocus",value:function(e){this.isTopmost()&&this.focus(e)}},{key:"onClick",value:function(e){if(!e.defaultPrevented){var t=e.composedPath()[0];if(t.matches("[data-fancybox-close]"))return e.preventDefault(),void i.close(!1,e);if(t.matches("[data-fancybox-next]"))return e.preventDefault(),void i.next();if(t.matches("[data-fancybox-prev]"))return e.preventDefault(),void i.prev();var s=document.activeElement;if(s){if(s.closest("[contenteditable]"))return;t.matches(B)||s.blur()}if(!t.closest(".fancybox__content")&&!getSelection().toString().length&&!1!==this.trigger("click",e))switch(this.option("click")){case"close":this.close();break;case"next":this.next()}}}},{key:"onTouchMove",value:function(){var e=this.getSlide().Panzoom;return!e||1===e.content.scale}},{key:"onTouchEnd",value:function(e){var t=e.dragOffset.y;Math.abs(t)>=150||Math.abs(t)>=35&&e.dragOffset.time<350?(this.option("hideClass")&&(this.getSlide().hideClass="fancybox-throwOut".concat(e.content.y<0?"Up":"Down")),this.close()):"y"===e.lockAxis&&e.panTo({y:0})}},{key:"onTransform",value:function(e){if(this.$backdrop){var t=Math.abs(e.content.y),i=t<1?"":Math.max(.33,Math.min(1,1-t/e.content.fitHeight*1.5));this.$container.style.setProperty("--fancybox-ts",i?"0s":""),this.$container.style.setProperty("--fancybox-opacity",i)}}},{key:"onMousedown",value:function(){"ready"===this.state&&document.body.classList.add("is-using-mouse")}},{key:"onKeydown",value:function(e){if(this.isTopmost()){document.body.classList.remove("is-using-mouse");var t=e.key,i=this.option("keyboard");if(i&&!e.ctrlKey&&!e.altKey&&!e.shiftKey){var s=e.composedPath()[0],n=document.activeElement&&document.activeElement.classList,r=n&&n.contains("carousel__button");if("Escape"!==t&&!r&&(e.target.isContentEditable||-1!==["BUTTON","TEXTAREA","OPTION","INPUT","SELECT","VIDEO"].indexOf(s.nodeName)))return;if(!1!==this.trigger("keydown",t,e)){var a=i[t];"function"==typeof this[a]&&this[a]()}}}}},{key:"getSlide",value:function(){var e=this.Carousel;if(!e)return null;var t=null===e.page?e.option("initialPage"):e.page,i=e.pages||[];return i.length&&i[t]?i[t].slides[0]:null}},{key:"focus",value:function(e){if(!(i.ignoreFocusChange||["init","closing","customClosing","destroy"].indexOf(this.state)>-1)){var t=this.$container,s=this.getSlide(),n="done"===s.state?s.$el:null;if(!n||!n.contains(document.activeElement)){e&&e.preventDefault(),i.ignoreFocusChange=!0;for(var r,a=[],o=0,l=Array.from(t.querySelectorAll(B));o<l.length;o++){var c=l[o],h=c.offsetParent,u=n&&n.contains(c),d=!this.Carousel.$viewport.contains(c);h&&(u||d)?(a.push(c),void 0!==c.dataset.origTabindex&&(c.tabIndex=c.dataset.origTabindex,c.removeAttribute("data-orig-tabindex")),(c.hasAttribute("autoFocus")||!r&&u&&!c.classList.contains("carousel__button"))&&(r=c)):(c.dataset.origTabindex=void 0===c.dataset.origTabindex?c.getAttribute("tabindex"):c.dataset.origTabindex,c.tabIndex=-1)}e?a.indexOf(e.target)>-1?this.lastFocus=e.target:this.lastFocus===t?V(a[a.length-1]):V(t):this.option("autoFocus")&&r?V(r):a.indexOf(document.activeElement)<0&&V(t),this.lastFocus=document.activeElement,i.ignoreFocusChange=!1}}}},{key:"hideScrollbar",value:function(){if(j){var e=window.innerWidth-document.documentElement.getBoundingClientRect().width,t="fancybox-style-noscroll",i=document.getElementById(t);i||e>0&&((i=document.createElement("style")).id=t,i.type="text/css",i.innerHTML=".compensate-for-scrollbar {padding-right: ".concat(e,"px;}"),document.getElementsByTagName("head")[0].appendChild(i),document.body.classList.add("compensate-for-scrollbar"))}}},{key:"revealScrollbar",value:function(){document.body.classList.remove("compensate-for-scrollbar");var e=document.getElementById("fancybox-style-noscroll");e&&e.remove()}},{key:"clearContent",value:function(e){this.Carousel.trigger("removeSlide",e),e.$content&&(e.$content.remove(),e.$content=null),e.$closeButton&&(e.$closeButton.remove(),e.$closeButton=null),e._className&&e.$el.classList.remove(e._className)}},{key:"setContent",value:function(e,t){var i,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=e.$el;if(t instanceof HTMLElement)["img","iframe","video","audio"].indexOf(t.nodeName.toLowerCase())>-1?(i=document.createElement("div")).appendChild(t):i=t;else{var r=document.createRange().createContextualFragment(t);(i=document.createElement("div")).appendChild(r)}if(e.filter&&!e.error&&(i=i.querySelector(e.filter)),i instanceof Element)return e._className="has-".concat(s.suffix||e.type||"unknown"),n.classList.add(e._className),i.classList.add("fancybox__content"),"none"!==i.style.display&&"none"!==getComputedStyle(i).getPropertyValue("display")||(i.style.display=e.display||this.option("defaultDisplay")||"flex"),e.id&&i.setAttribute("id",e.id),e.$content=i,n.prepend(i),this.manageCloseButton(e),"loading"!==e.state&&this.revealContent(e),i;this.setError(e,"{{ELEMENT_NOT_FOUND}}")}},{key:"manageCloseButton",value:function(e){var t=this,i=void 0===e.closeButton?this.option("closeButton"):e.closeButton;if(i&&("top"!==i||!this.$closeButton)){var s=document.createElement("button");s.classList.add("carousel__button","is-close"),s.setAttribute("title",this.options.l10n.CLOSE),s.innerHTML=this.option("template.closeButton"),s.addEventListener("click",function(e){return t.close(e)}),"inside"===i?(e.$closeButton&&e.$closeButton.remove(),e.$closeButton=e.$content.appendChild(s)):this.$closeButton=this.$container.insertBefore(s,this.$container.firstChild)}}},{key:"revealContent",value:function(e){var t=this;this.trigger("reveal",e),e.$content.style.visibility="";var i=!1;e.error||"loading"===e.state||null!==this.Carousel.prevPage||e.index!==this.options.startIndex||(i=void 0===e.showClass?this.option("showClass"):e.showClass),i?(e.state="animating",this.animateCSS(e.$content,i,function(){t.done(e)})):this.done(e)}},{key:"animateCSS",value:function(e,t,i){e&&e.dispatchEvent(new CustomEvent("animationend",{bubbles:!0,cancelable:!0})),e&&t?(e.addEventListener("animationend",function s(n){n.currentTarget===this&&(e.removeEventListener("animationend",s),i&&i(),e.classList.remove(t))}),e.classList.add(t)):"function"==typeof i&&i()}},{key:"done",value:function(e){e.state="done",this.trigger("done",e);var t=this.getSlide();t&&e.index===t.index&&this.option("autoFocus")&&this.focus()}},{key:"setError",value:function(e,t){e.error=t,this.hideLoading(e),this.clearContent(e);var i=document.createElement("div");i.classList.add("fancybox-error"),i.innerHTML=this.localize(t||"<p>{{ERROR}}</p>"),this.setContent(e,i,{suffix:"error"})}},{key:"showLoading",value:function(e){var t=this;e.state="loading",e.$el.classList.add("is-loading");var i=e.$el.querySelector(".fancybox__spinner");i||((i=document.createElement("div")).classList.add("fancybox__spinner"),i.innerHTML=this.option("template.spinner"),i.addEventListener("click",function(){t.Carousel.Panzoom.velocity||t.close()}),e.$el.prepend(i))}},{key:"hideLoading",value:function(e){var t=e.$el&&e.$el.querySelector(".fancybox__spinner");t&&(t.remove(),e.$el.classList.remove("is-loading")),"loading"===e.state&&(this.trigger("load",e),e.state="ready")}},{key:"next",value:function(){var e=this.Carousel;e&&e.pages.length>1&&e.slideNext()}},{key:"prev",value:function(){var e=this.Carousel;e&&e.pages.length>1&&e.slidePrev()}},{key:"jumpTo",value:function(){var e;this.Carousel&&(e=this.Carousel).slideTo.apply(e,arguments)}},{key:"isClosing",value:function(){return["closing","customClosing","destroy"].includes(this.state)}},{key:"isTopmost",value:function(){return i.getInstance().id==this.id}},{key:"close",value:function(e){var t=this;if(e&&e.preventDefault(),!this.isClosing()&&!1!==this.trigger("shouldClose",e)&&(this.state="closing",this.Carousel.Panzoom.destroy(),this.detachEvents(),this.trigger("closing",e),"destroy"!==this.state)){this.$container.setAttribute("aria-hidden","true"),this.$container.classList.add("is-closing");var i=this.getSlide();if(this.Carousel.slides.forEach(function(e){e.$content&&e.index!==i.index&&t.Carousel.trigger("removeSlide",e)}),"closing"===this.state){var s=void 0===i.hideClass?this.option("hideClass"):i.hideClass;this.animateCSS(i.$content,s,function(){t.destroy()},!0)}}}},{key:"destroy",value:function(){if("destroy"!==this.state){this.state="destroy",this.trigger("destroy");var e=this.option("placeFocusBack")?this.option("triggerTarget",this.getSlide().$trigger):null;this.Carousel.destroy(),this.detachPlugins(),this.Carousel=null,this.options={},this.events={},this.$container.remove(),this.$container=this.$backdrop=this.$carousel=null,e&&V(e),ie.delete(this.id);var t=i.getInstance();t?t.focus():(document.documentElement.classList.remove("with-fancybox"),document.body.classList.remove("is-using-mouse"),this.revealScrollbar())}}}],[{key:"show",value:function(e){return new i(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}},{key:"fromEvent",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e.defaultPrevented&&!(e.button&&0!==e.button||e.ctrlKey||e.metaKey||e.shiftKey)){var s,n,r,a=e.composedPath()[0],o=a;if((o.matches("[data-fancybox-trigger]")||(o=o.closest("[data-fancybox-trigger]")))&&(t.triggerTarget=o,s=o&&o.dataset&&o.dataset.fancyboxTrigger),s){var l=document.querySelectorAll('[data-fancybox="'.concat(s,'"]')),c=parseInt(o.dataset.fancyboxIndex,10)||0;o=l.length?l[c]:o}Array.from(i.openers.keys()).reverse().some(function(t){r=o||a;var i=!1;try{r instanceof Element&&("string"==typeof t||t instanceof String)&&(i=r.matches(t)||(r=r.closest(t)))}catch(e){}return!!i&&(e.preventDefault(),n=t,!0)});var h=!1;if(n){t.event=e,t.target=r,r.origTarget=a,h=i.fromOpener(n,t);var u=i.getInstance();u&&"ready"===u.state&&e.detail&&document.body.classList.add("is-using-mouse")}return h}}},{key:"fromOpener",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=[],n=t.startIndex||0,r=t.target||null,a=void 0!==(t=w({},t,i.openers.get(e))).groupAll&&t.groupAll,o=void 0===t.groupAttr?"data-fancybox":t.groupAttr,l=o&&r?r.getAttribute("".concat(o)):"";if(!r||l||a){var c=t.root||(r?r.getRootNode():document.body);s=[].slice.call(c.querySelectorAll(e))}if(r&&!a&&(s=l?s.filter(function(e){return e.getAttribute("".concat(o))===l}):[r]),!s.length)return!1;var h=i.getInstance();return!(h&&s.indexOf(h.options.$trigger)>-1)&&(n=r?s.indexOf(r):n,new i(s=s.map(function(e){for(var t=["false","0","no","null","undefined"],i=["true","1","yes"],s=Object.assign({},e.dataset),n={},r=0,a=Object.entries(s);r<a.length;r++){var o=f(a[r],2),l=o[0],c=o[1];if("fancybox"!==l)if("width"===l||"height"===l)n["_".concat(l)]=c;else if("string"==typeof c||c instanceof String)if(t.indexOf(c)>-1)n[l]=!1;else if(i.indexOf(n[l])>-1)n[l]=!0;else try{n[l]=JSON.parse(c)}catch(e){n[l]=c}else n[l]=c}return e instanceof Element&&(n.$trigger=e),n}),w({},t,{startIndex:n,$trigger:r})))}},{key:"bind",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};function s(){document.body.addEventListener("click",i.fromEvent,!1)}j&&(i.openers.size||(/complete|interactive|loaded/.test(document.readyState)?s():document.addEventListener("DOMContentLoaded",s)),i.openers.set(e,t))}},{key:"unbind",value:function(e){i.openers.delete(e),i.openers.size||i.destroy()}},{key:"destroy",value:function(){for(var e;e=i.getInstance();)e.destroy();i.openers=new Map,document.body.removeEventListener("click",i.fromEvent,!1)}},{key:"getInstance",value:function(e){return e?ie.get(e):Array.from(ie.values()).reverse().find(function(e){return!e.isClosing()&&e})||null}},{key:"close",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1?arguments[1]:void 0;if(e){var s,n=y(ie.values());try{for(n.s();!(s=n.n()).done;){s.value.close(t)}}catch(e){n.e(e)}finally{n.f()}}else{var r=i.getInstance();r&&r.close(t)}}},{key:"next",value:function(){var e=i.getInstance();e&&e.next()}},{key:"prev",value:function(){var e=i.getInstance();e&&e.prev()}}]),i}();ne.version="4.0.31",ne.defaults=te,ne.openers=new Map,ne.Plugins=ee,ne.bind("[data-fancybox]");for(var re=0,ae=Object.entries(ne.Plugins||{});re<ae.length;re++){var oe=f(ae[re],2);oe[0];var le=oe[1];"function"==typeof le.create&&le.create(ne)}e.Carousel=R,e.Fancybox=ne,e.Panzoom=O}),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.StickySidebar=t()}(this,function(){"use strict";var e=function(){function e(e,t){for(var i=0;i<t.length;i++){var s=t[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(t,i,s){return i&&e(t.prototype,i),s&&e(t,s),t}}();var t,i,s=(t=".stickySidebar",i={topSpacing:0,bottomSpacing:0,containerSelector:!1,innerWrapperSelector:".inner-wrapper-sticky",stickyClass:"is-affixed",resizeSensor:!0,minWidth:!1},function(){function s(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),this.options=s.extend(i,n),this.sidebar="string"==typeof e?document.querySelector(e):e,void 0===this.sidebar)throw new Error("There is no specific sidebar element.");this.sidebarInner=!1,this.container=this.sidebar.parentElement,this.affixedType="STATIC",this.direction="down",this.support={transform:!1,transform3d:!1},this._initialized=!1,this._reStyle=!1,this._breakpoint=!1,this._resizeListeners=[],this.dimensions={translateY:0,topSpacing:0,lastTopSpacing:0,bottomSpacing:0,lastBottomSpacing:0,sidebarHeight:0,sidebarWidth:0,containerTop:0,containerHeight:0,viewportHeight:0,viewportTop:0,lastViewportTop:0},["handleEvent"].forEach(function(e){t[e]=t[e].bind(t)}),this.initialize()}return e(s,[{key:"initialize",value:function(){var e=this;if(this._setSupportFeatures(),this.options.innerWrapperSelector&&(this.sidebarInner=this.sidebar.querySelector(this.options.innerWrapperSelector),null===this.sidebarInner&&(this.sidebarInner=!1)),!this.sidebarInner){var t=document.createElement("div");for(t.setAttribute("class","inner-wrapper-sticky"),this.sidebar.appendChild(t);this.sidebar.firstChild!=t;)t.appendChild(this.sidebar.firstChild);this.sidebarInner=this.sidebar.querySelector(".inner-wrapper-sticky")}if(this.options.containerSelector){var i=document.querySelectorAll(this.options.containerSelector);if((i=Array.prototype.slice.call(i)).forEach(function(t,i){t.contains(e.sidebar)&&(e.container=t)}),!i.length)throw new Error("The container does not contains on the sidebar.")}"function"!=typeof this.options.topSpacing&&(this.options.topSpacing=parseInt(this.options.topSpacing)||0),"function"!=typeof this.options.bottomSpacing&&(this.options.bottomSpacing=parseInt(this.options.bottomSpacing)||0),this._widthBreakpoint(),this.calcDimensions(),this.stickyPosition(),this.bindEvents(),this._initialized=!0}},{key:"bindEvents",value:function(){window.addEventListener("resize",this,{passive:!0,capture:!1}),window.addEventListener("scroll",this,{passive:!0,capture:!1}),this.sidebar.addEventListener("update"+t,this),this.options.resizeSensor&&"undefined"!=typeof ResizeSensor&&(new ResizeSensor(this.sidebarInner,this.handleEvent),new ResizeSensor(this.container,this.handleEvent))}},{key:"handleEvent",value:function(e){this.updateSticky(e)}},{key:"calcDimensions",value:function(){if(!this._breakpoint){var e=this.dimensions;e.containerTop=s.offsetRelative(this.container).top,e.containerHeight=this.container.clientHeight,e.containerBottom=e.containerTop+e.containerHeight,e.sidebarHeight=this.sidebarInner.offsetHeight,e.sidebarWidth=this.sidebar.offsetWidth,e.viewportHeight=window.innerHeight,this._calcDimensionsWithScroll()}}},{key:"_calcDimensionsWithScroll",value:function(){var e=this.dimensions;e.sidebarLeft=s.offsetRelative(this.sidebar).left,e.viewportTop=document.documentElement.scrollTop||document.body.scrollTop,e.viewportBottom=e.viewportTop+e.viewportHeight,e.viewportLeft=document.documentElement.scrollLeft||document.body.scrollLeft,e.topSpacing=this.options.topSpacing,e.bottomSpacing=this.options.bottomSpacing,"function"==typeof e.topSpacing&&(e.topSpacing=parseInt(e.topSpacing(this.sidebar))||0),"function"==typeof e.bottomSpacing&&(e.bottomSpacing=parseInt(e.bottomSpacing(this.sidebar))||0),"VIEWPORT-TOP"===this.affixedType?e.topSpacing<e.lastTopSpacing&&(e.translateY+=e.lastTopSpacing-e.topSpacing,this._reStyle=!0):"VIEWPORT-BOTTOM"===this.affixedType&&e.bottomSpacing<e.lastBottomSpacing&&(e.translateY+=e.lastBottomSpacing-e.bottomSpacing,this._reStyle=!0),e.lastTopSpacing=e.topSpacing,e.lastBottomSpacing=e.bottomSpacing}},{key:"isSidebarFitsViewport",value:function(){return this.dimensions.sidebarHeight<this.dimensions.viewportHeight}},{key:"observeScrollDir",value:function(){var e=this.dimensions;if(e.lastViewportTop!==e.viewportTop){var t="down"===this.direction?Math.min:Math.max;e.viewportTop===t(e.viewportTop,e.lastViewportTop)&&(this.direction="down"===this.direction?"up":"down")}}},{key:"getAffixType",value:function(){var e=this.dimensions,t=!1;this._calcDimensionsWithScroll();var i=e.sidebarHeight+e.containerTop,s=e.viewportTop+e.topSpacing,n=e.viewportBottom-e.bottomSpacing;return"up"===this.direction?s<=e.containerTop?(e.translateY=0,t="STATIC"):s<=e.translateY+e.containerTop?(e.translateY=s-e.containerTop,t="VIEWPORT-TOP"):!this.isSidebarFitsViewport()&&e.containerTop<=s&&(t="VIEWPORT-UNBOTTOM"):this.isSidebarFitsViewport()?e.sidebarHeight+s>=e.containerBottom?(e.translateY=e.containerBottom-i,t="CONTAINER-BOTTOM"):s>=e.containerTop&&(e.translateY=s-e.containerTop,t="VIEWPORT-TOP"):e.containerBottom<=n?(e.translateY=e.containerBottom-i,t="CONTAINER-BOTTOM"):i+e.translateY<=n?(e.translateY=n-i,t="VIEWPORT-BOTTOM"):e.containerTop+e.translateY<=s&&(t="VIEWPORT-UNBOTTOM"),e.translateY=Math.max(0,e.translateY),e.translateY=Math.min(e.containerHeight,e.translateY),e.lastViewportTop=e.viewportTop,t}},{key:"_getStyle",value:function(e){if(void 0!==e){var t={inner:{},outer:{}},i=this.dimensions;switch(e){case"VIEWPORT-TOP":t.inner={position:"fixed",top:i.topSpacing,left:i.sidebarLeft-i.viewportLeft,width:i.sidebarWidth};break;case"VIEWPORT-BOTTOM":t.inner={position:"fixed",top:"auto",left:i.sidebarLeft,bottom:i.bottomSpacing,width:i.sidebarWidth};break;case"CONTAINER-BOTTOM":case"VIEWPORT-UNBOTTOM":var n=this._getTranslate(0,i.translateY+"px");t.inner=n?{transform:n}:{position:"absolute",top:i.translateY,width:i.sidebarWidth}}switch(e){case"VIEWPORT-TOP":case"VIEWPORT-BOTTOM":case"VIEWPORT-UNBOTTOM":case"CONTAINER-BOTTOM":t.outer={height:i.sidebarHeight,position:"relative"}}return t.outer=s.extend({height:"",position:""},t.outer),t.inner=s.extend({position:"relative",top:"",left:"",bottom:"",width:"",transform:this._getTranslate()},t.inner),t}}},{key:"stickyPosition",value:function(e){if(!this._breakpoint){e=this._reStyle||e||!1;var i=this.getAffixType(),n=this._getStyle(i);if((this.affixedType!=i||e)&&i){var r="affix."+i.toLowerCase().replace("viewport-","")+t;for(var a in s.eventTrigger(this.sidebar,r),"STATIC"===i?s.removeClass(this.sidebar,this.options.stickyClass):s.addClass(this.sidebar,this.options.stickyClass),n.outer)this.sidebar.style[a]=n.outer[a];for(var o in n.inner){var l="number"==typeof n.inner[o]?"px":"";this.sidebarInner.style[o]=n.inner[o]+l}var c="affixed."+i.toLowerCase().replace("viewport-","")+t;s.eventTrigger(this.sidebar,c)}else this._initialized&&(this.sidebarInner.style.left=n.inner.left);this.affixedType=i}}},{key:"_widthBreakpoint",value:function(){window.innerWidth<=this.options.minWidth?(this._breakpoint=!0,this.affixedType="STATIC",this.sidebar.removeAttribute("style"),s.removeClass(this.sidebar,this.options.stickyClass),this.sidebarInner.removeAttribute("style")):this._breakpoint=!1}},{key:"updateSticky",value:function(){var e,t=this,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._running||(this._running=!0,e=i.type,requestAnimationFrame(function(){switch(e){case"scroll":t._calcDimensionsWithScroll(),t.observeScrollDir(),t.stickyPosition();break;case"resize":default:t._widthBreakpoint(),t.calcDimensions(),t.stickyPosition(!0)}t._running=!1}))}},{key:"_setSupportFeatures",value:function(){var e=this.support;e.transform=s.supportTransform(),e.transform3d=s.supportTransform(!0)}},{key:"_getTranslate",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return this.support.transform3d?"translate3d("+e+", "+t+", "+i+")":!!this.support.translate&&"translate("+e+", "+t+")"}},{key:"destroy",value:function(){window.removeEventListener("resize",this,{caption:!1}),window.removeEventListener("scroll",this,{caption:!1}),this.sidebar.classList.remove(this.options.stickyClass),this.sidebar.style.minHeight="",this.sidebar.removeEventListener("update"+t,this);var e={inner:{},outer:{}};for(var i in e.inner={position:"",top:"",left:"",bottom:"",width:"",transform:""},e.outer={height:"",position:""},e.outer)this.sidebar.style[i]=e.outer[i];for(var s in e.inner)this.sidebarInner.style[s]=e.inner[s];this.options.resizeSensor&&"undefined"!=typeof ResizeSensor&&(ResizeSensor.detach(this.sidebarInner,this.handleEvent),ResizeSensor.detach(this.container,this.handleEvent))}}],[{key:"supportTransform",value:function(e){var t=!1,i=e?"perspective":"transform",s=i.charAt(0).toUpperCase()+i.slice(1),n=document.createElement("support").style;return(i+" "+["Webkit","Moz","O","ms"].join(s+" ")+s).split(" ").forEach(function(e,i){if(void 0!==n[e])return t=e,!1}),t}},{key:"eventTrigger",value:function(e,t,i){try{var s=new CustomEvent(t,{detail:i})}catch(e){(s=document.createEvent("CustomEvent")).initCustomEvent(t,!0,!0,i)}e.dispatchEvent(s)}},{key:"extend",value:function(e,t){var i={};for(var s in e)void 0!==t[s]?i[s]=t[s]:i[s]=e[s];return i}},{key:"offsetRelative",value:function(e){var t={left:0,top:0};do{var i=e.offsetTop,s=e.offsetLeft;isNaN(i)||(t.top+=i),isNaN(s)||(t.left+=s),e="BODY"===e.tagName?e.parentElement:e.offsetParent}while(e);return t}},{key:"addClass",value:function(e,t){s.hasClass(e,t)||(e.classList?e.classList.add(t):e.className+=" "+t)}},{key:"removeClass",value:function(e,t){s.hasClass(e,t)&&(e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(^|\\b)"+t.split(" ").join("|")+"(\\b|$)","gi")," "))}},{key:"hasClass",value:function(e,t){return e.classList?e.classList.contains(t):new RegExp("(^| )"+t+"( |$)","gi").test(e.className)}}]),s}());return window.StickySidebar=s,s}),function(){"use strict";var e={282:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.clearChoices=t.activateChoices=t.filterChoices=t.addChoice=void 0;var s=i(883);t.addChoice=function(e){var t=e.value,i=e.label,n=e.id,r=e.groupId,a=e.disabled,o=e.elementId,l=e.customProperties,c=e.placeholder,h=e.keyCode;return{type:s.ACTION_TYPES.ADD_CHOICE,value:t,label:i,id:n,groupId:r,disabled:a,elementId:o,customProperties:l,placeholder:c,keyCode:h}},t.filterChoices=function(e){return{type:s.ACTION_TYPES.FILTER_CHOICES,results:e}},t.activateChoices=function(e){return void 0===e&&(e=!0),{type:s.ACTION_TYPES.ACTIVATE_CHOICES,active:e}},t.clearChoices=function(){return{type:s.ACTION_TYPES.CLEAR_CHOICES}}},783:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.addGroup=void 0;var s=i(883);t.addGroup=function(e){var t=e.value,i=e.id,n=e.active,r=e.disabled;return{type:s.ACTION_TYPES.ADD_GROUP,value:t,id:i,active:n,disabled:r}}},464:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.highlightItem=t.removeItem=t.addItem=void 0;var s=i(883);t.addItem=function(e){var t=e.value,i=e.label,n=e.id,r=e.choiceId,a=e.groupId,o=e.customProperties,l=e.placeholder,c=e.keyCode;return{type:s.ACTION_TYPES.ADD_ITEM,value:t,label:i,id:n,choiceId:r,groupId:a,customProperties:o,placeholder:l,keyCode:c}},t.removeItem=function(e,t){return{type:s.ACTION_TYPES.REMOVE_ITEM,id:e,choiceId:t}},t.highlightItem=function(e,t){return{type:s.ACTION_TYPES.HIGHLIGHT_ITEM,id:e,highlighted:t}}},137:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.setIsLoading=t.resetTo=t.clearAll=void 0;var s=i(883);t.clearAll=function(){return{type:s.ACTION_TYPES.CLEAR_ALL}},t.resetTo=function(e){return{type:s.ACTION_TYPES.RESET_TO,state:e}},t.setIsLoading=function(e){return{type:s.ACTION_TYPES.SET_IS_LOADING,isLoading:e}}},373:function(e,t,i){var s=this&&this.__spreadArray||function(e,t,i){if(i||2===arguments.length)for(var s,n=0,r=t.length;n<r;n++)!s&&n in t||(s||(s=Array.prototype.slice.call(t,0,n)),s[n]=t[n]);return e.concat(s||Array.prototype.slice.call(t))},n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var r=n(i(996)),a=n(i(221)),o=i(282),l=i(783),c=i(464),h=i(137),u=i(520),d=i(883),p=i(789),f=i(799),m=i(655),g=n(i(744)),v=n(i(686)),y="-ms-scroll-limit"in document.documentElement.style&&"-ms-ime-align"in document.documentElement.style,b={},w=function(){function e(t,i){var n=this;void 0===t&&(t="[data-choice]"),void 0===i&&(i={}),void 0===i.allowHTML&&console.warn("Deprecation warning: allowHTML will default to false in a future release. To render HTML in Choices, you will need to set it to true. Setting allowHTML will suppress this message."),this.config=r.default.all([p.DEFAULT_CONFIG,e.defaults.options,i],{arrayMerge:function(e,t){return s([],t,!0)}});var a=(0,f.diff)(this.config,p.DEFAULT_CONFIG);a.length&&console.warn("Unknown config option(s) passed",a.join(", "));var o="string"==typeof t?document.querySelector(t):t;if(!(o instanceof HTMLInputElement||o instanceof HTMLSelectElement))throw TypeError("Expected one of the following types text|select-one|select-multiple");if(this._isTextElement=o.type===d.TEXT_TYPE,this._isSelectOneElement=o.type===d.SELECT_ONE_TYPE,this._isSelectMultipleElement=o.type===d.SELECT_MULTIPLE_TYPE,this._isSelectElement=this._isSelectOneElement||this._isSelectMultipleElement,this.config.searchEnabled=this._isSelectMultipleElement||this.config.searchEnabled,["auto","always"].includes("".concat(this.config.renderSelectedChoices))||(this.config.renderSelectedChoices="auto"),i.addItemFilter&&"function"!=typeof i.addItemFilter){var l=i.addItemFilter instanceof RegExp?i.addItemFilter:new RegExp(i.addItemFilter);this.config.addItemFilter=l.test.bind(l)}if(this._isTextElement?this.passedElement=new u.WrappedInput({element:o,classNames:this.config.classNames,delimiter:this.config.delimiter}):this.passedElement=new u.WrappedSelect({element:o,classNames:this.config.classNames,template:function(e){return n._templates.option(e)}}),this.initialised=!1,this._store=new g.default,this._initialState=m.defaultState,this._currentState=m.defaultState,this._prevState=m.defaultState,this._currentValue="",this._canSearch=!!this.config.searchEnabled,this._isScrollingOnIe=!1,this._highlightPosition=0,this._wasTap=!0,this._placeholderValue=this._generatePlaceholderValue(),this._baseId=(0,f.generateId)(this.passedElement.element,"choices-"),this._direction=this.passedElement.dir,!this._direction){var c=window.getComputedStyle(this.passedElement.element).direction;c!==window.getComputedStyle(document.documentElement).direction&&(this._direction=c)}if(this._idNames={itemChoice:"item-choice"},this._isSelectElement&&(this._presetGroups=this.passedElement.optionGroups,this._presetOptions=this.passedElement.options),this._presetChoices=this.config.choices,this._presetItems=this.config.items,this.passedElement.value&&this._isTextElement){var h=this.passedElement.value.split(this.config.delimiter);this._presetItems=this._presetItems.concat(h)}if(this.passedElement.options&&this.passedElement.options.forEach(function(e){n._presetChoices.push({value:e.value,label:e.innerHTML,selected:!!e.selected,disabled:e.disabled||e.parentNode.disabled,placeholder:""===e.value||e.hasAttribute("placeholder"),customProperties:e.dataset["custom-properties"]})}),this._render=this._render.bind(this),this._onFocus=this._onFocus.bind(this),this._onBlur=this._onBlur.bind(this),this._onKeyUp=this._onKeyUp.bind(this),this._onKeyDown=this._onKeyDown.bind(this),this._onClick=this._onClick.bind(this),this._onTouchMove=this._onTouchMove.bind(this),this._onTouchEnd=this._onTouchEnd.bind(this),this._onMouseDown=this._onMouseDown.bind(this),this._onMouseOver=this._onMouseOver.bind(this),this._onFormReset=this._onFormReset.bind(this),this._onSelectKey=this._onSelectKey.bind(this),this._onEnterKey=this._onEnterKey.bind(this),this._onEscapeKey=this._onEscapeKey.bind(this),this._onDirectionKey=this._onDirectionKey.bind(this),this._onDeleteKey=this._onDeleteKey.bind(this),this.passedElement.isActive)return this.config.silent||console.warn("Trying to initialise Choices on element already initialised",{element:t}),void(this.initialised=!0);this.init()}return Object.defineProperty(e,"defaults",{get:function(){return Object.preventExtensions({get options(){return b},get templates(){return v.default}})},enumerable:!1,configurable:!0}),e.prototype.init=function(){if(!this.initialised){this._createTemplates(),this._createElements(),this._createStructure(),this._store.subscribe(this._render),this._render(),this._addEventListeners(),(!this.config.addItems||this.passedElement.element.hasAttribute("disabled"))&&this.disable(),this.initialised=!0;var e=this.config.callbackOnInit;e&&"function"==typeof e&&e.call(this)}},e.prototype.destroy=function(){this.initialised&&(this._removeEventListeners(),this.passedElement.reveal(),this.containerOuter.unwrap(this.passedElement.element),this.clearStore(),this._isSelectElement&&(this.passedElement.options=this._presetOptions),this._templates=v.default,this.initialised=!1)},e.prototype.enable=function(){return this.passedElement.isDisabled&&this.passedElement.enable(),this.containerOuter.isDisabled&&(this._addEventListeners(),this.input.enable(),this.containerOuter.enable()),this},e.prototype.disable=function(){return this.passedElement.isDisabled||this.passedElement.disable(),this.containerOuter.isDisabled||(this._removeEventListeners(),this.input.disable(),this.containerOuter.disable()),this},e.prototype.highlightItem=function(e,t){if(void 0===t&&(t=!0),!e||!e.id)return this;var i=e.id,s=e.groupId,n=void 0===s?-1:s,r=e.value,a=void 0===r?"":r,o=e.label,l=void 0===o?"":o,h=n>=0?this._store.getGroupById(n):null;return this._store.dispatch((0,c.highlightItem)(i,!0)),t&&this.passedElement.triggerEvent(d.EVENTS.highlightItem,{id:i,value:a,label:l,groupValue:h&&h.value?h.value:null}),this},e.prototype.unhighlightItem=function(e){if(!e||!e.id)return this;var t=e.id,i=e.groupId,s=void 0===i?-1:i,n=e.value,r=void 0===n?"":n,a=e.label,o=void 0===a?"":a,l=s>=0?this._store.getGroupById(s):null;return this._store.dispatch((0,c.highlightItem)(t,!1)),this.passedElement.triggerEvent(d.EVENTS.highlightItem,{id:t,value:r,label:o,groupValue:l&&l.value?l.value:null}),this},e.prototype.highlightAll=function(){var e=this;return this._store.items.forEach(function(t){return e.highlightItem(t)}),this},e.prototype.unhighlightAll=function(){var e=this;return this._store.items.forEach(function(t){return e.unhighlightItem(t)}),this},e.prototype.removeActiveItemsByValue=function(e){var t=this;return this._store.activeItems.filter(function(t){return t.value===e}).forEach(function(e){return t._removeItem(e)}),this},e.prototype.removeActiveItems=function(e){var t=this;return this._store.activeItems.filter(function(t){return t.id!==e}).forEach(function(e){return t._removeItem(e)}),this},e.prototype.removeHighlightedItems=function(e){var t=this;return void 0===e&&(e=!1),this._store.highlightedActiveItems.forEach(function(i){t._removeItem(i),e&&t._triggerChange(i.value)}),this},e.prototype.showDropdown=function(e){var t=this;return this.dropdown.isActive||requestAnimationFrame(function(){t.dropdown.show(),t.containerOuter.open(t.dropdown.distanceFromTopWindow),!e&&t._canSearch&&t.input.focus(),t.passedElement.triggerEvent(d.EVENTS.showDropdown,{})}),this},e.prototype.hideDropdown=function(e){var t=this;return this.dropdown.isActive?(requestAnimationFrame(function(){t.dropdown.hide(),t.containerOuter.close(),!e&&t._canSearch&&(t.input.removeActiveDescendant(),t.input.blur()),t.passedElement.triggerEvent(d.EVENTS.hideDropdown,{})}),this):this},e.prototype.getValue=function(e){void 0===e&&(e=!1);var t=this._store.activeItems.reduce(function(t,i){var s=e?i.value:i;return t.push(s),t},[]);return this._isSelectOneElement?t[0]:t},e.prototype.setValue=function(e){var t=this;return this.initialised?(e.forEach(function(e){return t._setChoiceOrItem(e)}),this):this},e.prototype.setChoiceByValue=function(e){var t=this;return!this.initialised||this._isTextElement||(Array.isArray(e)?e:[e]).forEach(function(e){return t._findAndSelectChoiceByValue(e)}),this},e.prototype.setChoices=function(e,t,i,s){var n=this;if(void 0===e&&(e=[]),void 0===t&&(t="value"),void 0===i&&(i="label"),void 0===s&&(s=!1),!this.initialised)throw new ReferenceError("setChoices was called on a non-initialized instance of Choices");if(!this._isSelectElement)throw new TypeError("setChoices can't be used with INPUT based Choices");if("string"!=typeof t||!t)throw new TypeError("value parameter must be a name of 'value' field in passed objects");if(s&&this.clearChoices(),"function"==typeof e){var r=e(this);if("function"==typeof Promise&&r instanceof Promise)return new Promise(function(e){return requestAnimationFrame(e)}).then(function(){return n._handleLoadingState(!0)}).then(function(){return r}).then(function(e){return n.setChoices(e,t,i,s)}).catch(function(e){n.config.silent||console.error(e)}).then(function(){return n._handleLoadingState(!1)}).then(function(){return n});if(!Array.isArray(r))throw new TypeError(".setChoices first argument function must return either array of choices or Promise, got: ".concat(typeof r));return this.setChoices(r,t,i,!1)}if(!Array.isArray(e))throw new TypeError(".setChoices must be called either with array of choices with a function resulting into Promise of array of choices");return this.containerOuter.removeLoadingState(),this._startLoading(),e.forEach(function(e){if(e.choices)n._addGroup({id:e.id?parseInt("".concat(e.id),10):null,group:e,valueKey:t,labelKey:i});else{var s=e;n._addChoice({value:s[t],label:s[i],isSelected:!!s.selected,isDisabled:!!s.disabled,placeholder:!!s.placeholder,customProperties:s.customProperties})}}),this._stopLoading(),this},e.prototype.clearChoices=function(){return this._store.dispatch((0,o.clearChoices)()),this},e.prototype.clearStore=function(){return this._store.dispatch((0,h.clearAll)()),this},e.prototype.clearInput=function(){var e=!this._isSelectOneElement;return this.input.clear(e),!this._isTextElement&&this._canSearch&&(this._isSearching=!1,this._store.dispatch((0,o.activateChoices)(!0))),this},e.prototype._render=function(){if(!this._store.isLoading()){this._currentState=this._store.state;var e=this._currentState.choices!==this._prevState.choices||this._currentState.groups!==this._prevState.groups||this._currentState.items!==this._prevState.items,t=this._isSelectElement,i=this._currentState.items!==this._prevState.items;e&&(t&&this._renderChoices(),i&&this._renderItems(),this._prevState=this._currentState)}},e.prototype._renderChoices=function(){var e=this,t=this._store,i=t.activeGroups,s=t.activeChoices,n=document.createDocumentFragment();if(this.choiceList.clear(),this.config.resetScrollPosition&&requestAnimationFrame(function(){return e.choiceList.scrollToTop()}),i.length>=1&&!this._isSearching){var r=s.filter(function(e){return!0===e.placeholder&&-1===e.groupId});r.length>=1&&(n=this._createChoicesFragment(r,n)),n=this._createGroupsFragment(i,s,n)}else s.length>=1&&(n=this._createChoicesFragment(s,n));if(n.childNodes&&n.childNodes.length>0){var a=this._store.activeItems,o=this._canAddItem(a,this.input.value);if(o.response)this.choiceList.append(n),this._highlightChoice();else{var l=this._getTemplate("notice",o.notice);this.choiceList.append(l)}}else{var c=void 0;l=void 0,this._isSearching?(l="function"==typeof this.config.noResultsText?this.config.noResultsText():this.config.noResultsText,c=this._getTemplate("notice",l,"no-results")):(l="function"==typeof this.config.noChoicesText?this.config.noChoicesText():this.config.noChoicesText,c=this._getTemplate("notice",l,"no-choices")),this.choiceList.append(c)}},e.prototype._renderItems=function(){var e=this._store.activeItems||[];this.itemList.clear();var t=this._createItemsFragment(e);t.childNodes&&this.itemList.append(t)},e.prototype._createGroupsFragment=function(e,t,i){var s=this;return void 0===i&&(i=document.createDocumentFragment()),this.config.shouldSort&&e.sort(this.config.sorter),e.forEach(function(e){var n=function(e){return t.filter(function(t){return s._isSelectOneElement?t.groupId===e.id:t.groupId===e.id&&("always"===s.config.renderSelectedChoices||!t.selected)})}(e);if(n.length>=1){var r=s._getTemplate("choiceGroup",e);i.appendChild(r),s._createChoicesFragment(n,i,!0)}}),i},e.prototype._createChoicesFragment=function(e,t,i){var n=this;void 0===t&&(t=document.createDocumentFragment()),void 0===i&&(i=!1);var r=this.config,a=r.renderSelectedChoices,o=r.searchResultLimit,l=r.renderChoiceLimit,c=this._isSearching?f.sortByScore:this.config.sorter,h=function(e){if("auto"!==a||n._isSelectOneElement||!e.selected){var i=n._getTemplate("choice",e,n.config.itemSelectText);t.appendChild(i)}},u=e;"auto"!==a||this._isSelectOneElement||(u=e.filter(function(e){return!e.selected}));var d=u.reduce(function(e,t){return t.placeholder?e.placeholderChoices.push(t):e.normalChoices.push(t),e},{placeholderChoices:[],normalChoices:[]}),p=d.placeholderChoices,m=d.normalChoices;(this.config.shouldSort||this._isSearching)&&m.sort(c);var g=u.length,v=this._isSelectOneElement?s(s([],p,!0),m,!0):m;this._isSearching?g=o:l&&l>0&&!i&&(g=l);for(var y=0;y<g;y+=1)v[y]&&h(v[y]);return t},e.prototype._createItemsFragment=function(e,t){var i=this;void 0===t&&(t=document.createDocumentFragment());var s=this.config,n=s.shouldSortItems,r=s.sorter,a=s.removeItemButton;return n&&!this._isSelectOneElement&&e.sort(r),this._isTextElement?this.passedElement.value=e.map(function(e){return e.value}).join(this.config.delimiter):this.passedElement.options=e,e.forEach(function(e){var s=i._getTemplate("item",e,a);t.appendChild(s)}),t},e.prototype._triggerChange=function(e){null!=e&&this.passedElement.triggerEvent(d.EVENTS.change,{value:e})},e.prototype._selectPlaceholderChoice=function(e){this._addItem({value:e.value,label:e.label,choiceId:e.id,groupId:e.groupId,placeholder:e.placeholder}),this._triggerChange(e.value)},e.prototype._handleButtonAction=function(e,t){if(e&&t&&this.config.removeItems&&this.config.removeItemButton){var i=t.parentNode&&t.parentNode.dataset.id,s=i&&e.find(function(e){return e.id===parseInt(i,10)});s&&(this._removeItem(s),this._triggerChange(s.value),this._isSelectOneElement&&this._store.placeholderChoice&&this._selectPlaceholderChoice(this._store.placeholderChoice))}},e.prototype._handleItemAction=function(e,t,i){var s=this;if(void 0===i&&(i=!1),e&&t&&this.config.removeItems&&!this._isSelectOneElement){var n=t.dataset.id;e.forEach(function(e){e.id!==parseInt("".concat(n),10)||e.highlighted?!i&&e.highlighted&&s.unhighlightItem(e):s.highlightItem(e)}),this.input.focus()}},e.prototype._handleChoiceAction=function(e,t){if(e&&t){var i=t.dataset.id,s=i&&this._store.getChoiceById(i);if(s){var n=e[0]&&e[0].keyCode?e[0].keyCode:void 0,r=this.dropdown.isActive;s.keyCode=n,this.passedElement.triggerEvent(d.EVENTS.choice,{choice:s}),s.selected||s.disabled||this._canAddItem(e,s.value).response&&(this._addItem({value:s.value,label:s.label,choiceId:s.id,groupId:s.groupId,customProperties:s.customProperties,placeholder:s.placeholder,keyCode:s.keyCode}),this._triggerChange(s.value)),this.clearInput(),r&&this._isSelectOneElement&&(this.hideDropdown(!0),this.containerOuter.focus())}}},e.prototype._handleBackspace=function(e){if(this.config.removeItems&&e){var t=e[e.length-1],i=e.some(function(e){return e.highlighted});this.config.editItems&&!i&&t?(this.input.value=t.value,this.input.setWidth(),this._removeItem(t),this._triggerChange(t.value)):(i||this.highlightItem(t,!1),this.removeHighlightedItems(!0))}},e.prototype._startLoading=function(){this._store.dispatch((0,h.setIsLoading)(!0))},e.prototype._stopLoading=function(){this._store.dispatch((0,h.setIsLoading)(!1))},e.prototype._handleLoadingState=function(e){void 0===e&&(e=!0);var t=this.itemList.getChild(".".concat(this.config.classNames.placeholder));e?(this.disable(),this.containerOuter.addLoadingState(),this._isSelectOneElement?t?t.innerHTML=this.config.loadingText:(t=this._getTemplate("placeholder",this.config.loadingText))&&this.itemList.append(t):this.input.placeholder=this.config.loadingText):(this.enable(),this.containerOuter.removeLoadingState(),this._isSelectOneElement?t&&(t.innerHTML=this._placeholderValue||""):this.input.placeholder=this._placeholderValue||"")},e.prototype._handleSearch=function(e){if(this.input.isFocussed){var t=this._store.choices,i=this.config,s=i.searchFloor,n=i.searchChoices,r=t.some(function(e){return!e.active});if(null!=e&&e.length>=s){var a=n?this._searchChoices(e):0;this.passedElement.triggerEvent(d.EVENTS.search,{value:e,resultCount:a})}else r&&(this._isSearching=!1,this._store.dispatch((0,o.activateChoices)(!0)))}},e.prototype._canAddItem=function(e,t){var i=!0,s="function"==typeof this.config.addItemText?this.config.addItemText(t):this.config.addItemText;if(!this._isSelectOneElement){var n=(0,f.existsInArray)(e,t);this.config.maxItemCount>0&&this.config.maxItemCount<=e.length&&(i=!1,s="function"==typeof this.config.maxItemText?this.config.maxItemText(this.config.maxItemCount):this.config.maxItemText),!this.config.duplicateItemsAllowed&&n&&i&&(i=!1,s="function"==typeof this.config.uniqueItemText?this.config.uniqueItemText(t):this.config.uniqueItemText),this._isTextElement&&this.config.addItems&&i&&"function"==typeof this.config.addItemFilter&&!this.config.addItemFilter(t)&&(i=!1,s="function"==typeof this.config.customAddItemText?this.config.customAddItemText(t):this.config.customAddItemText)}return{response:i,notice:s}},e.prototype._searchChoices=function(e){var t="string"==typeof e?e.trim():e,i="string"==typeof this._currentValue?this._currentValue.trim():this._currentValue;if(t.length<1&&t==="".concat(i," "))return 0;var n=this._store.searchableChoices,r=t,l=Object.assign(this.config.fuseOptions,{keys:s([],this.config.searchFields,!0),includeMatches:!0}),c=new a.default(n,l).search(r);return this._currentValue=t,this._highlightPosition=0,this._isSearching=!0,this._store.dispatch((0,o.filterChoices)(c)),c.length},e.prototype._addEventListeners=function(){var e=document.documentElement;e.addEventListener("touchend",this._onTouchEnd,!0),this.containerOuter.element.addEventListener("keydown",this._onKeyDown,!0),this.containerOuter.element.addEventListener("mousedown",this._onMouseDown,!0),e.addEventListener("click",this._onClick,{passive:!0}),e.addEventListener("touchmove",this._onTouchMove,{passive:!0}),this.dropdown.element.addEventListener("mouseover",this._onMouseOver,{passive:!0}),this._isSelectOneElement&&(this.containerOuter.element.addEventListener("focus",this._onFocus,{passive:!0}),this.containerOuter.element.addEventListener("blur",this._onBlur,{passive:!0})),this.input.element.addEventListener("keyup",this._onKeyUp,{passive:!0}),this.input.element.addEventListener("focus",this._onFocus,{passive:!0}),this.input.element.addEventListener("blur",this._onBlur,{passive:!0}),this.input.element.form&&this.input.element.form.addEventListener("reset",this._onFormReset,{passive:!0}),this.input.addEventListeners()},e.prototype._removeEventListeners=function(){var e=document.documentElement;e.removeEventListener("touchend",this._onTouchEnd,!0),this.containerOuter.element.removeEventListener("keydown",this._onKeyDown,!0),this.containerOuter.element.removeEventListener("mousedown",this._onMouseDown,!0),e.removeEventListener("click",this._onClick),e.removeEventListener("touchmove",this._onTouchMove),this.dropdown.element.removeEventListener("mouseover",this._onMouseOver),this._isSelectOneElement&&(this.containerOuter.element.removeEventListener("focus",this._onFocus),this.containerOuter.element.removeEventListener("blur",this._onBlur)),this.input.element.removeEventListener("keyup",this._onKeyUp),this.input.element.removeEventListener("focus",this._onFocus),this.input.element.removeEventListener("blur",this._onBlur),this.input.element.form&&this.input.element.form.removeEventListener("reset",this._onFormReset),this.input.removeEventListeners()},e.prototype._onKeyDown=function(e){var t=e.keyCode,i=this._store.activeItems,s=this.input.isFocussed,n=this.dropdown.isActive,r=this.itemList.hasChildren(),a=String.fromCharCode(t),o=/[a-zA-Z0-9-_ ]/.test(a),l=d.KEY_CODES.BACK_KEY,c=d.KEY_CODES.DELETE_KEY,h=d.KEY_CODES.ENTER_KEY,u=d.KEY_CODES.A_KEY,p=d.KEY_CODES.ESC_KEY,f=d.KEY_CODES.UP_KEY,m=d.KEY_CODES.DOWN_KEY,g=d.KEY_CODES.PAGE_UP_KEY,v=d.KEY_CODES.PAGE_DOWN_KEY;switch(this._isTextElement||n||!o||(this.showDropdown(),this.input.isFocussed||(this.input.value+=a.toLowerCase())),t){case u:return this._onSelectKey(e,r);case h:return this._onEnterKey(e,i,n);case p:return this._onEscapeKey(n);case f:case g:case m:case v:return this._onDirectionKey(e,n);case c:case l:return this._onDeleteKey(e,i,s)}},e.prototype._onKeyUp=function(e){var t=e.target,i=e.keyCode,s=this.input.value,n=this._store.activeItems,r=this._canAddItem(n,s),a=d.KEY_CODES.BACK_KEY,l=d.KEY_CODES.DELETE_KEY;if(this._isTextElement)if(r.notice&&s){var c=this._getTemplate("notice",r.notice);this.dropdown.element.innerHTML=c.outerHTML,this.showDropdown(!0)}else this.hideDropdown(!0);else{var h=(i===a||i===l)&&t&&!t.value,u=!this._isTextElement&&this._isSearching,p=this._canSearch&&r.response;h&&u?(this._isSearching=!1,this._store.dispatch((0,o.activateChoices)(!0))):p&&this._handleSearch(this.input.rawValue)}this._canSearch=this.config.searchEnabled},e.prototype._onSelectKey=function(e,t){var i=e.ctrlKey,s=e.metaKey;(i||s)&&t&&(this._canSearch=!1,this.config.removeItems&&!this.input.value&&this.input.element===document.activeElement&&this.highlightAll())},e.prototype._onEnterKey=function(e,t,i){var s=e.target,n=d.KEY_CODES.ENTER_KEY,r=s&&s.hasAttribute("data-button");if(this._isTextElement&&s&&s.value){var a=this.input.value;this._canAddItem(t,a).response&&(this.hideDropdown(!0),this._addItem({value:a}),this._triggerChange(a),this.clearInput())}if(r&&(this._handleButtonAction(t,s),e.preventDefault()),i){var o=this.dropdown.getChild(".".concat(this.config.classNames.highlightedState));o&&(t[0]&&(t[0].keyCode=n),this._handleChoiceAction(t,o)),e.preventDefault()}else this._isSelectOneElement&&(this.showDropdown(),e.preventDefault())},e.prototype._onEscapeKey=function(e){e&&(this.hideDropdown(!0),this.containerOuter.focus())},e.prototype._onDirectionKey=function(e,t){var i=e.keyCode,s=e.metaKey,n=d.KEY_CODES.DOWN_KEY,r=d.KEY_CODES.PAGE_UP_KEY,a=d.KEY_CODES.PAGE_DOWN_KEY;if(t||this._isSelectOneElement){this.showDropdown(),this._canSearch=!1;var o=i===n||i===a?1:-1,l="[data-choice-selectable]",c=void 0;if(s||i===a||i===r)c=o>0?this.dropdown.element.querySelector("".concat(l,":last-of-type")):this.dropdown.element.querySelector(l);else{var h=this.dropdown.element.querySelector(".".concat(this.config.classNames.highlightedState));c=h?(0,f.getAdjacentEl)(h,l,o):this.dropdown.element.querySelector(l)}c&&((0,f.isScrolledIntoView)(c,this.choiceList.element,o)||this.choiceList.scrollToChildElement(c,o),this._highlightChoice(c)),e.preventDefault()}},e.prototype._onDeleteKey=function(e,t,i){var s=e.target;this._isSelectOneElement||s.value||!i||(this._handleBackspace(t),e.preventDefault())},e.prototype._onTouchMove=function(){this._wasTap&&(this._wasTap=!1)},e.prototype._onTouchEnd=function(e){var t=(e||e.touches[0]).target;this._wasTap&&this.containerOuter.element.contains(t)&&((t===this.containerOuter.element||t===this.containerInner.element)&&(this._isTextElement?this.input.focus():this._isSelectMultipleElement&&this.showDropdown()),e.stopPropagation()),this._wasTap=!0},e.prototype._onMouseDown=function(e){var t=e.target;if(t instanceof HTMLElement){if(y&&this.choiceList.element.contains(t)){var i=this.choiceList.element.firstElementChild,s="ltr"===this._direction?e.offsetX>=i.offsetWidth:e.offsetX<i.offsetLeft;this._isScrollingOnIe=s}if(t!==this.input.element){var n=t.closest("[data-button],[data-item],[data-choice]");if(n instanceof HTMLElement){var r=e.shiftKey,a=this._store.activeItems,o=n.dataset;"button"in o?this._handleButtonAction(a,n):"item"in o?this._handleItemAction(a,n,r):"choice"in o&&this._handleChoiceAction(a,n)}e.preventDefault()}}},e.prototype._onMouseOver=function(e){var t=e.target;t instanceof HTMLElement&&"choice"in t.dataset&&this._highlightChoice(t)},e.prototype._onClick=function(e){var t=e.target;this.containerOuter.element.contains(t)?this.dropdown.isActive||this.containerOuter.isDisabled?this._isSelectOneElement&&t!==this.input.element&&!this.dropdown.element.contains(t)&&this.hideDropdown():this._isTextElement?document.activeElement!==this.input.element&&this.input.focus():(this.showDropdown(),this.containerOuter.focus()):(this._store.highlightedActiveItems.length>0&&this.unhighlightAll(),this.containerOuter.removeFocusState(),this.hideDropdown(!0))},e.prototype._onFocus=function(e){var t,i=this,s=e.target;s&&this.containerOuter.element.contains(s)&&((t={})[d.TEXT_TYPE]=function(){s===i.input.element&&i.containerOuter.addFocusState()},t[d.SELECT_ONE_TYPE]=function(){i.containerOuter.addFocusState(),s===i.input.element&&i.showDropdown(!0)},t[d.SELECT_MULTIPLE_TYPE]=function(){s===i.input.element&&(i.showDropdown(!0),i.containerOuter.addFocusState())},t)[this.passedElement.element.type]()},e.prototype._onBlur=function(e){var t,i=this,s=e.target;if(s&&this.containerOuter.element.contains(s)&&!this._isScrollingOnIe){var n=this._store.activeItems.some(function(e){return e.highlighted});((t={})[d.TEXT_TYPE]=function(){s===i.input.element&&(i.containerOuter.removeFocusState(),n&&i.unhighlightAll(),i.hideDropdown(!0))},t[d.SELECT_ONE_TYPE]=function(){i.containerOuter.removeFocusState(),(s===i.input.element||s===i.containerOuter.element&&!i._canSearch)&&i.hideDropdown(!0)},t[d.SELECT_MULTIPLE_TYPE]=function(){s===i.input.element&&(i.containerOuter.removeFocusState(),i.hideDropdown(!0),n&&i.unhighlightAll())},t)[this.passedElement.element.type]()}else this._isScrollingOnIe=!1,this.input.element.focus()},e.prototype._onFormReset=function(){this._store.dispatch((0,h.resetTo)(this._initialState))},e.prototype._highlightChoice=function(e){var t=this;void 0===e&&(e=null);var i=Array.from(this.dropdown.element.querySelectorAll("[data-choice-selectable]"));if(i.length){var s=e;Array.from(this.dropdown.element.querySelectorAll(".".concat(this.config.classNames.highlightedState))).forEach(function(e){e.classList.remove(t.config.classNames.highlightedState),e.setAttribute("aria-selected","false")}),s?this._highlightPosition=i.indexOf(s):(s=i.length>this._highlightPosition?i[this._highlightPosition]:i[i.length-1])||(s=i[0]),s.classList.add(this.config.classNames.highlightedState),s.setAttribute("aria-selected","true"),this.passedElement.triggerEvent(d.EVENTS.highlightChoice,{el:s}),this.dropdown.isActive&&(this.input.setActiveDescendant(s.id),this.containerOuter.setActiveDescendant(s.id))}},e.prototype._addItem=function(e){var t=e.value,i=e.label,s=void 0===i?null:i,n=e.choiceId,r=void 0===n?-1:n,a=e.groupId,o=void 0===a?-1:a,l=e.customProperties,h=void 0===l?{}:l,u=e.placeholder,p=void 0!==u&&u,f=e.keyCode,m=void 0===f?-1:f,g="string"==typeof t?t.trim():t,v=this._store.items,y=s||g,b=r||-1,w=o>=0?this._store.getGroupById(o):null,x=v?v.length+1:1;this.config.prependValue&&(g=this.config.prependValue+g.toString()),this.config.appendValue&&(g+=this.config.appendValue.toString()),this._store.dispatch((0,c.addItem)({value:g,label:y,id:x,choiceId:b,groupId:o,customProperties:h,placeholder:p,keyCode:m})),this._isSelectOneElement&&this.removeActiveItems(x),this.passedElement.triggerEvent(d.EVENTS.addItem,{id:x,value:g,label:y,customProperties:h,groupValue:w&&w.value?w.value:null,keyCode:m})},e.prototype._removeItem=function(e){var t=e.id,i=e.value,s=e.label,n=e.customProperties,r=e.choiceId,a=e.groupId,o=a&&a>=0?this._store.getGroupById(a):null;t&&r&&(this._store.dispatch((0,c.removeItem)(t,r)),this.passedElement.triggerEvent(d.EVENTS.removeItem,{id:t,value:i,label:s,customProperties:n,groupValue:o&&o.value?o.value:null}))},e.prototype._addChoice=function(e){var t=e.value,i=e.label,s=void 0===i?null:i,n=e.isSelected,r=void 0!==n&&n,a=e.isDisabled,l=void 0!==a&&a,c=e.groupId,h=void 0===c?-1:c,u=e.customProperties,d=void 0===u?{}:u,p=e.placeholder,f=void 0!==p&&p,m=e.keyCode,g=void 0===m?-1:m;if(null!=t){var v=this._store.choices,y=s||t,b=v?v.length+1:1,w="".concat(this._baseId,"-").concat(this._idNames.itemChoice,"-").concat(b);this._store.dispatch((0,o.addChoice)({id:b,groupId:h,elementId:w,value:t,label:y,disabled:l,customProperties:d,placeholder:f,keyCode:g})),r&&this._addItem({value:t,label:y,choiceId:b,customProperties:d,placeholder:f,keyCode:g})}},e.prototype._addGroup=function(e){var t=this,i=e.group,s=e.id,n=e.valueKey,r=void 0===n?"value":n,a=e.labelKey,o=void 0===a?"label":a,c=(0,f.isType)("Object",i)?i.choices:Array.from(i.getElementsByTagName("OPTION")),h=s||Math.floor((new Date).valueOf()*Math.random()),u=!!i.disabled&&i.disabled;c?(this._store.dispatch((0,l.addGroup)({value:i.label,id:h,active:!0,disabled:u})),c.forEach(function(e){var i=e.disabled||e.parentNode&&e.parentNode.disabled;t._addChoice({value:e[r],label:(0,f.isType)("Object",e)?e[o]:e.innerHTML,isSelected:e.selected,isDisabled:i,groupId:h,customProperties:e.customProperties,placeholder:e.placeholder})})):this._store.dispatch((0,l.addGroup)({value:i.label,id:i.id,active:!1,disabled:i.disabled}))},e.prototype._getTemplate=function(e){for(var t,i=[],n=1;n<arguments.length;n++)i[n-1]=arguments[n];return(t=this._templates[e]).call.apply(t,s([this,this.config],i,!1))},e.prototype._createTemplates=function(){var e=this.config.callbackOnCreateTemplates,t={};e&&"function"==typeof e&&(t=e.call(this,f.strToEl)),this._templates=(0,r.default)(v.default,t)},e.prototype._createElements=function(){this.containerOuter=new u.Container({element:this._getTemplate("containerOuter",this._direction,this._isSelectElement,this._isSelectOneElement,this.config.searchEnabled,this.passedElement.element.type,this.config.labelId),classNames:this.config.classNames,type:this.passedElement.element.type,position:this.config.position}),this.containerInner=new u.Container({element:this._getTemplate("containerInner"),classNames:this.config.classNames,type:this.passedElement.element.type,position:this.config.position}),this.input=new u.Input({element:this._getTemplate("input",this._placeholderValue),classNames:this.config.classNames,type:this.passedElement.element.type,preventPaste:!this.config.paste}),this.choiceList=new u.List({element:this._getTemplate("choiceList",this._isSelectOneElement)}),this.itemList=new u.List({element:this._getTemplate("itemList",this._isSelectOneElement)}),this.dropdown=new u.Dropdown({element:this._getTemplate("dropdown"),classNames:this.config.classNames,type:this.passedElement.element.type})},e.prototype._createStructure=function(){this.passedElement.conceal(),this.containerInner.wrap(this.passedElement.element),this.containerOuter.wrap(this.containerInner.element),this._isSelectOneElement?this.input.placeholder=this.config.searchPlaceholderValue||"":this._placeholderValue&&(this.input.placeholder=this._placeholderValue,this.input.setWidth()),this.containerOuter.element.appendChild(this.containerInner.element),this.containerOuter.element.appendChild(this.dropdown.element),this.containerInner.element.appendChild(this.itemList.element),this._isTextElement||this.dropdown.element.appendChild(this.choiceList.element),this._isSelectOneElement?this.config.searchEnabled&&this.dropdown.element.insertBefore(this.input.element,this.dropdown.element.firstChild):this.containerInner.element.appendChild(this.input.element),this._isSelectElement&&(this._highlightPosition=0,this._isSearching=!1,this._startLoading(),this._presetGroups.length?this._addPredefinedGroups(this._presetGroups):this._addPredefinedChoices(this._presetChoices),this._stopLoading()),this._isTextElement&&this._addPredefinedItems(this._presetItems)},e.prototype._addPredefinedGroups=function(e){var t=this,i=this.passedElement.placeholderOption;i&&i.parentNode&&"SELECT"===i.parentNode.tagName&&this._addChoice({value:i.value,label:i.innerHTML,isSelected:i.selected,isDisabled:i.disabled,placeholder:!0}),e.forEach(function(e){return t._addGroup({group:e,id:e.id||null})})},e.prototype._addPredefinedChoices=function(e){var t=this;this.config.shouldSort&&e.sort(this.config.sorter);var i=e.some(function(e){return e.selected}),s=e.findIndex(function(e){return void 0===e.disabled||!e.disabled});e.forEach(function(e,n){var r=e.value,a=void 0===r?"":r,o=e.label,l=e.customProperties,c=e.placeholder;if(t._isSelectElement)if(e.choices)t._addGroup({group:e,id:e.id||null});else{var h=!(!t._isSelectOneElement||i||n!==s)||e.selected,u=e.disabled;t._addChoice({value:a,label:o,isSelected:!!h,isDisabled:!!u,placeholder:!!c,customProperties:l})}else t._addChoice({value:a,label:o,isSelected:!!e.selected,isDisabled:!!e.disabled,placeholder:!!e.placeholder,customProperties:l})})},e.prototype._addPredefinedItems=function(e){var t=this;e.forEach(function(e){"object"==typeof e&&e.value&&t._addItem({value:e.value,label:e.label,choiceId:e.id,customProperties:e.customProperties,placeholder:e.placeholder}),"string"==typeof e&&t._addItem({value:e})})},e.prototype._setChoiceOrItem=function(e){var t=this;({object:function(){e.value&&(t._isTextElement?t._addItem({value:e.value,label:e.label,choiceId:e.id,customProperties:e.customProperties,placeholder:e.placeholder}):t._addChoice({value:e.value,label:e.label,isSelected:!0,isDisabled:!1,customProperties:e.customProperties,placeholder:e.placeholder}))},string:function(){t._isTextElement?t._addItem({value:e}):t._addChoice({value:e,label:e,isSelected:!0,isDisabled:!1})}})[(0,f.getType)(e).toLowerCase()]()},e.prototype._findAndSelectChoiceByValue=function(e){var t=this,i=this._store.choices.find(function(i){return t.config.valueComparer(i.value,e)});i&&!i.selected&&this._addItem({value:i.value,label:i.label,choiceId:i.id,groupId:i.groupId,customProperties:i.customProperties,placeholder:i.placeholder,keyCode:i.keyCode})},e.prototype._generatePlaceholderValue=function(){if(this._isSelectElement&&this.passedElement.placeholderOption){var e=this.passedElement.placeholderOption;return e?e.text:null}var t=this.config,i=t.placeholder,s=t.placeholderValue,n=this.passedElement.element.dataset;if(i){if(s)return s;if(n.placeholder)return n.placeholder}return null},e}();t.default=w},613:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0});var s=i(799),n=i(883),r=function(){function e(e){var t=e.element,i=e.type,s=e.classNames,n=e.position;this.element=t,this.classNames=s,this.type=i,this.position=n,this.isOpen=!1,this.isFlipped=!1,this.isFocussed=!1,this.isDisabled=!1,this.isLoading=!1,this._onFocus=this._onFocus.bind(this),this._onBlur=this._onBlur.bind(this)}return e.prototype.addEventListeners=function(){this.element.addEventListener("focus",this._onFocus),this.element.addEventListener("blur",this._onBlur)},e.prototype.removeEventListeners=function(){this.element.removeEventListener("focus",this._onFocus),this.element.removeEventListener("blur",this._onBlur)},e.prototype.shouldFlip=function(e){if("number"!=typeof e)return!1;var t=!1;return"auto"===this.position?t=!window.matchMedia("(min-height: ".concat(e+1,"px)")).matches:"top"===this.position&&(t=!0),t},e.prototype.setActiveDescendant=function(e){this.element.setAttribute("aria-activedescendant",e)},e.prototype.removeActiveDescendant=function(){this.element.removeAttribute("aria-activedescendant")},e.prototype.open=function(e){this.element.classList.add(this.classNames.openState),this.element.setAttribute("aria-expanded","true"),this.isOpen=!0,this.shouldFlip(e)&&(this.element.classList.add(this.classNames.flippedState),this.isFlipped=!0)},e.prototype.close=function(){this.element.classList.remove(this.classNames.openState),this.element.setAttribute("aria-expanded","false"),this.removeActiveDescendant(),this.isOpen=!1,this.isFlipped&&(this.element.classList.remove(this.classNames.flippedState),this.isFlipped=!1)},e.prototype.focus=function(){this.isFocussed||this.element.focus()},e.prototype.addFocusState=function(){this.element.classList.add(this.classNames.focusState)},e.prototype.removeFocusState=function(){this.element.classList.remove(this.classNames.focusState)},e.prototype.enable=function(){this.element.classList.remove(this.classNames.disabledState),this.element.removeAttribute("aria-disabled"),this.type===n.SELECT_ONE_TYPE&&this.element.setAttribute("tabindex","0"),this.isDisabled=!1},e.prototype.disable=function(){this.element.classList.add(this.classNames.disabledState),this.element.setAttribute("aria-disabled","true"),this.type===n.SELECT_ONE_TYPE&&this.element.setAttribute("tabindex","-1"),this.isDisabled=!0},e.prototype.wrap=function(e){(0,s.wrap)(e,this.element)},e.prototype.unwrap=function(e){this.element.parentNode&&(this.element.parentNode.insertBefore(e,this.element),this.element.parentNode.removeChild(this.element))},e.prototype.addLoadingState=function(){this.element.classList.add(this.classNames.loadingState),this.element.setAttribute("aria-busy","true"),this.isLoading=!0},e.prototype.removeLoadingState=function(){this.element.classList.remove(this.classNames.loadingState),this.element.removeAttribute("aria-busy"),this.isLoading=!1},e.prototype._onFocus=function(){this.isFocussed=!0},e.prototype._onBlur=function(){this.isFocussed=!1},e}();t.default=r},217:function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e){var t=e.element,i=e.type,s=e.classNames;this.element=t,this.classNames=s,this.type=i,this.isActive=!1}return Object.defineProperty(e.prototype,"distanceFromTopWindow",{get:function(){return this.element.getBoundingClientRect().bottom},enumerable:!1,configurable:!0}),e.prototype.getChild=function(e){return this.element.querySelector(e)},e.prototype.show=function(){return this.element.classList.add(this.classNames.activeState),this.element.setAttribute("aria-expanded","true"),this.isActive=!0,this},e.prototype.hide=function(){return this.element.classList.remove(this.classNames.activeState),this.element.setAttribute("aria-expanded","false"),this.isActive=!1,this},e}();t.default=i},520:function(e,t,i){var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.WrappedSelect=t.WrappedInput=t.List=t.Input=t.Container=t.Dropdown=void 0;var n=s(i(217));t.Dropdown=n.default;var r=s(i(613));t.Container=r.default;var a=s(i(11));t.Input=a.default;var o=s(i(624));t.List=o.default;var l=s(i(541));t.WrappedInput=l.default;var c=s(i(982));t.WrappedSelect=c.default},11:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0});var s=i(799),n=i(883),r=function(){function e(e){var t=e.element,i=e.type,s=e.classNames,n=e.preventPaste;this.element=t,this.type=i,this.classNames=s,this.preventPaste=n,this.isFocussed=this.element.isEqualNode(document.activeElement),this.isDisabled=t.disabled,this._onPaste=this._onPaste.bind(this),this._onInput=this._onInput.bind(this),this._onFocus=this._onFocus.bind(this),this._onBlur=this._onBlur.bind(this)}return Object.defineProperty(e.prototype,"placeholder",{set:function(e){this.element.placeholder=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){return(0,s.sanitise)(this.element.value)},set:function(e){this.element.value=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rawValue",{get:function(){return this.element.value},enumerable:!1,configurable:!0}),e.prototype.addEventListeners=function(){this.element.addEventListener("paste",this._onPaste),this.element.addEventListener("input",this._onInput,{passive:!0}),this.element.addEventListener("focus",this._onFocus,{passive:!0}),this.element.addEventListener("blur",this._onBlur,{passive:!0})},e.prototype.removeEventListeners=function(){this.element.removeEventListener("input",this._onInput),this.element.removeEventListener("paste",this._onPaste),this.element.removeEventListener("focus",this._onFocus),this.element.removeEventListener("blur",this._onBlur)},e.prototype.enable=function(){this.element.removeAttribute("disabled"),this.isDisabled=!1},e.prototype.disable=function(){this.element.setAttribute("disabled",""),this.isDisabled=!0},e.prototype.focus=function(){this.isFocussed||this.element.focus()},e.prototype.blur=function(){this.isFocussed&&this.element.blur()},e.prototype.clear=function(e){return void 0===e&&(e=!0),this.element.value&&(this.element.value=""),e&&this.setWidth(),this},e.prototype.setWidth=function(){var e=this.element,t=e.style,i=e.value,s=e.placeholder;t.minWidth="".concat(s.length+1,"ch"),t.width="".concat(i.length+1,"ch")},e.prototype.setActiveDescendant=function(e){this.element.setAttribute("aria-activedescendant",e)},e.prototype.removeActiveDescendant=function(){this.element.removeAttribute("aria-activedescendant")},e.prototype._onInput=function(){this.type!==n.SELECT_ONE_TYPE&&this.setWidth()},e.prototype._onPaste=function(e){this.preventPaste&&e.preventDefault()},e.prototype._onFocus=function(){this.isFocussed=!0},e.prototype._onBlur=function(){this.isFocussed=!1},e}();t.default=r},624:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0});var s=i(883),n=function(){function e(e){var t=e.element;this.element=t,this.scrollPos=this.element.scrollTop,this.height=this.element.offsetHeight}return e.prototype.clear=function(){this.element.innerHTML=""},e.prototype.append=function(e){this.element.appendChild(e)},e.prototype.getChild=function(e){return this.element.querySelector(e)},e.prototype.hasChildren=function(){return this.element.hasChildNodes()},e.prototype.scrollToTop=function(){this.element.scrollTop=0},e.prototype.scrollToChildElement=function(e,t){var i=this;if(e){var s=this.element.offsetHeight,n=this.element.scrollTop+s,r=e.offsetHeight,a=e.offsetTop+r,o=t>0?this.element.scrollTop+a-n:e.offsetTop;requestAnimationFrame(function(){i._animateScroll(o,t)})}},e.prototype._scrollDown=function(e,t,i){var s=(i-e)/t,n=s>1?s:1;this.element.scrollTop=e+n},e.prototype._scrollUp=function(e,t,i){var s=(e-i)/t,n=s>1?s:1;this.element.scrollTop=e-n},e.prototype._animateScroll=function(e,t){var i=this,n=s.SCROLLING_SPEED,r=this.element.scrollTop,a=!1;t>0?(this._scrollDown(r,n,e),r<e&&(a=!0)):(this._scrollUp(r,n,e),r>e&&(a=!0)),a&&requestAnimationFrame(function(){i._animateScroll(e,t)})},e}();t.default=n},730:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0});var s=i(799),n=function(){function e(e){var t=e.element,i=e.classNames;if(this.element=t,this.classNames=i,!(t instanceof HTMLInputElement||t instanceof HTMLSelectElement))throw new TypeError("Invalid element passed");this.isDisabled=!1}return Object.defineProperty(e.prototype,"isActive",{get:function(){return"active"===this.element.dataset.choice},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dir",{get:function(){return this.element.dir},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){return this.element.value},set:function(e){this.element.value=e},enumerable:!1,configurable:!0}),e.prototype.conceal=function(){this.element.classList.add(this.classNames.input),this.element.hidden=!0,this.element.tabIndex=-1;var e=this.element.getAttribute("style");e&&this.element.setAttribute("data-choice-orig-style",e),this.element.setAttribute("data-choice","active")},e.prototype.reveal=function(){this.element.classList.remove(this.classNames.input),this.element.hidden=!1,this.element.removeAttribute("tabindex");var e=this.element.getAttribute("data-choice-orig-style");e?(this.element.removeAttribute("data-choice-orig-style"),this.element.setAttribute("style",e)):this.element.removeAttribute("style"),this.element.removeAttribute("data-choice"),this.element.value=this.element.value},e.prototype.enable=function(){this.element.removeAttribute("disabled"),this.element.disabled=!1,this.isDisabled=!1},e.prototype.disable=function(){this.element.setAttribute("disabled",""),this.element.disabled=!0,this.isDisabled=!0},e.prototype.triggerEvent=function(e,t){(0,s.dispatchEvent)(this.element,e,t)},e}();t.default=n},541:function(e,t,i){var s,n=this&&this.__extends||(s=function(e,t){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function i(){this.constructor=e}s(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(t){var i=t.element,s=t.classNames,n=t.delimiter,r=e.call(this,{element:i,classNames:s})||this;return r.delimiter=n,r}return n(t,e),Object.defineProperty(t.prototype,"value",{get:function(){return this.element.value},set:function(e){this.element.setAttribute("value",e),this.element.value=e},enumerable:!1,configurable:!0}),t}(r(i(730)).default);t.default=a},982:function(e,t,i){var s,n=this&&this.__extends||(s=function(e,t){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function i(){this.constructor=e}s(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(t){var i=t.element,s=t.classNames,n=t.template,r=e.call(this,{element:i,classNames:s})||this;return r.template=n,r}return n(t,e),Object.defineProperty(t.prototype,"placeholderOption",{get:function(){return this.element.querySelector('option[value=""]')||this.element.querySelector("option[placeholder]")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"optionGroups",{get:function(){return Array.from(this.element.getElementsByTagName("OPTGROUP"))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return Array.from(this.element.options)},set:function(e){var t=this,i=document.createDocumentFragment();e.forEach(function(e){return s=e,n=t.template(s),void i.appendChild(n);var s,n}),this.appendDocFragment(i)},enumerable:!1,configurable:!0}),t.prototype.appendDocFragment=function(e){this.element.innerHTML="",this.element.appendChild(e)},t}(r(i(730)).default);t.default=a},883:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.SCROLLING_SPEED=t.SELECT_MULTIPLE_TYPE=t.SELECT_ONE_TYPE=t.TEXT_TYPE=t.KEY_CODES=t.ACTION_TYPES=t.EVENTS=void 0,t.EVENTS={showDropdown:"showDropdown",hideDropdown:"hideDropdown",change:"change",choice:"choice",search:"search",addItem:"addItem",removeItem:"removeItem",highlightItem:"highlightItem",highlightChoice:"highlightChoice",unhighlightItem:"unhighlightItem"},t.ACTION_TYPES={ADD_CHOICE:"ADD_CHOICE",FILTER_CHOICES:"FILTER_CHOICES",ACTIVATE_CHOICES:"ACTIVATE_CHOICES",CLEAR_CHOICES:"CLEAR_CHOICES",ADD_GROUP:"ADD_GROUP",ADD_ITEM:"ADD_ITEM",REMOVE_ITEM:"REMOVE_ITEM",HIGHLIGHT_ITEM:"HIGHLIGHT_ITEM",CLEAR_ALL:"CLEAR_ALL",RESET_TO:"RESET_TO",SET_IS_LOADING:"SET_IS_LOADING"},t.KEY_CODES={BACK_KEY:46,DELETE_KEY:8,ENTER_KEY:13,A_KEY:65,ESC_KEY:27,UP_KEY:38,DOWN_KEY:40,PAGE_UP_KEY:33,PAGE_DOWN_KEY:34},t.TEXT_TYPE="text",t.SELECT_ONE_TYPE="select-one",t.SELECT_MULTIPLE_TYPE="select-multiple",t.SCROLLING_SPEED=4},789:function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_CONFIG=t.DEFAULT_CLASSNAMES=void 0;var s=i(799);t.DEFAULT_CLASSNAMES={containerOuter:"choices",containerInner:"choices__inner",input:"choices__input",inputCloned:"choices__input--cloned",list:"choices__list",listItems:"choices__list--multiple",listSingle:"choices__list--single",listDropdown:"choices__list--dropdown",item:"choices__item",itemSelectable:"choices__item--selectable",itemDisabled:"choices__item--disabled",itemChoice:"choices__item--choice",placeholder:"choices__placeholder",group:"choices__group",groupHeading:"choices__heading",button:"choices__button",activeState:"is-active",focusState:"is-focused",openState:"is-open",disabledState:"is-disabled",highlightedState:"is-highlighted",selectedState:"is-selected",flippedState:"is-flipped",loadingState:"is-loading",noResults:"has-no-results",noChoices:"has-no-choices"},t.DEFAULT_CONFIG={items:[],choices:[],silent:!1,renderChoiceLimit:-1,maxItemCount:-1,addItems:!0,addItemFilter:null,removeItems:!0,removeItemButton:!1,editItems:!1,allowHTML:!0,duplicateItemsAllowed:!0,delimiter:",",paste:!0,searchEnabled:!0,searchChoices:!0,searchFloor:1,searchResultLimit:4,searchFields:["label","value"],position:"auto",resetScrollPosition:!0,shouldSort:!0,shouldSortItems:!1,sorter:s.sortByAlpha,placeholder:!0,placeholderValue:null,searchPlaceholderValue:null,prependValue:null,appendValue:null,renderSelectedChoices:"auto",loadingText:"Loading...",noResultsText:"No results found",noChoicesText:"No choices to choose from",itemSelectText:"Press to select",uniqueItemText:"Only unique values can be added",customAddItemText:"Only values matching specific conditions can be added",addItemText:function(e){return'Press Enter to add <b>"'.concat((0,s.sanitise)(e),'"</b>')},maxItemText:function(e){return"Only ".concat(e," values can be added")},valueComparer:function(e,t){return e===t},fuseOptions:{includeScore:!0},labelId:"",callbackOnInit:null,callbackOnCreateTemplates:null,classNames:t.DEFAULT_CLASSNAMES}},18:function(e,t){Object.defineProperty(t,"__esModule",{value:!0})},978:function(e,t){Object.defineProperty(t,"__esModule",{value:!0})},948:function(e,t){Object.defineProperty(t,"__esModule",{value:!0})},359:function(e,t){Object.defineProperty(t,"__esModule",{value:!0})},285:function(e,t){Object.defineProperty(t,"__esModule",{value:!0})},533:function(e,t){Object.defineProperty(t,"__esModule",{value:!0})},187:function(e,t,i){var s=this&&this.__createBinding||(Object.create?function(e,t,i,s){void 0===s&&(s=i),Object.defineProperty(e,s,{enumerable:!0,get:function(){return t[i]}})}:function(e,t,i,s){void 0===s&&(s=i),e[s]=t[i]}),n=this&&this.__exportStar||function(e,t){for(var i in e)"default"===i||Object.prototype.hasOwnProperty.call(t,i)||s(t,e,i)};Object.defineProperty(t,"__esModule",{value:!0}),n(i(18),t),n(i(978),t),n(i(948),t),n(i(359),t),n(i(285),t),n(i(533),t),n(i(287),t),n(i(132),t),n(i(837),t),n(i(598),t),n(i(369),t),n(i(37),t),n(i(47),t),n(i(923),t),n(i(876),t)},287:function(e,t){Object.defineProperty(t,"__esModule",{value:!0})},132:function(e,t){Object.defineProperty(t,"__esModule",{value:!0})},837:function(e,t){Object.defineProperty(t,"__esModule",{value:!0})},598:function(e,t){Object.defineProperty(t,"__esModule",{value:!0})},37:function(e,t){Object.defineProperty(t,"__esModule",{value:!0})},369:function(e,t){Object.defineProperty(t,"__esModule",{value:!0})},47:function(e,t){Object.defineProperty(t,"__esModule",{value:!0})},923:function(e,t){Object.defineProperty(t,"__esModule",{value:!0})},876:function(e,t){Object.defineProperty(t,"__esModule",{value:!0})},799:function(e,t){var i;Object.defineProperty(t,"__esModule",{value:!0}),t.diff=t.cloneObject=t.existsInArray=t.dispatchEvent=t.sortByScore=t.sortByAlpha=t.strToEl=t.sanitise=t.isScrolledIntoView=t.getAdjacentEl=t.wrap=t.isType=t.getType=t.generateId=t.generateChars=t.getRandomNumber=void 0,t.getRandomNumber=function(e,t){return Math.floor(Math.random()*(t-e)+e)},t.generateChars=function(e){return Array.from({length:e},function(){return(0,t.getRandomNumber)(0,36).toString(36)}).join("")},t.generateId=function(e,i){var s=e.id||e.name&&"".concat(e.name,"-").concat((0,t.generateChars)(2))||(0,t.generateChars)(4);return s=s.replace(/(:|\.|\[|\]|,)/g,""),"".concat(i,"-").concat(s)},t.getType=function(e){return Object.prototype.toString.call(e).slice(8,-1)},t.isType=function(e,i){return null!=i&&(0,t.getType)(i)===e},t.wrap=function(e,t){return void 0===t&&(t=document.createElement("div")),e.parentNode&&(e.nextSibling?e.parentNode.insertBefore(t,e.nextSibling):e.parentNode.appendChild(t)),t.appendChild(e)},t.getAdjacentEl=function(e,t,i){void 0===i&&(i=1);for(var s="".concat(i>0?"next":"previous","ElementSibling"),n=e[s];n;){if(n.matches(t))return n;n=n[s]}return n},t.isScrolledIntoView=function(e,t,i){return void 0===i&&(i=1),!!e&&(i>0?t.scrollTop+t.offsetHeight>=e.offsetTop+e.offsetHeight:e.offsetTop>=t.scrollTop)},t.sanitise=function(e){return"string"!=typeof e?e:e.replace(/&/g,"&amp;").replace(/>/g,"&gt;").replace(/</g,"&lt;").replace(/"/g,"&quot;")},t.strToEl=(i=document.createElement("div"),function(e){var t=e.trim();i.innerHTML=t;for(var s=i.children[0];i.firstChild;)i.removeChild(i.firstChild);return s}),t.sortByAlpha=function(e,t){var i=e.value,s=e.label,n=void 0===s?i:s,r=t.value,a=t.label,o=void 0===a?r:a;return n.localeCompare(o,[],{sensitivity:"base",ignorePunctuation:!0,numeric:!0})},t.sortByScore=function(e,t){var i=e.score,s=void 0===i?0:i,n=t.score;return s-(void 0===n?0:n)},t.dispatchEvent=function(e,t,i){void 0===i&&(i=null);var s=new CustomEvent(t,{detail:i,bubbles:!0,cancelable:!0});return e.dispatchEvent(s)},t.existsInArray=function(e,t,i){return void 0===i&&(i="value"),e.some(function(e){return"string"==typeof t?e[i]===t.trim():e[i]===t})},t.cloneObject=function(e){return JSON.parse(JSON.stringify(e))},t.diff=function(e,t){var i=Object.keys(e).sort(),s=Object.keys(t).sort();return i.filter(function(e){return s.indexOf(e)<0})}},273:function(e,t){var i=this&&this.__spreadArray||function(e,t,i){if(i||2===arguments.length)for(var s,n=0,r=t.length;n<r;n++)!s&&n in t||(s||(s=Array.prototype.slice.call(t,0,n)),s[n]=t[n]);return e.concat(s||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.defaultState=void 0,t.defaultState=[],t.default=function(e,s){switch(void 0===e&&(e=t.defaultState),void 0===s&&(s={}),s.type){case"ADD_CHOICE":var n=s,r={id:n.id,elementId:n.elementId,groupId:n.groupId,value:n.value,label:n.label||n.value,disabled:n.disabled||!1,selected:!1,active:!0,score:9999,customProperties:n.customProperties,placeholder:n.placeholder||!1};return i(i([],e,!0),[r],!1);case"ADD_ITEM":var a=s;return a.choiceId>-1?e.map(function(e){var t=e;return t.id===parseInt("".concat(a.choiceId),10)&&(t.selected=!0),t}):e;case"REMOVE_ITEM":var o=s;return o.choiceId&&o.choiceId>-1?e.map(function(e){var t=e;return t.id===parseInt("".concat(o.choiceId),10)&&(t.selected=!1),t}):e;case"FILTER_CHOICES":var l=s;return e.map(function(e){var t=e;return t.active=l.results.some(function(e){var i=e.item,s=e.score;return i.id===t.id&&(t.score=s,!0)}),t});case"ACTIVATE_CHOICES":var c=s;return e.map(function(e){var t=e;return t.active=c.active,t});case"CLEAR_CHOICES":return t.defaultState;default:return e}}},871:function(e,t){var i=this&&this.__spreadArray||function(e,t,i){if(i||2===arguments.length)for(var s,n=0,r=t.length;n<r;n++)!s&&n in t||(s||(s=Array.prototype.slice.call(t,0,n)),s[n]=t[n]);return e.concat(s||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.defaultState=void 0,t.defaultState=[],t.default=function(e,s){switch(void 0===e&&(e=t.defaultState),void 0===s&&(s={}),s.type){case"ADD_GROUP":var n=s;return i(i([],e,!0),[{id:n.id,value:n.value,active:n.active,disabled:n.disabled}],!1);case"CLEAR_CHOICES":return[];default:return e}}},655:function(e,t,i){var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.defaultState=void 0;var n=i(857),r=s(i(52)),a=s(i(871)),o=s(i(273)),l=s(i(502)),c=i(799);t.defaultState={groups:[],items:[],choices:[],loading:!1};var h=(0,n.combineReducers)({items:r.default,groups:a.default,choices:o.default,loading:l.default});t.default=function(e,i){var s=e;if("CLEAR_ALL"===i.type)s=t.defaultState;else if("RESET_TO"===i.type)return(0,c.cloneObject)(i.state);return h(s,i)}},52:function(e,t){var i=this&&this.__spreadArray||function(e,t,i){if(i||2===arguments.length)for(var s,n=0,r=t.length;n<r;n++)!s&&n in t||(s||(s=Array.prototype.slice.call(t,0,n)),s[n]=t[n]);return e.concat(s||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.defaultState=void 0,t.defaultState=[],t.default=function(e,s){switch(void 0===e&&(e=t.defaultState),void 0===s&&(s={}),s.type){case"ADD_ITEM":var n=s;return i(i([],e,!0),[{id:n.id,choiceId:n.choiceId,groupId:n.groupId,value:n.value,label:n.label,active:!0,highlighted:!1,customProperties:n.customProperties,placeholder:n.placeholder||!1,keyCode:null}],!1).map(function(e){var t=e;return t.highlighted=!1,t});case"REMOVE_ITEM":return e.map(function(e){var t=e;return t.id===s.id&&(t.active=!1),t});case"HIGHLIGHT_ITEM":var r=s;return e.map(function(e){var t=e;return t.id===r.id&&(t.highlighted=r.highlighted),t});default:return e}}},502:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.defaultState=void 0,t.defaultState=!1,t.default=function(e,i){return void 0===e&&(e=t.defaultState),void 0===i&&(i={}),"SET_IS_LOADING"===i.type?i.isLoading:e}},744:function(e,t,i){var s=this&&this.__spreadArray||function(e,t,i){if(i||2===arguments.length)for(var s,n=0,r=t.length;n<r;n++)!s&&n in t||(s||(s=Array.prototype.slice.call(t,0,n)),s[n]=t[n]);return e.concat(s||Array.prototype.slice.call(t))},n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var r=i(857),a=n(i(655)),o=function(){function e(){this._store=(0,r.createStore)(a.default,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__())}return e.prototype.subscribe=function(e){this._store.subscribe(e)},e.prototype.dispatch=function(e){this._store.dispatch(e)},Object.defineProperty(e.prototype,"state",{get:function(){return this._store.getState()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"items",{get:function(){return this.state.items},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"activeItems",{get:function(){return this.items.filter(function(e){return!0===e.active})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"highlightedActiveItems",{get:function(){return this.items.filter(function(e){return e.active&&e.highlighted})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"choices",{get:function(){return this.state.choices},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"activeChoices",{get:function(){return this.choices.filter(function(e){return!0===e.active})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"selectableChoices",{get:function(){return this.choices.filter(function(e){return!0!==e.disabled})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"searchableChoices",{get:function(){return this.selectableChoices.filter(function(e){return!0!==e.placeholder})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"placeholderChoice",{get:function(){return s([],this.choices,!0).reverse().find(function(e){return!0===e.placeholder})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"groups",{get:function(){return this.state.groups},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"activeGroups",{get:function(){var e=this.groups,t=this.choices;return e.filter(function(e){var i=!0===e.active&&!1===e.disabled,s=t.some(function(e){return!0===e.active&&!1===e.disabled});return i&&s},[])},enumerable:!1,configurable:!0}),e.prototype.isLoading=function(){return this.state.loading},e.prototype.getChoiceById=function(e){return this.activeChoices.find(function(t){return t.id===parseInt(e,10)})},e.prototype.getGroupById=function(e){return this.groups.find(function(t){return t.id===e})},e}();t.default=o},686:function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var i={containerOuter:function(e,t,i,s,n,r,a){var o=e.classNames.containerOuter,l=Object.assign(document.createElement("div"),{className:o});return l.dataset.type=r,t&&(l.dir=t),s&&(l.tabIndex=0),i&&(l.setAttribute("role",n?"combobox":"listbox"),n&&l.setAttribute("aria-autocomplete","list")),l.setAttribute("aria-haspopup","true"),l.setAttribute("aria-expanded","false"),a&&l.setAttribute("aria-labeledby",a),l},containerInner:function(e){var t=e.classNames.containerInner;return Object.assign(document.createElement("div"),{className:t})},itemList:function(e,t){var i=e.classNames,s=i.list,n=i.listSingle,r=i.listItems;return Object.assign(document.createElement("div"),{className:"".concat(s," ").concat(t?n:r)})},placeholder:function(e,t){var i,s=e.allowHTML,n=e.classNames.placeholder;return Object.assign(document.createElement("div"),((i={className:n})[s?"innerHTML":"innerText"]=t,i))},item:function(e,t,i){var s,n,r=e.allowHTML,a=e.classNames,o=a.item,l=a.button,c=a.highlightedState,h=a.itemSelectable,u=a.placeholder,d=t.id,p=t.value,f=t.label,m=t.customProperties,g=t.active,v=t.disabled,y=t.highlighted,b=t.placeholder,w=Object.assign(document.createElement("div"),((s={className:o})[r?"innerHTML":"innerText"]=f,s));if(Object.assign(w.dataset,{item:"",id:d,value:p,customProperties:m}),g&&w.setAttribute("aria-selected","true"),v&&w.setAttribute("aria-disabled","true"),b&&w.classList.add(u),w.classList.add(y?c:h),i){v&&w.classList.remove(h),w.dataset.deletable="";var x="Remove item",_=Object.assign(document.createElement("button"),((n={type:"button",className:l})[r?"innerHTML":"innerText"]=x,n));_.setAttribute("aria-label","".concat(x,": '").concat(p,"'")),_.dataset.button="",w.appendChild(_)}return w},choiceList:function(e,t){var i=e.classNames.list,s=Object.assign(document.createElement("div"),{className:i});return t||s.setAttribute("aria-multiselectable","true"),s.setAttribute("role","listbox"),s},choiceGroup:function(e,t){var i,s=e.allowHTML,n=e.classNames,r=n.group,a=n.groupHeading,o=n.itemDisabled,l=t.id,c=t.value,h=t.disabled,u=Object.assign(document.createElement("div"),{className:"".concat(r," ").concat(h?o:"")});return u.setAttribute("role","group"),Object.assign(u.dataset,{group:"",id:l,value:c}),h&&u.setAttribute("aria-disabled","true"),u.appendChild(Object.assign(document.createElement("div"),((i={className:a})[s?"innerHTML":"innerText"]=c,i))),u},choice:function(e,t,i){var s,n=e.allowHTML,r=e.classNames,a=r.item,o=r.itemChoice,l=r.itemSelectable,c=r.selectedState,h=r.itemDisabled,u=r.placeholder,d=t.id,p=t.value,f=t.label,m=t.groupId,g=t.elementId,v=t.disabled,y=t.selected,b=t.placeholder,w=Object.assign(document.createElement("div"),((s={id:g})[n?"innerHTML":"innerText"]=f,s.className="".concat(a," ").concat(o),s));return y&&w.classList.add(c),b&&w.classList.add(u),w.setAttribute("role",m&&m>0?"treeitem":"option"),Object.assign(w.dataset,{choice:"",id:d,value:p,selectText:i}),v?(w.classList.add(h),w.dataset.choiceDisabled="",w.setAttribute("aria-disabled","true")):(w.classList.add(l),w.dataset.choiceSelectable=""),w},input:function(e,t){var i=e.classNames,s=i.input,n=i.inputCloned,r=Object.assign(document.createElement("input"),{type:"search",name:"search_terms",className:"".concat(s," ").concat(n),autocomplete:"off",autocapitalize:"off",spellcheck:!1});return r.setAttribute("role","textbox"),r.setAttribute("aria-autocomplete","list"),r.setAttribute("aria-label",t),r},dropdown:function(e){var t=e.classNames,i=t.list,s=t.listDropdown,n=document.createElement("div");return n.classList.add(i,s),n.setAttribute("aria-expanded","false"),n},notice:function(e,t,i){var s,n=e.allowHTML,r=e.classNames,a=r.item,o=r.itemChoice,l=r.noResults,c=r.noChoices;void 0===i&&(i="");var h=[a,o];return"no-choices"===i?h.push(c):"no-results"===i&&h.push(l),Object.assign(document.createElement("div"),((s={})[n?"innerHTML":"innerText"]=t,s.className=h.join(" "),s))},option:function(e){var t=e.label,i=e.value,s=e.customProperties,n=e.active,r=e.disabled,a=new Option(t,i,!1,n);return s&&(a.dataset.customProperties="".concat(s)),a.disabled=!!r,a}};t.default=i},996:function(e){var t=function(e){return function(e){return!!e&&"object"==typeof e}(e)&&!function(e){var t=Object.prototype.toString.call(e);return"[object RegExp]"===t||"[object Date]"===t||function(e){return e.$$typeof===i}(e)}(e)},i="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function s(e,t){return!1!==t.clone&&t.isMergeableObject(e)?o((i=e,Array.isArray(i)?[]:{}),e,t):e;var i}function n(e,t,i){return e.concat(t).map(function(e){return s(e,i)})}function r(e){return Object.keys(e).concat(function(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter(function(t){return e.propertyIsEnumerable(t)}):[]}(e))}function a(e,t){try{return t in e}catch(e){return!1}}function o(e,i,l){(l=l||{}).arrayMerge=l.arrayMerge||n,l.isMergeableObject=l.isMergeableObject||t,l.cloneUnlessOtherwiseSpecified=s;var c=Array.isArray(i);return c===Array.isArray(e)?c?l.arrayMerge(e,i,l):function(e,t,i){var n={};return i.isMergeableObject(e)&&r(e).forEach(function(t){n[t]=s(e[t],i)}),r(t).forEach(function(r){(function(e,t){return a(e,t)&&!(Object.hasOwnProperty.call(e,t)&&Object.propertyIsEnumerable.call(e,t))})(e,r)||(a(e,r)&&i.isMergeableObject(t[r])?n[r]=function(e,t){if(!t.customMerge)return o;var i=t.customMerge(e);return"function"==typeof i?i:o}(r,i)(e[r],t[r],i):n[r]=s(t[r],i))}),n}(e,i,l):s(i,l)}o.all=function(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce(function(e,i){return o(e,i,t)},{})};var l=o;e.exports=l},221:function(e,t,i){function s(e){return Array.isArray?Array.isArray(e):"[object Array]"===c(e)}function n(e){return"string"==typeof e}function r(e){return"number"==typeof e}function a(e){return"object"==typeof e}function o(e){return null!=e}function l(e){return!e.trim().length}function c(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}i.r(t),i.d(t,{default:function(){return j}});const h=Object.prototype.hasOwnProperty;class u{constructor(e){this._keys=[],this._keyMap={};let t=0;e.forEach(e=>{let i=d(e);t+=i.weight,this._keys.push(i),this._keyMap[i.id]=i,t+=i.weight}),this._keys.forEach(e=>{e.weight/=t})}get(e){return this._keyMap[e]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function d(e){let t=null,i=null,r=null,a=1;if(n(e)||s(e))r=e,t=p(e),i=f(e);else{if(!h.call(e,"name"))throw new Error("Missing name property in key");const s=e.name;if(r=s,h.call(e,"weight")&&(a=e.weight)<=0)throw new Error((e=>`Property 'weight' in key '${e}' must be a positive integer`)(s));t=p(s),i=f(s)}return{path:t,id:i,weight:a,src:r}}function p(e){return s(e)?e:e.split(".")}function f(e){return s(e)?e.join("."):e}var m={isCaseSensitive:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(e,t)=>e.score===t.score?e.idx<t.idx?-1:1:e.score<t.score?-1:1,includeMatches:!1,findAllMatches:!1,minMatchCharLength:1,location:0,threshold:.6,distance:100,useExtendedSearch:!1,getFn:function(e,t){let i=[],l=!1;const h=(e,t,u)=>{if(o(e))if(t[u]){const d=e[t[u]];if(!o(d))return;if(u===t.length-1&&(n(d)||r(d)||function(e){return!0===e||!1===e||function(e){return a(e)&&null!==e}(e)&&"[object Boolean]"==c(e)}(d)))i.push(function(e){return null==d?"":function(e){if("string"==typeof e)return e;let t=e+"";return"0"==t&&1/e==-1/0?"-0":t}(d)}());else if(s(d)){l=!0;for(let e=0,i=d.length;e<i;e+=1)h(d[e],t,u+1)}else t.length&&h(d,t,u+1)}else i.push(e)};return h(e,n(t)?t.split("."):t,0),l?i:i[0]},ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1};const g=/[^ ]+/g;class v{constructor({getFn:e=m.getFn,fieldNormWeight:t=m.fieldNormWeight}={}){this.norm=function(e=1,t=3){const i=new Map,s=Math.pow(10,t);return{get(t){const n=t.match(g).length;if(i.has(n))return i.get(n);const r=1/Math.pow(n,.5*e),a=parseFloat(Math.round(r*s)/s);return i.set(n,a),a},clear(){i.clear()}}}(t,3),this.getFn=e,this.isCreated=!1,this.setIndexRecords()}setSources(e=[]){this.docs=e}setIndexRecords(e=[]){this.records=e}setKeys(e=[]){this.keys=e,this._keysMap={},e.forEach((e,t)=>{this._keysMap[e.id]=t})}create(){!this.isCreated&&this.docs.length&&(this.isCreated=!0,n(this.docs[0])?this.docs.forEach((e,t)=>{this._addString(e,t)}):this.docs.forEach((e,t)=>{this._addObject(e,t)}),this.norm.clear())}add(e){const t=this.size();n(e)?this._addString(e,t):this._addObject(e,t)}removeAt(e){this.records.splice(e,1);for(let t=e,i=this.size();t<i;t+=1)this.records[t].i-=1}getValueForItemAtKeyId(e,t){return e[this._keysMap[t]]}size(){return this.records.length}_addString(e,t){if(!o(e)||l(e))return;let i={v:e,i:t,n:this.norm.get(e)};this.records.push(i)}_addObject(e,t){let i={i:t,$:{}};this.keys.forEach((t,r)=>{let a=this.getFn(e,t.path);if(o(a))if(s(a)){let e=[];const t=[{nestedArrIndex:-1,value:a}];for(;t.length;){const{nestedArrIndex:i,value:r}=t.pop();if(o(r))if(n(r)&&!l(r)){let t={v:r,i:i,n:this.norm.get(r)};e.push(t)}else s(r)&&r.forEach((e,i)=>{t.push({nestedArrIndex:i,value:e})})}i.$[r]=e}else if(!l(a)){let e={v:a,n:this.norm.get(a)};i.$[r]=e}}),this.records.push(i)}toJSON(){return{keys:this.keys,records:this.records}}}function y(e,t,{getFn:i=m.getFn,fieldNormWeight:s=m.fieldNormWeight}={}){const n=new v({getFn:i,fieldNormWeight:s});return n.setKeys(e.map(d)),n.setSources(t),n.create(),n}function b(e,{errors:t=0,currentLocation:i=0,expectedLocation:s=0,distance:n=m.distance,ignoreLocation:r=m.ignoreLocation}={}){const a=t/e.length;if(r)return a;const o=Math.abs(s-i);return n?a+o/n:o?1:a}const w=32;function x(e){let t={};for(let i=0,s=e.length;i<s;i+=1){const n=e.charAt(i);t[n]=(t[n]||0)|1<<s-i-1}return t}class _{constructor(e,{location:t=m.location,threshold:i=m.threshold,distance:s=m.distance,includeMatches:n=m.includeMatches,findAllMatches:r=m.findAllMatches,minMatchCharLength:a=m.minMatchCharLength,isCaseSensitive:o=m.isCaseSensitive,ignoreLocation:l=m.ignoreLocation}={}){if(this.options={location:t,threshold:i,distance:s,includeMatches:n,findAllMatches:r,minMatchCharLength:a,isCaseSensitive:o,ignoreLocation:l},this.pattern=o?e:e.toLowerCase(),this.chunks=[],!this.pattern.length)return;const c=(e,t)=>{this.chunks.push({pattern:e,alphabet:x(e),startIndex:t})},h=this.pattern.length;if(h>w){let e=0;const t=h%w,i=h-t;for(;e<i;)c(this.pattern.substr(e,w),e),e+=w;if(t){const e=h-w;c(this.pattern.substr(e),e)}}else c(this.pattern,0)}searchIn(e){const{isCaseSensitive:t,includeMatches:i}=this.options;if(t||(e=e.toLowerCase()),this.pattern===e){let t={isMatch:!0,score:0};return i&&(t.indices=[[0,e.length-1]]),t}const{location:s,distance:n,threshold:r,findAllMatches:a,minMatchCharLength:o,ignoreLocation:l}=this.options;let c=[],h=0,u=!1;this.chunks.forEach(({pattern:t,alphabet:d,startIndex:p})=>{const{isMatch:f,score:g,indices:v}=function(e,t,i,{location:s=m.location,distance:n=m.distance,threshold:r=m.threshold,findAllMatches:a=m.findAllMatches,minMatchCharLength:o=m.minMatchCharLength,includeMatches:l=m.includeMatches,ignoreLocation:c=m.ignoreLocation}={}){if(t.length>w)throw new Error("Pattern length exceeds max of 32.");const h=t.length,u=e.length,d=Math.max(0,Math.min(s,u));let p=r,f=d;const g=o>1||l,v=g?Array(u):[];let y;for(;(y=e.indexOf(t,f))>-1;){let e=b(t,{currentLocation:y,expectedLocation:d,distance:n,ignoreLocation:c});if(p=Math.min(e,p),f=y+h,g){let e=0;for(;e<h;)v[y+e]=1,e+=1}}f=-1;let x=[],_=1,k=h+u;const E=1<<h-1;for(let s=0;s<h;s+=1){let r=0,o=k;for(;r<o;)b(t,{errors:s,currentLocation:d+o,expectedLocation:d,distance:n,ignoreLocation:c})<=p?r=o:k=o,o=Math.floor((k-r)/2+r);k=o;let l=Math.max(1,d-o+1),m=a?u:Math.min(d+o,u)+h,y=Array(m+2);y[m+1]=(1<<s)-1;for(let r=m;r>=l;r-=1){let a=r-1,o=i[e.charAt(a)];if(g&&(v[a]=+!!o),y[r]=(y[r+1]<<1|1)&o,s&&(y[r]|=(x[r+1]|x[r])<<1|1|x[r+1]),y[r]&E&&(_=b(t,{errors:s,currentLocation:a,expectedLocation:d,distance:n,ignoreLocation:c}))<=p){if(p=_,(f=a)<=d)break;l=Math.max(1,2*d-f)}}if(b(t,{errors:s+1,currentLocation:d,expectedLocation:d,distance:n,ignoreLocation:c})>p)break;x=y}const S={isMatch:f>=0,score:Math.max(.001,_)};if(g){const e=function(e=[],t=m.minMatchCharLength){let i=[],s=-1,n=-1,r=0;for(let a=e.length;r<a;r+=1){let a=e[r];a&&-1===s?s=r:a||-1===s||((n=r-1)-s+1>=t&&i.push([s,n]),s=-1)}return e[r-1]&&r-s>=t&&i.push([s,r-1]),i}(v,o);e.length?l&&(S.indices=e):S.isMatch=!1}return S}(e,t,d,{location:s+p,distance:n,threshold:r,findAllMatches:a,minMatchCharLength:o,includeMatches:i,ignoreLocation:l});f&&(u=!0),h+=g,f&&v&&(c=[...c,...v])});let d={isMatch:u,score:u?h/this.chunks.length:1};return u&&i&&(d.indices=c),d}}class k{constructor(e){this.pattern=e}static isMultiMatch(e){return E(e,this.multiRegex)}static isSingleMatch(e){return E(e,this.singleRegex)}search(){}}function E(e,t){const i=e.match(t);return i?i[1]:null}class S extends k{constructor(e,{location:t=m.location,threshold:i=m.threshold,distance:s=m.distance,includeMatches:n=m.includeMatches,findAllMatches:r=m.findAllMatches,minMatchCharLength:a=m.minMatchCharLength,isCaseSensitive:o=m.isCaseSensitive,ignoreLocation:l=m.ignoreLocation}={}){super(e),this._bitapSearch=new _(e,{location:t,threshold:i,distance:s,includeMatches:n,findAllMatches:r,minMatchCharLength:a,isCaseSensitive:o,ignoreLocation:l})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(e){return this._bitapSearch.searchIn(e)}}class C extends k{constructor(e){super(e)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(e){let t,i=0;const s=[],n=this.pattern.length;for(;(t=e.indexOf(this.pattern,i))>-1;)i=t+n,s.push([t,i-1]);const r=!!s.length;return{isMatch:r,score:r?0:1,indices:s}}}const T=[class extends k{constructor(e){super(e)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(e){const t=e===this.pattern;return{isMatch:t,score:t?0:1,indices:[0,this.pattern.length-1]}}},C,class extends k{constructor(e){super(e)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(e){const t=e.startsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,this.pattern.length-1]}}},class extends k{constructor(e){super(e)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(e){const t=!e.startsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}},class extends k{constructor(e){super(e)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(e){const t=!e.endsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}},class extends k{constructor(e){super(e)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(e){const t=e.endsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[e.length-this.pattern.length,e.length-1]}}},class extends k{constructor(e){super(e)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(e){const t=-1===e.indexOf(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}},S],M=T.length,P=/ +(?=([^\"]*\"[^\"]*\")*[^\"]*$)/,A=new Set([S.type,C.type]),O=[];function D(e,t){for(let i=0,s=O.length;i<s;i+=1){let s=O[i];if(s.condition(e,t))return new s(e,t)}return new _(e,t)}const L="$and",I=e=>!(!e.$and&&!e.$or),$=e=>({[L]:Object.keys(e).map(t=>({[t]:e[t]}))});function F(e,t,{auto:i=!0}={}){const r=e=>{let o=Object.keys(e);const l=(e=>!!e.$path)(e);if(!l&&o.length>1&&!I(e))return r($(e));if((e=>!s(e)&&a(e)&&!I(e))(e)){const s=l?e.$path:o[0],r=l?e.$val:e[s];if(!n(r))throw new Error((e=>`Invalid value for key ${e}`)(s));const a={keyId:f(s),pattern:r};return i&&(a.searcher=D(r,t)),a}let c={children:[],operator:o[0]};return o.forEach(t=>{const i=e[t];s(i)&&i.forEach(e=>{c.children.push(r(e))})}),c};return I(e)||(e=$(e)),r(e)}function N(e,t){const i=e.matches;t.matches=[],o(i)&&i.forEach(e=>{if(!o(e.indices)||!e.indices.length)return;const{indices:i,value:s}=e;let n={indices:i,value:s};e.key&&(n.key=e.key.src),e.idx>-1&&(n.refIndex=e.idx),t.matches.push(n)})}function R(e,t){t.score=e.score}class j{constructor(e,t={},i){this.options={...m,...t},this.options.useExtendedSearch,this._keyStore=new u(this.options.keys),this.setCollection(e,i)}setCollection(e,t){if(this._docs=e,t&&!(t instanceof v))throw new Error("Incorrect 'index' type");this._myIndex=t||y(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(e){o(e)&&(this._docs.push(e),this._myIndex.add(e))}remove(e=(()=>!1)){const t=[];for(let i=0,s=this._docs.length;i<s;i+=1){const n=this._docs[i];e(n,i)&&(this.removeAt(i),i-=1,s-=1,t.push(n))}return t}removeAt(e){this._docs.splice(e,1),this._myIndex.removeAt(e)}getIndex(){return this._myIndex}search(e,{limit:t=-1}={}){const{includeMatches:i,includeScore:s,shouldSort:a,sortFn:o,ignoreFieldNorm:l}=this.options;let c=n(e)?n(this._docs[0])?this._searchStringList(e):this._searchObjectList(e):this._searchLogical(e);return function(e,{ignoreFieldNorm:t=m.ignoreFieldNorm}){e.forEach(e=>{let i=1;e.matches.forEach(({key:e,norm:s,score:n})=>{const r=e?e.weight:null;i*=Math.pow(0===n&&r?Number.EPSILON:n,(r||1)*(t?1:s))}),e.score=i})}(c,{ignoreFieldNorm:l}),a&&c.sort(o),r(t)&&t>-1&&(c=c.slice(0,t)),function(e,t,{includeMatches:i=m.includeMatches,includeScore:s=m.includeScore}={}){const n=[];return i&&n.push(N),s&&n.push(R),e.map(e=>{const{idx:i}=e,s={item:t[i],refIndex:i};return n.length&&n.forEach(t=>{t(e,s)}),s})}(c,this._docs,{includeMatches:i,includeScore:s})}_searchStringList(e){const t=D(e,this.options),{records:i}=this._myIndex,s=[];return i.forEach(({v:e,i:i,n:n})=>{if(!o(e))return;const{isMatch:r,score:a,indices:l}=t.searchIn(e);r&&s.push({item:e,idx:i,matches:[{score:a,value:e,norm:n,indices:l}]})}),s}_searchLogical(e){const t=F(e,this.options),i=(e,t,s)=>{if(!e.children){const{keyId:i,searcher:n}=e,r=this._findMatches({key:this._keyStore.get(i),value:this._myIndex.getValueForItemAtKeyId(t,i),searcher:n});return r&&r.length?[{idx:s,item:t,matches:r}]:[]}const n=[];for(let r=0,a=e.children.length;r<a;r+=1){const a=e.children[r],o=i(a,t,s);if(o.length)n.push(...o);else if(e.operator===L)return[]}return n},s=this._myIndex.records,n={},r=[];return s.forEach(({$:e,i:s})=>{if(o(e)){let a=i(t,e,s);a.length&&(n[s]||(n[s]={idx:s,item:e,matches:[]},r.push(n[s])),a.forEach(({matches:e})=>{n[s].matches.push(...e)}))}}),r}_searchObjectList(e){const t=D(e,this.options),{keys:i,records:s}=this._myIndex,n=[];return s.forEach(({$:e,i:s})=>{if(!o(e))return;let r=[];i.forEach((i,s)=>{r.push(...this._findMatches({key:i,value:e[s],searcher:t}))}),r.length&&n.push({idx:s,item:e,matches:r})}),n}_findMatches({key:e,value:t,searcher:i}){if(!o(t))return[];let n=[];if(s(t))t.forEach(({v:t,i:s,n:r})=>{if(!o(t))return;const{isMatch:a,score:l,indices:c}=i.searchIn(t);a&&n.push({score:l,key:e,value:t,idx:s,norm:r,indices:c})});else{const{v:s,n:r}=t,{isMatch:a,score:o,indices:l}=i.searchIn(s);a&&n.push({score:o,key:e,value:s,norm:r,indices:l})}return n}}j.version="6.5.3",j.createIndex=y,j.parseIndex=function(e,{getFn:t=m.getFn,fieldNormWeight:i=m.fieldNormWeight}={}){const{keys:s,records:n}=e,r=new v({getFn:t,fieldNormWeight:i});return r.setKeys(s),r.setIndexRecords(n),r},j.config=m,j.parseQuery=F,function(...e){O.push(...e)}(class{constructor(e,{isCaseSensitive:t=m.isCaseSensitive,includeMatches:i=m.includeMatches,minMatchCharLength:s=m.minMatchCharLength,ignoreLocation:n=m.ignoreLocation,findAllMatches:r=m.findAllMatches,location:a=m.location,threshold:o=m.threshold,distance:l=m.distance}={}){this.query=null,this.options={isCaseSensitive:t,includeMatches:i,minMatchCharLength:s,findAllMatches:r,ignoreLocation:n,location:a,threshold:o,distance:l},this.pattern=t?e:e.toLowerCase(),this.query=function(e,t={}){return e.split("|").map(e=>{let i=e.trim().split(P).filter(e=>e&&!!e.trim()),s=[];for(let e=0,n=i.length;e<n;e+=1){const n=i[e];let r=!1,a=-1;for(;!r&&++a<M;){const e=T[a];let i=e.isMultiMatch(n);i&&(s.push(new e(i,t)),r=!0)}if(!r)for(a=-1;++a<M;){const e=T[a];let i=e.isSingleMatch(n);if(i){s.push(new e(i,t));break}}}return s})}(this.pattern,this.options)}static condition(e,t){return t.useExtendedSearch}searchIn(e){const t=this.query;if(!t)return{isMatch:!1,score:1};const{includeMatches:i,isCaseSensitive:s}=this.options;e=s?e:e.toLowerCase();let n=0,r=[],a=0;for(let s=0,o=t.length;s<o;s+=1){const o=t[s];r.length=0,n=0;for(let t=0,s=o.length;t<s;t+=1){const s=o[t],{isMatch:l,indices:c,score:h}=s.search(e);if(!l){a=0,n=0,r.length=0;break}if(n+=1,a+=h,i){const e=s.constructor.type;A.has(e)?r=[...r,...c]:r.push(c)}}if(n){let e={isMatch:!0,score:a/n};return i&&(e.indices=r),e}}return{isMatch:!1,score:1}}})},857:function(e,t,i){function s(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function n(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),i.push.apply(i,s)}return i}function r(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?n(Object(i),!0).forEach(function(t){s(e,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):n(Object(i)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))})}return e}function a(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}i.r(t),i.d(t,{__DO_NOT_USE__ActionTypes:function(){return c},applyMiddleware:function(){return m},bindActionCreators:function(){return p},combineReducers:function(){return u},compose:function(){return f},createStore:function(){return h}});var o="function"==typeof Symbol&&Symbol.observable||"@@observable",l=function(){return Math.random().toString(36).substring(7).split("").join(".")},c={INIT:"@@redux/INIT"+l(),REPLACE:"@@redux/REPLACE"+l(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+l()}};function h(e,t,i){var s;if("function"==typeof t&&"function"==typeof i||"function"==typeof i&&"function"==typeof arguments[3])throw new Error(a(0));if("function"==typeof t&&void 0===i&&(i=t,t=void 0),void 0!==i){if("function"!=typeof i)throw new Error(a(1));return i(h)(e,t)}if("function"!=typeof e)throw new Error(a(2));var n=e,r=t,l=[],u=l,d=!1;function p(){u===l&&(u=l.slice())}function f(){if(d)throw new Error(a(3));return r}function m(e){if("function"!=typeof e)throw new Error(a(4));if(d)throw new Error(a(5));var t=!0;return p(),u.push(e),function(){if(t){if(d)throw new Error(a(6));t=!1,p();var i=u.indexOf(e);u.splice(i,1),l=null}}}function g(e){if(!function(e){if("object"!=typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}(e))throw new Error(a(7));if(void 0===e.type)throw new Error(a(8));if(d)throw new Error(a(9));try{d=!0,r=n(r,e)}finally{d=!1}for(var t=l=u,i=0;i<t.length;i++)(0,t[i])();return e}return g({type:c.INIT}),(s={dispatch:g,subscribe:m,getState:f,replaceReducer:function(e){if("function"!=typeof e)throw new Error(a(10));n=e,g({type:c.REPLACE})}})[o]=function(){var e,t=m;return(e={subscribe:function(e){if("object"!=typeof e||null===e)throw new Error(a(11));function i(){e.next&&e.next(f())}return i(),{unsubscribe:t(i)}}})[o]=function(){return this},e},s}function u(e){for(var t=Object.keys(e),i={},s=0;s<t.length;s++){var n=t[s];"function"==typeof e[n]&&(i[n]=e[n])}var r,o=Object.keys(i);try{!function(e){Object.keys(e).forEach(function(t){var i=e[t];if(void 0===i(void 0,{type:c.INIT}))throw new Error(a(12));if(void 0===i(void 0,{type:c.PROBE_UNKNOWN_ACTION()}))throw new Error(a(13))})}(i)}catch(e){r=e}return function(e,t){if(void 0===e&&(e={}),r)throw r;for(var s=!1,n={},l=0;l<o.length;l++){var c=o[l],h=i[c],u=e[c],d=h(u,t);if(void 0===d)throw t&&t.type,new Error(a(14));n[c]=d,s=s||d!==u}return(s=s||o.length!==Object.keys(e).length)?n:e}}function d(e,t){return function(){return t(e.apply(this,arguments))}}function p(e,t){if("function"==typeof e)return d(e,t);if("object"!=typeof e||null===e)throw new Error(a(16));var i={};for(var s in e){var n=e[s];"function"==typeof n&&(i[s]=d(n,t))}return i}function f(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce(function(e,t){return function(){return e(t.apply(void 0,arguments))}})}function m(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return function(e){return function(){var i=e.apply(void 0,arguments),s=function(){throw new Error(a(15))},n={getState:i.getState,dispatch:function(){return s.apply(void 0,arguments)}},o=t.map(function(e){return e(n)});return s=f.apply(void 0,o)(i.dispatch),r(r({},i),{},{dispatch:s})}}}}},t={};function i(s){var n=t[s];if(void 0!==n)return n.exports;var r=t[s]={exports:{}};return e[s].call(r.exports,r,r.exports,i),r.exports}i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,{a:t}),t},i.d=function(e,t){for(var s in t)i.o(t,s)&&!i.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var s,n,r={};s=i(373),n=i.n(s),i(187),i(883),i(789),i(686),r.default=n(),window.Choices=r.default}();